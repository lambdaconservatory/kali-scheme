%!PS-Adobe-2.0
%%Creator: dvips 5.521 Copyright 1986, 1993 Radical Eye Software
%%CreationDate: Mon Jan 31 01:46:49 1994
%%Pages: 24
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%EndComments
%DVIPSCommandLine: dvips -f
%DVIPSSource:  TeX output 1994.01.31:0146
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR matrix currentmatrix dup dup 4 get round 4 exch put dup dup 5 get
round 5 exch put setmatrix}N /@landscape{/isls true N}B /@manualfeed{
statusdict /manualfeed true put}B /@copies{/#copies X}B /FMat[1 0 0 -1 0
0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{/nn 8 dict N nn
begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N string /base X
array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N end dup{/foo
setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{/sf 1 N /fntrx
FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]N df-tail}B /E{
pop nn dup definefont setfont}B /ch-width{ch-data dup length 5 sub get}
B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{128 ch-data dup
length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub get 127 sub}B
/ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data dup type
/stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N /rc 0 N /gp
0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup /base get 2
index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx 0 ch-xoff
ch-yoff ch-height sub ch-xoff ch-width add ch-yoff setcachedevice
ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff .1 add]{
ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}if nn
/base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup length 1
sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{cc 1 add D
}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin 0 0
moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul add
.99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore showpage
userdict /eop-hook known{eop-hook}if}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 -.1 TR 1 1 scale rulex ruley
false RMat{BDot}imagemask grestore}}{{gsave TR -.1 -.1 TR rulex ruley
scale 1 1 false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave
transform round exch round exch itransform moveto rulex 0 rlineto 0
ruley neg rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta
0 N /tail{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}
B /c{-4 M}B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{
3 M}B /k{4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p
-1 w}B /q{p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{
3 2 roll p a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 300 300 () @start
/Fa 48 122 df<1C3E7E7E3A0202040408081020C0070E7D840D>44
D<FFC0FFC00A027D8A0F>I<3078F8787005057C840D>I<007E0001C3000301800701C00E
00C00E00E01C00E01C00E03C01E03801E07801E07801E07801E07801E07801E0F003C0F0
03C0F003C0F003C0F003C0F00380F00780E00780E00700E00700E00E00600E00701C0030
38003870000FC000131F7C9D17>48 D<000C001C00FC0F38003800380038003800380070
0070007000700070007000E000E000E000E000E000E001C001C001C001C001C001C00380
03C0FFFE0F1E7C9D17>I<003F8000C1E00100F00200780400780400780F007C0F807C0F
807C0F00780600780000F80000F00001E00001C0000380000700000E00001C0000380000
600000C0000180000300200600200800401000403FFFC07FFF80FFFF80161E7E9D17>I<
0000600000600000E00001C00003C00005C0000DC00009C00011C000238000438000C380
008380010380020380040700080700180700100700200700400700FFFFF0000E00000E00
000E00000E00000E00001C00001E0001FFE0141E7E9D17>52 D<000F8000704000C02001
80E00301E00701E00E00C01E00001C00003C000038000078F800790E007A07007C0300F8
0380F80380F003C0F003C0F003C0F003C0F00780E00780E00780E00700E00F00600E0070
1C0030180018700007C000131F7C9D17>54 D<003F0000C1C00100600200600400300C00
300C00300C00300C00600E00600F80C00FC18007F60003FC0001FC0001FF00063F800C0F
801007C03003C06001C06000C0C000C0C000C0C000C0C00080C001006003003004001818
0007E000141F7D9D17>56 D<007E0001C3000301800601C00E01C01C00C03C00E03C00E0
3C01E07801E07801E07801E07801E07803E07803E03803C03807C01C0BC00C13C003E380
000780000780000700000E00600E00F01C00F01800E0300080600041C0003F0000131F7C
9D17>I<0E1F1F1E0C000000000000000000003078F8787008147C930D>I<000010000000
1800000038000000380000007800000078000000FC000001BC0000013C0000033C000002
3C0000063C0000043E0000081E0000081E0000101E0000101E0000201E0000200F000040
0F0000400F0000FFFF0000800F0001000F80010007800200078002000780040007800400
07800C0007C03E0007C0FF807FFC1E207E9F22>65 D<0001F808000E0618003801380070
00F801E0007803C0007007800030078000300F0000301F0000301E0000303E0000203C00
00007C0000007C0000007C0000007C000000F8000000F8000000F8000000F8000000F800
00007800004078000080780000803C0000803C0001001C0002000E00020006000C000300
100001C0E000003F00001D217B9F21>67 D<07FFFF00007C01E0003C00F0003C00780078
003C0078003C0078001E0078001E0078001E0078001F00F0001F00F0001F00F0001F00F0
001F00F0001F00F0001F01E0001E01E0003E01E0003E01E0003E01E0003C01E0007C03C0
007803C000F003C000F003C001E003C003C003C0078007800F0007803C00FFFFE000201F
7E9E23>I<07FFFFF8007C0078003C0038003C0018007800180078000800780008007800
08007800080078080800F0100000F0100000F0100000F0300000FFF00000F0700001E020
0001E0200001E0200001E0200001E0000801E0001003C0001003C0001003C0002003C000
2003C0006003C000C0078001C0078007C0FFFFFF801D1F7E9E1F>I<07FFFFF8007C0078
003C0038003C001800780018007800080078000800780008007800080078000800F01000
00F0100000F0100000F0300000F0700000FFF00001E0600001E0200001E0200001E02000
01E0200001E0000003C0000003C0000003C0000003C0000003C0000003C0000007800000
07C00000FFFE00001D1F7E9E1E>I<07FFE0007C00003C00003C00007800007800007800
00780000780000780000F00000F00000F00000F00000F00000F00001E00001E00001E000
01E00001E00001E00003C00003C00003C00003C00003C00003C00007800007C000FFFC00
131F7F9E10>73 D<07FFF000007E0000003C0000003C0000007800000078000000780000
00780000007800000078000000F0000000F0000000F0000000F0000000F0000000F00000
01E0000001E0000001E0000001E0000001E0008001E0010003C0010003C0010003C00300
03C0020003C0060003C0060007801E0007807C00FFFFFC00191F7E9E1C>76
D<07FC0000FFC0007C0000F800003C00017800003C00017800004E0002F000004E0002F0
00004E0004F000004E0004F000004E0008F000004E0008F00000870011E00000870011E0
0000870021E00000870021E00000870041E00000838041E00001038083C00001038083C0
0001038103C00001038203C0000101C203C0000101C403C0000201C40780000201C80780
000201C80780000201D00780000200F00780000600E00780000600E00F00000F00C00F80
00FFE0C1FFF8002A1F7E9E2A>I<07FC01FFC0003E003E00003E001800003E001800004F
001000004F001000004780100000478010000043C010000043C010000083C020000081E0
20000081E020000080F020000080F020000080782000010078400001007C400001003C40
0001003C400001001E400001001E400002000F800002000F800002000F80000200078000
0200078000060003800006000300000F00010000FFE0010000221F7E9E22>I<0003F800
001E0E000038070000E0038001C001C003C001E0078000E00F0000F00F0000F01E0000F0
1E0000F83E0000F83C0000F87C0000F87C0000F87C0000F87C0000F8F80001F0F80001F0
F80001F0F80001F0F80003E0780003E0780003C0780007C07C0007803C000F003C001E00
1E001C000E0038000700F00003C3C00000FE00001D217B9F23>I<07FFFF00007C03C000
3C01E0003C00F0007800F0007800F8007800F8007800F8007800F8007800F000F001F000
F001E000F003C000F0078000F00F0000FFF80001E0000001E0000001E0000001E0000001
E0000001E0000003C0000003C0000003C0000003C0000003C0000003C000000780000007
C00000FFFC00001D1F7E9E1F>I<07FFFC00007C0700003C03C0003C01E0007801E00078
01F0007801F0007801F0007801F0007801E000F003E000F003C000F0078000F00F0000F0
3C0000FFF00001E0300001E0380001E01C0001E01C0001E01C0001E01E0003C03E0003C0
3E0003C03E0003C03E0003C03E0003C03E0207803E0407C01F04FFFC0F18000003E01F20
7E9E21>82 D<003F040060CC01803C03801C03001C0700180600080E00080E00080E0008
0E00000F00000F80000FE00007FE0003FF8001FFC0007FE00007E00001E00000E00000F0
0000F04000E04000E04000E04000E06000C0600180E00380F80300C60C0081F80016217D
9F19>I<3FFFFFF03C0780F03007803060078030400F0010400F0010C00F0010800F0010
800F0010800F0010001E0000001E0000001E0000001E0000001E0000001E0000003C0000
003C0000003C0000003C0000003C0000003C000000780000007800000078000000780000
007800000078000000F0000001F800007FFFE0001C1F7A9E21>I<07F8000C0C001E0600
1E07001C070000070000070000070000FF0007C7001E07003C0E00780E00F00E10F00E10
F00E10F01E10F02E20784F401F878014147D9317>97 D<0700003F00000F000007000007
00000E00000E00000E00000E00000E00000E00001C00001C7C001D87001E03801C01C01C
01C03801C03801E03801E03801E03801E03801E07003C07003C070038070078070070070
0E00E81C00C4380083E00013207B9F19>I<01FC07060E0F1C0F380E78007000F000F000
F000F000E000E000E000E000F0027004300818300FC010147C9314>I<0000700003F000
00F00000700000700000E00000E00000E00000E00000E00000E00001C000F9C00305C00E
03C01C03C03801C0780380700380F00380F00380F00380F00380E00700E00700E00700E0
0700E00700700F00301E00186F000F8FE014207C9F19>I<00F800070E000E07001C0700
380380780380700380F00380F00380FFFF80F00000E00000E00000E00000E00000F00100
7002003004001C180007E00011147D9314>I<0007800018C00031E00061E000E1C000C0
0001C00001C00001C00001C00001C0000380007FF8000380000380000380000380000700
000700000700000700000700000700000E00000E00000E00000E00000E00000E00001C00
001E0000FFE00013207E9F0E>I<00000E003E1100E1A301C1C20381E00780E00701E00F
01E00F01E00F01E00703C007038007870004FC000800000800001800001C00000FFF000F
FFC007FFE01800F0300030600030C00030C00030C000306000603000C01C070007FC0018
1F809417>I<00E00007E00001E00000E00000E00001C00001C00001C00001C00001C000
01C000038000038F800390E003A0E003C0600380600780E00700E00700E00700E00700E0
0700E00E01C00E01C00E01C00E01C00E01C00E01C01C03801E03C0FFCFF815207E9F19>
I<01C003E003E003C0018000000000000000000000000003801F80078003800380070007
0007000700070007000E000E000E000E000E000E001C001E00FF800B1F7F9E0C>I<0003
800007C00007C0000780000300000000000000000000000000000000000000000700007F
00000F00000700000700000E00000E00000E00000E00000E00000E00001C00001C00001C
00001C00001C00001C00003800003800003800003800003800003800007000607000F060
00F0C0006180003F00001228839E0E>I<00E00007E00001E00000E00000E00001C00001
C00001C00001C00001C00001C0000380000383FC0380F00380C003818003810007040007
0800071800073800077C00071C000E1C000E0E000E0E000E0F000E07000E07801C03801E
07C0FF8FF016207E9F18>I<00E007E001E000E000E001C001C001C001C001C001C00380
038003800380038003800700070007000700070007000E000E000E000E000E000E001C00
1E00FFC00B207F9F0C>I<0387C07C001F9861860007A072070003C03403000380380300
0780780700070070070007007007000700700700070070070007007007000E00E00E000E
00E00E000E00E00E000E00E00E000E00E00E000E00E00E001C01C01C001E01E01E00FFCF
FCFFC022147E9326>I<038F801F90E007A0E003C0600380600780E00700E00700E00700
E00700E00700E00E01C00E01C00E01C00E01C00E01C00E01C01C03801E03C0FFCFF81514
7E9319>I<00FC000387000E01801C00C03800E03800E07000F0F000F0F000F0F000F0F0
00F0E001E0E001E0E001C0E003C0F00380700700380E001C1C0007E00014147D9317>I<
00E3E007EC3800F01C00E01E00E00E01C00E01C00F01C00F01C00F01C00F01C00F03801E
03801E03801C03803C0380380380700740E00721C0071F000700000700000700000E0000
0E00000E00000E00001E0000FFC000181D809319>I<00F040038CC00E04C01C03C03C03
C0780380780380F00380F00380F00380F00380E00700E00700E00700F00700F00F00700F
00301E00186E000F8E00000E00000E00000E00001C00001C00001C00001C00003C0001FF
80121D7C9318>I<038E001FB38007C78003C78003830007800007000007000007000007
00000700000E00000E00000E00000E00000E00000E00001C00001E0000FFE00011147E93
12>I<01F2060E080618061802380438001E001FE00FF003F8003C401C400C400C600C60
18E010D0608FC00F147E9312>I<0080010001000100030007000F001E00FFF80E000E00
0E000E001C001C001C001C001C001C00380038203820382038203840384018800F000D1C
7C9B12>I<1C0380FC1F803C07801C03801C038038070038070038070038070038070038
0700700E00700E00700E00700E00701E00701E00703C00305E001F9FC012147B9319>I<
FF83F81E00E01C00C01C00800E00800E01000E02000E02000F0400070400070800070800
07100003900003A00003E00003C00003800001800001000015147C9318>I<0FF83F8001
E00E0001C00C0001C0080000E0180000E0100000E0200000E0200000F040000070400000
708000007080000071000000390000003A0000003E0000003C0000003800000018000000
1000000010000000200000002000000040000070C00000F0800000F1000000E20000007C
000000191D809318>121 D E /Fb 1 53 df<00300030007000F001F001700270047008
701870107020704070C070FFFE0070007000700070007003FE0F157F9412>52
D E /Fc 35 123 df<387CFEFEFE7C3807077C860F>46 D<00E00001E0000FE000FFE000
F3E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E000
03E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E000FFFF80
FFFF80111D7C9C1A>49 D<07F0001FFE00383F007C1F80FE0FC0FE0FC0FE0FE0FE07E07C
07E03807E0000FE0000FC0000FC0001F80001F00003E0000780000F00000E00001C00003
80600700600E00601C00E01FFFC03FFFC07FFFC0FFFFC0FFFFC0131D7D9C1A>I<01FC00
07FF000E0F801E0FC03F07E03F07E03F07E03F07E01E0FC0000FC0000F80001F0001FC00
01FC00000F800007C00003E00003F00003F83803F87C03F8FE03F8FE03F8FE03F0FC03F0
7807E03C0FC01FFF8003FC00151D7E9C1A>I<0001C00003C00007C00007C0000FC0001F
C0003BC00073C00063C000C3C00183C00383C00703C00E03C00C03C01803C03803C07003
C0E003C0FFFFFEFFFFFE0007C00007C00007C00007C00007C00007C000FFFE00FFFE171D
7F9C1A>I<3803803FFF803FFF003FFE003FFC003FF0003F800030000030000030000030
000033F80037FE003C1F00380F801007C00007C00007E00007E07807E0FC07E0FC07E0FC
07E0FC07C0780FC0600F80381F001FFC0007F000131D7D9C1A>I<003F0001FFC007E0E0
0F81E01F03F01E03F03E03F07C03F07C01E07C0000FC1000FCFF00FDFFC0FD03E0FE01F0
FE01F0FC01F8FC01F8FC01F8FC01F87C01F87C01F87C01F83C01F03E01F01E03E00F07C0
07FF8001FE00151D7E9C1A>I<0000E000000000E000000001F000000001F000000001F0
00000003F800000003F800000006FC00000006FC0000000EFE0000000C7E0000000C7E00
0000183F000000183F000000303F800000301F800000701FC00000600FC00000600FC000
00C007E00000FFFFE00001FFFFF000018003F000018003F000030001F800030001F80006
0001FC00060000FC000E0000FE00FFE00FFFE0FFE00FFFE0231F7E9E28>65
D<FFFFFE00FFFFFFC007C007E007C003F007C001F807C001FC07C001FC07C001FC07C001
FC07C001FC07C001F807C003F807C007F007C00FE007FFFF8007FFFFC007C003F007C001
F807C001FC07C000FC07C000FE07C000FE07C000FE07C000FE07C000FE07C000FC07C001
FC07C003F807C007F0FFFFFFE0FFFFFF001F1F7E9E25>I<FFFFFE0000FFFFFFC00007E0
07F00007E001F80007E000FC0007E0007E0007E0003F0007E0003F0007E0001F8007E000
1F8007E0001F8007E0001FC007E0001FC007E0001FC007E0001FC007E0001FC007E0001F
C007E0001FC007E0001FC007E0001FC007E0001F8007E0001F8007E0001F8007E0003F00
07E0003F0007E0007E0007E000FC0007E001F80007E007F000FFFFFFC000FFFFFE000022
1F7E9E28>68 D<FFFFFFFF07E007E007E007E007E007E007E007E007E007E007E007E007
E007E007E007E007E007E007E007E007E007E007E007E007E007E007E0FFFFFFFF101F7E
9E14>73 D<FFE000003FF8FFF000007FF807F000007F0006F80000DF0006F80000DF0006
F80000DF00067C00019F00067C00019F00063E00031F00063E00031F00061F00061F0006
1F00061F00060F800C1F00060F800C1F000607C0181F000607C0181F000607C0181F0006
03E0301F000603E0301F000601F0601F000601F0601F000600F8C01F000600F8C01F0006
007D801F0006007D801F0006003F001F0006003F001F0006003F001F0006001E001F00FF
F01E03FFF8FFF00C03FFF82D1F7E9E32>77 D<001FF80000FFFF0001F81F8007E007E00F
C003F01F8001F81F0000F83F0000FC7F0000FE7E00007E7E00007EFE00007FFE00007FFE
00007FFE00007FFE00007FFE00007FFE00007FFE00007FFE00007F7E00007E7F0000FE7F
0000FE3F0000FC3F8001FC1F8001F80FC003F007E007E001F81F8000FFFF00001FF80020
1F7D9E27>79 D<FFFFFE00FFFFFF8007E00FE007E003F007E001F807E001F807E001FC07
E001FC07E001FC07E001FC07E001FC07E001F807E001F807E003F007E00FE007FFFF8007
FFFE0007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007
E0000007E0000007E0000007E00000FFFF0000FFFF00001E1F7E9E24>I<FFFFF80000FF
FFFF000007E01FC00007E007E00007E003F00007E003F00007E003F80007E003F80007E0
03F80007E003F80007E003F00007E003F00007E007E00007E01FC00007FFFF000007FFFC
000007E03E000007E01F000007E00F800007E00F800007E00FC00007E00FC00007E00FC0
0007E00FE00007E00FE00007E00FE00007E00FE03007E007F03007E003F860FFFF01FFC0
FFFF007F80241F7E9E27>82 D<03FC080FFF381E03F83800F8700078700038F00038F000
18F00018F80000FC00007FC0007FFE003FFF801FFFE00FFFF007FFF000FFF80007F80000
FC00007C00003CC0003CC0003CC0003CE00038E00078F80070FE01E0E7FFC081FF00161F
7D9E1D>I<07FC001FFF003F0F803F07C03F03E03F03E00C03E00003E0007FE007FBE01F
03E03C03E07C03E0F803E0F803E0F803E0FC05E07E0DE03FF8FE0FE07E17147F9319>97
D<01FE0007FF801F0FC03E0FC03E0FC07C0FC07C0300FC0000FC0000FC0000FC0000FC00
00FC00007C00007E00003E00603F00C01F81C007FF0001FC0013147E9317>99
D<0007F80007F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000
F801F8F80FFEF81F83F83E01F87E00F87C00F87C00F8FC00F8FC00F8FC00F8FC00F8FC00
F8FC00F87C00F87C00F87E00F83E01F81F07F80FFEFF03F8FF18207E9F1D>I<01FE0007
FF800F83C01E01E03E00F07C00F07C00F8FC00F8FFFFF8FFFFF8FC0000FC0000FC00007C
00007C00003E00181E00180F807007FFE000FF8015147F9318>I<001F8000FFC001F3E0
03E7E003C7E007C7E007C3C007C00007C00007C00007C00007C000FFFC00FFFC0007C000
07C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C000
07C00007C00007C0003FFC003FFC0013207F9F10>I<01FC3C07FFFE0F079E1E03DE3E03
E03E03E03E03E03E03E03E03E01E03C00F07800FFF0009FC001800001800001C00001FFF
800FFFF007FFF81FFFFC3C007C70003EF0001EF0001EF0001E78003C78003C3F01F80FFF
E001FF00171E7F931A>I<FF0000FF00001F00001F00001F00001F00001F00001F00001F
00001F00001F00001F00001F0FC01F3FE01F61F01FC0F81F80F81F00F81F00F81F00F81F
00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F8FFE3FFFFE3FF18
207D9F1D>I<1C003E007F007F007F003E001C00000000000000000000000000FF00FF00
1F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FFE0FFE0
0B217EA00E>I<FF00FF001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FFE0FFE00B
207E9F0E>108 D<FE0FE03F80FE1FF07FC01E70F9C3E01E407D01F01E807E01F01F807E
01F01F007C01F01F007C01F01F007C01F01F007C01F01F007C01F01F007C01F01F007C01
F01F007C01F01F007C01F01F007C01F01F007C01F01F007C01F0FFE3FF8FFEFFE3FF8FFE
27147D932C>I<FE0FC0FE3FE01E61F01EC0F81E80F81F00F81F00F81F00F81F00F81F00
F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F8FFE3FFFFE3FF18147D931D
>I<01FF0007FFC01F83F03E00F83E00F87C007C7C007CFC007EFC007EFC007EFC007EFC
007EFC007E7C007C7C007C3E00F83E00F81F83F007FFC001FF0017147F931A>I<FF1FC0
FF7FF01FE1F81F80FC1F007E1F007E1F003E1F003F1F003F1F003F1F003F1F003F1F003F
1F003E1F007E1F007C1F80FC1FC1F81F7FE01F1F801F00001F00001F00001F00001F0000
1F00001F0000FFE000FFE000181D7E931D>I<FE3E00FE7F801ECFC01E8FC01E8FC01F8F
C01F03001F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F00
00FFF000FFF00012147E9316>114 D<0FE63FFE701E600EE006E006F800FFC07FF83FFC
1FFE03FE001FC007C007E007F006F81EFFFCC7F010147E9315>I<018001800180038003
80038007800F803F80FFFCFFFC0F800F800F800F800F800F800F800F800F800F800F860F
860F860F860F8607CC03F801F00F1D7F9C14>I<FF07F8FF07F81F00F81F00F81F00F81F
00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F01F81F01F80F
06F807FCFF03F8FF18147D931D>I<FFE07F80FFE07F801F001C000F8018000F80180007
C0300007C0300003E0600003E0600001F0C00001F0C00001F9C00000F9800000FF800000
7F0000007F0000003E0000003E0000001C0000001C000019147F931C>I<3FFFE03FFFE0
3C07C0380F80701F80603F00603E00607C0000F80001F80003F00003E06007C0600F8060
1F80E03F00C03E01C07C03C0FFFFC0FFFFC013147F9317>122 D
E /Fd 73 126 df<70F8F8F8F8F8F8F8F8F8F8F8F8F8F8F8F870000000000070F8F8F870
051C779B18>33 D<030600078F00078F00078F00078F00078F00078F007FFFC0FFFFE0FF
FFE07FFFC00F1E000F1E000F1E000F1E000F1E000F1E007FFFC0FFFFE0FFFFE07FFFC01E
3C001E3C001E3C001E3C001E3C001E3C000C1800131C7E9B18>35
D<01C00007E0000FF0000E70001C38001C38001C38001C38001C73F01C73F01CE3F00FE3
800FC7000F87000F07001F0E003F0E007B8E0073DC00E1DC00E0F800E0F800E07070E078
7070FC707FFFE03FCFE00F03C0141C7F9B18>38 D<387C7C7E3E0E0E0E1C1C38F8F0C007
0E789B18>I<007000F001E003C007800F001E001C00380038007000700070007000E000
E000E000E000E000E000E000E0007000700070007000380038001C001E000F00078003C0
01F000F000700C24799F18>I<6000F00078003C001E000F000780038001C001C000E000
E000E000E00070007000700070007000700070007000E000E000E000E001C001C0038007
800F001E003C007800F00060000C247C9F18>I<01C00001C00001C00001C000C1C180F1
C780F9CF807FFF001FFC0007F00007F0001FFC007FFF00F9CF80F1C780C1C18001C00001
C00001C00001C00011147D9718>I<00600000F00000F00000F00000F00000F00000F000
00F0007FFFC0FFFFE0FFFFE07FFFC000F00000F00000F00000F00000F00000F00000F000
00600013147E9718>I<1C3E7E7F3F1F070E1E7CF860080C788518>I<7FFF00FFFF80FFFF
807FFF0011047D8F18>I<3078FCFC78300606778518>I<000300000780000780000F8000
0F00001F00001E00001E00003E00003C00007C0000780000780000F80000F00001F00001
E00003E00003C00003C00007C0000780000F80000F00000F00001F00001E00003E00003C
00003C00007C0000780000F80000F00000F0000060000011247D9F18>I<01F00007FC00
0FFE001F1F001C07003803807803C07001C07001C0E000E0E000E0E000E0E000E0E000E0
E000E0E000E0E000E0E000E0F001E07001C07001C07803C03803801C07001F1F000FFE00
07FC0001F000131C7E9B18>I<01800380038007800F803F80FF80FB8043800380038003
8003800380038003800380038003800380038003800380038003807FFCFFFE7FFC0F1C7B
9B18>I<03F0000FFE003FFF007C0F807003C0E001C0F000E0F000E06000E00000E00000
E00001C00001C00003C0000780000F00001E00003C0000780000F00001E00007C0000F80
001E00E03C00E07FFFE0FFFFE07FFFE0131C7E9B18>I<07F8001FFE003FFF0078078078
03C07801C03001C00001C00003C0000380000F0003FF0003FE0003FF000007800003C000
01C00000E00000E00000E0F000E0F000E0F001C0F003C07C07803FFF001FFE0003F80013
1C7E9B18>I<001F00003F0000770000770000E70001E70001C700038700078700070700
0E07001E07003C0700380700780700F00700FFFFF8FFFFF8FFFFF8000700000700000700
000700000700000700007FF000FFF8007FF0151C7F9B18>I<1FFF803FFF803FFF803800
003800003800003800003800003800003800003800003BF8003FFE003FFF003C07801803
C00001C00000E00000E06000E0F000E0F000E0E001C07003C07C0F803FFF001FFC0003F0
00131C7E9B18>I<007E0001FF0007FF800F83C01E03C01C03C038018038000070000070
0000E1F800E7FE00FFFF00FE0780F803C0F001C0F000E0E000E0F000E07000E07000E070
00E03801C03C03C01E07800FFF0007FE0001F800131C7E9B18>I<E00000FFFFE0FFFFE0
FFFFE0E003C0E00780000700000E00001E00001C0000380000380000700000700000E000
00E00000E00001C00001C00001C00001C00003C000038000038000038000038000038000
038000038000131D7E9C18>I<03F8000FFE001FFF003E0F803803807001C07001C07001
C07001C03803803C07801FFF0007FC000FFE001F1F003C07807001C0F001E0E000E0E000
E0E000E0E000E07001C07803C03E0F801FFF000FFE0003F800131C7E9B18>I<03F0000F
FC001FFE003C0F00780780700380E001C0E001C0E001C0E001E0E001E07001E07803E03C
0FE01FFFE00FFEE003F0E00000E00001C00001C00001C0300380780780780F00783E003F
FC001FF00007C000131C7E9B18>I<3078FCFC783000000000000000003078FCFC783006
14779318>I<183C7E7E3C180000000000000000183C7E7E3E1E0E1C3C78F060071A7893
18>I<000300000780001F80003F00007E0001FC0003F00007E0001FC0003F00007E0000
FC0000FC00007E00003F00001FC00007E00003F00001FC00007E00003F00001F80000780
00030011187D9918>I<7FFFC0FFFFE0FFFFE0FFFFE0000000000000000000000000FFFF
E0FFFFE0FFFFE07FFFC0130C7E9318>I<600000F00000FC00007E00003F00001FC00007
E00003F00001FC00007E00003F00001F80001F80003F00007E0001FC0003F00007E0001F
C0003F00007E0000FC0000F0000060000011187D9918>I<0FF0003FFC007FFF00700F00
F00380F00380600780000F00003E00007C0001F00001E00003C00003C00003C00003C000
03C00003800000000000000000000000000000000003800007C00007C00007C000038000
111C7D9B18>I<00700000F80000F80000D80000D80001DC0001DC0001DC00018C00038E
00038E00038E00038E000306000707000707000707000707000FFF800FFF800FFF800E03
800E03801C01C01C01C07F07F0FF8FF87F07F0151C7F9B18>65 D<00F8E003FEE007FFE0
0F07E01E03E03C01E03800E07000E07000E0700000E00000E00000E00000E00000E00000
E00000E00000E000007000007000E07000E03800E03C00E01E01C00F07C007FF8003FE00
00F800131C7E9B18>67 D<7FF800FFFE007FFF001C0F801C03C01C03C01C01E01C00E01C
00E01C00F01C00701C00701C00701C00701C00701C00701C00701C00701C00F01C00E01C
00E01C01E01C01C01C03C01C0F807FFF00FFFE007FF800141C7F9B18>I<FFFFF0FFFFF0
FFFFF01C00701C00701C00701C00701C00001C00001C0E001C0E001C0E001FFE001FFE00
1FFE001C0E001C0E001C0E001C00001C00001C00381C00381C00381C00381C0038FFFFF8
FFFFF8FFFFF8151C7F9B18>I<7F07F0FF8FF87F07F01C01C01C01C01C01C01C01C01C01
C01C01C01C01C01C01C01C01C01FFFC01FFFC01FFFC01C01C01C01C01C01C01C01C01C01
C01C01C01C01C01C01C01C01C01C01C07F07F0FF8FF87F07F0151C7F9B18>72
D<7FFF00FFFF807FFF0001C00001C00001C00001C00001C00001C00001C00001C00001C0
0001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0
0001C0007FFF00FFFF807FFF00111C7D9B18>I<7F07F0FF87F87F07F01C03C01C07801C
07001C0E001C1E001C3C001C38001C70001CF0001DF0001DF0001FB8001FB8001F1C001E
1C001C0E001C0E001C07001C07001C03801C03801C01C07F03F0FF87F87F03F0151C7F9B
18>75 D<7FE000FFE0007FE0000E00000E00000E00000E00000E00000E00000E00000E00
000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00700E00700E00
700E00700E00707FFFF0FFFFF07FFFF0141C7F9B18>I<7E07F0FF0FF87F07F01D81C01D
81C01D81C01DC1C01CC1C01CC1C01CE1C01CE1C01CE1C01C61C01C71C01C71C01C31C01C
39C01C39C01C39C01C19C01C19C01C1DC01C0DC01C0DC01C0DC07F07C0FF87C07F03C015
1C7F9B18>78 D<FFFE00FFFF80FFFFC01C03C01C01E01C00E01C00701C00701C00701C00
701C00701C00E01C01E01C03C01FFFC01FFF801FFE001C00001C00001C00001C00001C00
001C00001C00001C0000FF8000FF8000FF8000141C7F9B18>80 D<7FF800FFFE007FFF00
1C0F801C03801C03C01C01C01C01C01C01C01C03C01C03801C0F801FFF001FFE001FFE00
1C0F001C07001C03801C03801C03801C03801C03801C039C1C039C1C039C7F01F8FF81F8
7F00F0161C7F9B18>82 D<03F3801FFF803FFF807C0F80700780E00380E00380E00380E0
00007000007800003F00001FF00007FE0000FF00000F800003C00001C00000E00000E060
00E0E000E0E001E0F001C0F80780FFFF80FFFE00E7F800131C7E9B18>I<7FFFF8FFFFF8
FFFFF8E07038E07038E07038E07038007000007000007000007000007000007000007000
00700000700000700000700000700000700000700000700000700000700000700007FF00
07FF0007FF00151C7F9B18>I<FF07F8FF07F8FF07F81C01C01C01C01C01C01C01C00E03
800E03800E03800E03800F0780070700070700070700070700038E00038E00038E00038E
00018C0001DC0001DC0001DC0000D80000F80000F800007000151C7F9B18>86
D<7F8FE07F9FE07F8FE00E07000F0700070E00078E00039C0003DC0001F80001F80000F0
0000F00000700000F00000F80001F80001DC00039E00038E00070F000707000E07800E03
801E03C07F07F0FF8FF87F07F0151C7F9B18>88 D<7FFF00FFFF80FFFF807FFF0011047D
7F18>95 D<1FE0003FF8007FFC00781E00300E0000070000070000FF0007FF001FFF007F
0700780700E00700E00700E00700F00F00781F003FFFF01FFBF007E1F014147D9318>97
D<7E0000FE00007E00000E00000E00000E00000E00000E00000E3E000EFF800FFFC00FC1
E00F80E00F00700E00700E00380E00380E00380E00380E00380E00380F00700F00700F80
E00FC1E00FFFC00EFF80063E00151C809B18>I<01FE0007FF001FFF803E078038030070
0000700000E00000E00000E00000E00000E00000E000007000007001C03801C03E03C01F
FF8007FF0001FC0012147D9318>I<001F80003F80001F80000380000380000380000380
00038003E3800FFB801FFF803C1F80380F80700780700380E00380E00380E00380E00380
E00380E00380700780700780380F803C1F801FFFF00FFBF803E3F0151C7E9B18>I<01F0
0007FC001FFE003E0F00380780700380700380E001C0E001C0FFFFC0FFFFC0FFFFC0E000
007000007001C03801C03E03C01FFF8007FF0001FC0012147D9318>I<001F80007FC000
FFE000E1E001C0C001C00001C00001C0007FFFC0FFFFC0FFFFC001C00001C00001C00001
C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0007FFF007F
FF007FFF00131C7F9B18>I<01E1F007FFF80FFFF81E1E301C0E00380700380700380700
3807003807001C0E001E1E001FFC001FF80039E0003800001C00001FFE001FFFC03FFFE0
7801F0700070E00038E00038E00038E000387800F07E03F01FFFC00FFF8001FC00151F7F
9318>I<7E0000FE00007E00000E00000E00000E00000E00000E00000E3E000EFF800FFF
C00FC1C00F80E00F00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00
E00E00E00E00E07FC3FCFFE7FE7FC3FC171C809B18>I<03800007C00007C00007C00003
80000000000000000000000000007FC000FFC0007FC00001C00001C00001C00001C00001
C00001C00001C00001C00001C00001C00001C00001C00001C00001C000FFFF00FFFF80FF
FF00111D7C9C18>I<0038007C007C007C003800000000000000000FFC1FFC0FFC001C00
1C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00
1C001C001C6038F078FFF07FE03F800E277E9C18>I<FE0000FE0000FE00000E00000E00
000E00000E00000E00000E3FF00E7FF00E3FF00E07800E0F000E1E000E3C000E78000EF0
000FF8000FFC000F9C000F0E000E0F000E07000E03800E03C0FFC7F8FFC7F8FFC7F8151C
7F9B18>I<7FE000FFE0007FE00000E00000E00000E00000E00000E00000E00000E00000
E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000
E00000E00000E0007FFFC0FFFFE07FFFC0131C7E9B18>I<7CE0E000FFFBF8007FFFF800
1F1F1C001E1E1C001E1E1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C00
1C1C1C001C1C1C001C1C1C001C1C1C001C1C1C007F1F1F00FFBFBF807F1F1F0019148193
18>I<7E3E00FEFF807FFFC00FC1C00F80E00F00E00E00E00E00E00E00E00E00E00E00E0
0E00E00E00E00E00E00E00E00E00E00E00E07FC3FCFFE7FE7FC3FC1714809318>I<01F0
000FFE001FFF003E0F803803807001C07001C0E000E0E000E0E000E0E000E0E000E0F001
E07001C07803C03C07803E0F801FFF000FFE0001F00013147E9318>I<7E3E00FEFF807F
FFC00FC1E00F80E00F00700E00700E00380E00380E00380E00380E00380E00380F00700F
00700F80E00FC1E00FFFC00EFF800E3E000E00000E00000E00000E00000E00000E00000E
00007FC000FFE0007FC000151E809318>I<01E38007FB801FFF803E1F80380F80700780
700780E00380E00380E00380E00380E00380E00380700780700780380F803C1F801FFF80
0FFB8003E380000380000380000380000380000380000380000380003FF8003FF8003FF8
151E7E9318>I<7F87E0FF9FF07FBFF803F87803F03003E00003C00003C0000380000380
000380000380000380000380000380000380000380007FFE00FFFF007FFE0015147F9318
>I<07F7003FFF007FFF00780F00E00700E00700E007007C00007FE0001FFC0003FE0000
1F00600780E00380E00380F00380F80F00FFFF00FFFC00E7F00011147D9318>I<018000
0380000380000380000380007FFFC0FFFFC0FFFFC0038000038000038000038000038000
0380000380000380000380000380400380E00380E00380E001C1C001FFC000FF80003E00
13197F9818>I<7E07E0FE0FE07E07E00E00E00E00E00E00E00E00E00E00E00E00E00E00
E00E00E00E00E00E00E00E00E00E00E00E01E00F03E007FFFC03FFFE01FCFC1714809318
>I<7F8FF0FF8FF87F8FF01E03C00E03800E03800E0380070700070700070700038E0003
8E00038E00038E0001DC0001DC0001DC0000F80000F80000700015147F9318>I<FF8FF8
FF8FF8FF8FF83800E03800E03800E01C01C01C01C01C71C01CF9C01CF9C01CD9C01CD9C0
0DDD800DDD800DDD800D8D800F8F800F8F8007070015147F9318>I<7F8FF07F9FF07F8F
F0070700078E00039E0001DC0001F80000F80000700000F00000F80001DC00039E00038E
000707000F07807F8FF0FF8FF87F8FF015147F9318>I<7F8FF0FF8FF87F8FF00E01C00E
03800E0380070380070700070700038700038600038E0001CE0001CE0000CC0000CC0000
DC0000780000780000780000700000700000700000F00000E00079E0007BC0007F80003F
00001E0000151E7F9318>I<3FFFF07FFFF07FFFF07001E07003C0700780000F00001E00
003C0000F80001F00003C0000780000F00701E00703C0070780070FFFFF0FFFFF0FFFFF0
14147F9318>I<0007E0001FE0007FE000780000E00000E00000E00000E00000E00000E0
0000E00000E00000E00000E00000E00001E0007FC000FF8000FF80007FC00001E00000E0
0000E00000E00000E00000E00000E00000E00000E00000E00000E00000E000007800007F
E0001FE00007E013247E9F18>I<60F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0
F0F0F0F0F0F0F0F0F0F0F0F0F0600424769F18>I<7C0000FF0000FFC00003C00000E000
00E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000F000007FC0
003FE0003FE0007FC000F00000E00000E00000E00000E00000E00000E00000E00000E000
00E00000E00000E00003C000FFC000FF00007C000013247E9F18>I
E /Fe 1 16 df<03C00FF01FF83FFC7FFE7FFEFFFFFFFFFFFFFFFFFFFFFFFF7FFE7FFE3F
FC1FF80FF003C010127D9317>15 D E /Ff 79 124 df<001F83E000F06E3001C0787803
80F8780300F03007007000070070000700700007007000070070000700700007007000FF
FFFF80070070000700700007007000070070000700700007007000070070000700700007
007000070070000700700007007000070070000700700007007000070070000700700007
0070007FE3FF001D20809F1B>11 D<003F0000E0C001C0C00381E00701E00701E0070000
070000070000070000070000070000FFFFE00700E00700E00700E00700E00700E00700E0
0700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E0
7FC3FE1720809F19>I<003FE000E0E001C1E00381E00700E00700E00700E00700E00700
E00700E00700E00700E0FFFFE00700E00700E00700E00700E00700E00700E00700E00700
E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E07FE7FE1720
809F19>I<001F81F80000F04F040001C07C06000380F80F000300F00F000700F00F0007
0070000007007000000700700000070070000007007000000700700000FFFFFFFF000700
700700070070070007007007000700700700070070070007007007000700700700070070
070007007007000700700700070070070007007007000700700700070070070007007007
000700700700070070070007007007007FE3FE3FF02420809F26>I<7038F87CFC7EFC7E
743A0402040204020804080410081008201040200F0E7E9F17>34
D<70F8FCFC74040404080810102040060E7C9F0D>39 D<0020004000800100020006000C
000C00180018003000300030007000600060006000E000E000E000E000E000E000E000E0
00E000E000E000E0006000600060007000300030003000180018000C000C000600020001
000080004000200B2E7DA112>I<800040002000100008000C0006000600030003000180
0180018001C000C000C000C000E000E000E000E000E000E000E000E000E000E000E000E0
00C000C000C001C001800180018003000300060006000C00080010002000400080000B2E
7DA112>I<70F8FCFC74040404080810102040060E7C840D>44 D<FFC0FFC00A027F8A0F>
I<70F8F8F87005057C840D>I<000100030003000600060006000C000C000C0018001800
1800300030003000600060006000C000C000C00180018001800300030003000600060006
000C000C000C00180018001800300030003000600060006000C000C000C000102D7DA117
>I<03F0000E1C001C0E00180600380700700380700380700380700380F003C0F003C0F0
03C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C070038070
03807003807807803807001806001C0E000E1C0003F000121F7E9D17>I<018003800F80
F38003800380038003800380038003800380038003800380038003800380038003800380
038003800380038003800380038007C0FFFE0F1E7C9D17>I<03F0000C1C00100E002007
00400780800780F007C0F803C0F803C0F803C02007C00007C0000780000780000F00000E
00001C0000380000700000600000C0000180000300000600400C00401800401000803FFF
807FFF80FFFF80121E7E9D17>I<03F0000C1C00100E00200F00780F8078078078078038
0F80000F80000F00000F00000E00001C0000380003F000003C00000E00000F0000078000
07800007C02007C0F807C0F807C0F807C0F00780400780400F00200E001C3C0003F00012
1F7E9D17>I<000600000600000E00000E00001E00002E00002E00004E00008E00008E00
010E00020E00020E00040E00080E00080E00100E00200E00200E00400E00C00E00FFFFF0
000E00000E00000E00000E00000E00000E00000E0000FFE0141E7F9D17>I<1803001FFE
001FFC001FF8001FE00010000010000010000010000010000010000011F000161C00180E
001007001007800003800003800003C00003C00003C07003C0F003C0F003C0E003804003
80400700200600100E000C380003E000121F7E9D17>I<007C000182000701000E03800C
07801C0780380300380000780000700000700000F1F000F21C00F40600F80700F80380F8
0380F003C0F003C0F003C0F003C0F003C07003C07003C07003803803803807001807000C
0E00061C0001F000121F7E9D17>I<4000007FFFC07FFF807FFF80400100800200800200
80040000080000080000100000200000200000400000400000C00000C00001C000018000
038000038000038000038000078000078000078000078000078000078000078000030000
121F7D9D17>I<03F0000C0C001006003003002001806001806001806001807001807803
003E03003F06001FC8000FF00003F80007FC000C7E00103F00300F806003804001C0C001
C0C000C0C000C0C000C0C000806001802001001002000C0C0003F000121F7E9D17>I<03
F0000E18001C0C00380600380700700700700380F00380F00380F003C0F003C0F003C0F0
03C0F003C07007C07007C03807C0180BC00E13C003E3C000038000038000038000070030
0700780600780E00700C002018001070000FC000121F7E9D17>I<70F8F8F87000000000
00000000000070F8F8F87005147C930D>I<70F8F8F8700000000000000000000070F0F8
F878080808101010202040051D7C930D>I<000100000003800000038000000380000007
C0000007C0000007C0000009E0000009E0000009E0000010F0000010F0000010F0000020
7800002078000020780000403C0000403C0000403C0000801E0000801E0000FFFE000100
0F0001000F0001000F00020007800200078002000780040003C00E0003C01F0007E0FFC0
3FFE1F207F9F22>65 D<FFFFE0000F80380007801E0007801F0007800F0007800F800780
0F8007800F8007800F8007800F8007800F0007801F0007801E0007803C0007FFF0000780
3C0007801E0007800F0007800F8007800780078007C0078007C0078007C0078007C00780
07C00780078007800F8007800F0007801F000F803C00FFFFF0001A1F7E9E20>I<000FC0
40007030C001C009C0038005C0070003C00E0001C01E0000C01C0000C03C0000C07C0000
407C00004078000040F8000000F8000000F8000000F8000000F8000000F8000000F80000
00F8000000F8000000780000007C0000407C0000403C0000401C0000401E0000800E0000
80070001000380020001C0040000703800000FC0001A217D9F21>I<FFFFE0000F803C00
07801E000780070007800380078003C0078001E0078001E0078001F0078000F0078000F0
078000F8078000F8078000F8078000F8078000F8078000F8078000F8078000F8078000F8
078000F0078000F0078000F0078001E0078001E0078003C0078003800780070007800E00
0F803C00FFFFE0001D1F7E9E23>I<FFFFFF000F800F0007800300078003000780010007
800180078000800780008007800080078080800780800007808000078080000781800007
FF8000078180000780800007808000078080000780800007800020078000200780002007
8000400780004007800040078000C0078000C0078001800F800F80FFFFFF801B1F7E9E1F
>I<FFFFFF000F800F000780030007800300078001000780018007800080078000800780
008007800080078080000780800007808000078080000781800007FF8000078180000780
800007808000078080000780800007800000078000000780000007800000078000000780
000007800000078000000FC00000FFFE0000191F7E9E1E>I<000FE0200078186000E004
E0038002E0070001E00F0000E01E0000601E0000603C0000603C0000207C000020780000
20F8000000F8000000F8000000F8000000F8000000F8000000F8000000F8007FFCF80003
E0780001E07C0001E03C0001E03C0001E01E0001E01E0001E00F0001E0070001E0038002
E000E0046000781820000FE0001E217D9F24>I<FFF8FFF80F800F8007800F0007800F00
07800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F00
07800F0007FFFF0007800F0007800F0007800F0007800F0007800F0007800F0007800F00
07800F0007800F0007800F0007800F0007800F0007800F0007800F000F800F80FFF8FFF8
1D1F7E9E22>I<FFFC0FC007800780078007800780078007800780078007800780078007
80078007800780078007800780078007800780078007800780078007800FC0FFFC0E1F7F
9E10>I<0FFFC0007C00003C00003C00003C00003C00003C00003C00003C00003C00003C
00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C
00203C00F83C00F83C00F83C00F0380040780040700030E0000F800012207E9E17>I<FF
FC0FFC0FC003E00780018007800100078002000780040007800800078010000780200007
80400007808000078100000783000007878000078F80000793C0000791E00007A1E00007
C0F0000780F0000780780007803C0007803C0007801E0007801E0007800F000780078007
800780078007C00FC007E0FFFC3FFC1E1F7E9E23>I<FFFE000FC0000780000780000780
000780000780000780000780000780000780000780000780000780000780000780000780
0007800007800007800007800207800207800207800207800607800407800407800C0780
1C0F807CFFFFFC171F7E9E1C>I<FF80001FF80F80001F800780001F0005C0002F0005C0
002F0005C0002F0004E0004F0004E0004F000470008F000470008F000470008F00043801
0F000438010F000438010F00041C020F00041C020F00041C020F00040E040F00040E040F
00040E040F000407080F000407080F000407080F000403900F000403900F000401E00F00
0401E00F000401E00F000E00C00F001F00C01F80FFE0C1FFF8251F7E9E2A>I<FF803FF8
07C007C007C0038005E0010005E0010004F001000478010004780100043C0100043C0100
041E0100040F0100040F010004078100040781000403C1000401E1000401E1000400F100
0400F1000400790004003D0004003D0004001F0004001F0004000F000400070004000700
0E0003001F000300FFE001001D1F7E9E22>I<001F800000F0F00001C0380007801E000F
000F000E0007001E0007803C0003C03C0003C07C0003E0780001E0780001E0F80001F0F8
0001F0F80001F0F80001F0F80001F0F80001F0F80001F0F80001F0F80001F0780001E07C
0003E07C0003E03C0003C03C0003C01E0007800E0007000F000F0007801E0001C0380000
F0F000001F80001C217D9F23>I<FFFFE0000F80780007801C0007801E0007800F000780
0F8007800F8007800F8007800F8007800F8007800F8007800F0007801E0007801C000780
780007FFE000078000000780000007800000078000000780000007800000078000000780
000007800000078000000780000007800000078000000FC00000FFFC0000191F7E9E1F>
I<001F800000F0F00001C0380007801E000F000F000E0007001E0007803C0003C03C0003
C07C0003E07C0003E0780001E0F80001F0F80001F0F80001F0F80001F0F80001F0F80001
F0F80001F0F80001F0F80001F0780001E0780001E07C0003E03C0003C03C0F03C01E1087
800E20C7000F20CF0007A0FE0001E0F80000F0F010001FF0100000701000007830000038
7000003FF000003FE000001FE000000FC0000007801C297D9F23>I<FFFF80000F80F000
0780780007803C0007801E0007801E0007801F0007801F0007801F0007801F0007801E00
07801E0007803C00078078000780F00007FF80000781C0000780E0000780F00007807000
07807800078078000780780007807C0007807C0007807C0007807C0407807E0407803E04
0FC01E08FFFC0F10000003E01E207E9E21>I<07E0800C19801007803003806001806001
80E00180E00080E00080E00080F00000F000007800007F00003FF0001FFC000FFE0003FF
00001F800007800003C00003C00001C08001C08001C08001C08001C0C00180C00380E003
00F00600CE0C0081F80012217D9F19>I<7FFFFFE0780F01E0600F0060400F0020400F00
20C00F0030800F0010800F0010800F0010800F0010000F0000000F0000000F0000000F00
00000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F00
00000F0000000F0000000F0000000F0000000F0000000F0000001F800007FFFE001C1F7E
9E21>I<FFFC3FF80FC007C0078003800780010007800100078001000780010007800100
078001000780010007800100078001000780010007800100078001000780010007800100
078001000780010007800100078001000780010007800100078001000380020003800200
01C0020001C0040000E008000070180000382000000FC0001D207E9E22>I<FFF003FE1F
8000F80F0000600F800060078000400780004003C0008003C0008003C0008001E0010001
E0010001F0010000F0020000F0020000F806000078040000780400003C0800003C080000
3C0800001E1000001E1000001F3000000F2000000F20000007C0000007C0000007C00000
0380000003800000038000000100001F207F9E22>I<FFF07FF81FF01F800FC007C00F00
078003800F00078001000F0007C00100078007C00200078007C00200078007C0020003C0
09E0040003C009E0040003C009E0040003E010F00C0001E010F0080001E010F0080001F0
2078080000F02078100000F02078100000F0403C10000078403C20000078403C20000078
C03E2000003C801E4000003C801E4000003C801E4000001F000F8000001F000F8000001F
000F8000001E00078000000E00070000000E00070000000C000300000004000200002C20
7F9E2F>I<7FF83FF80FE00FC007C0070003C0020001E0040001F00C0000F00800007810
00007C1000003C2000003E4000001E4000000F8000000F8000000780000003C0000007E0
000005E0000009F0000018F8000010780000207C0000603C0000401E0000801F0001800F
0001000780020007C0070003C01F8007E0FFE01FFE1F1F7F9E22>I<FFF003FF1F8000F8
0F8000600780004007C0004003E0008001E0008001F0010000F0030000F80200007C0400
003C0400003E0800001E0800001F1000000FB0000007A0000007C0000003C0000003C000
0003C0000003C0000003C0000003C0000003C0000003C0000003C0000003C0000003C000
0007C000007FFE00201F7F9E22>I<FEFEC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0FEFE072D7CA10D>91
D<080410082010201040204020804080408040B85CFC7EFC7E7C3E381C0F0E7B9F17>I<
FEFE06060606060606060606060606060606060606060606060606060606060606060606
06060606060606FEFE072D7FA10D>I<1FE000303000781800781C00300E00000E00000E
00000E0000FE00078E001E0E00380E00780E00F00E10F00E10F00E10F01E10781E103867
200F83C014147E9317>97 D<0E0000FE00000E00000E00000E00000E00000E00000E0000
0E00000E00000E00000E00000E3E000EC3800F01C00F00E00E00E00E00700E00700E0078
0E00780E00780E00780E00780E00780E00700E00700E00E00F00E00D01C00CC300083E00
15207F9F19>I<03F80E0C1C1E381E380C70007000F000F000F000F000F000F000700070
00380138011C020E0C03F010147E9314>I<000380003F80000380000380000380000380
00038000038000038000038000038000038003E380061B801C0780380380380380700380
700380F00380F00380F00380F00380F00380F003807003807003803803803807801C0780
0E1B8003E3F815207E9F19>I<03F0000E1C001C0E00380700380700700700700380F003
80F00380FFFF80F00000F00000F000007000007000003800801800800C010007060001F8
0011147F9314>I<007C00C6018F038F07060700070007000700070007000700FFF00700
070007000700070007000700070007000700070007000700070007000700070007007FF0
1020809F0E>I<0000E003E3300E3C301C1C30380E00780F00780F00780F00780F00780F
00380E001C1C001E380033E0002000002000003000003000003FFE001FFF800FFFC03001
E0600070C00030C00030C00030C000306000603000C01C038003FC00141F7F9417>I<0E
0000FE00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E
3E000E43000E81800F01C00F01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E
01C00E01C00E01C00E01C00E01C00E01C00E01C0FFE7FC16207F9F19>I<1C003E003E00
3E001C000000000000000000000000000E007E000E000E000E000E000E000E000E000E00
0E000E000E000E000E000E000E000E000E00FFC00A1F809E0C>I<00E001F001F001F000
E0000000000000000000000000007007F000F00070007000700070007000700070007000
700070007000700070007000700070007000700070007000706070F060F0C061803F000C
28829E0E>I<0E0000FE00000E00000E00000E00000E00000E00000E00000E00000E0000
0E00000E00000E0FF00E03C00E03000E02000E04000E08000E10000E30000E70000EF800
0F38000E1C000E1E000E0E000E07000E07800E03800E03C00E03E0FFCFF815207F9F18>
I<0E00FE000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E
000E000E000E000E000E000E000E000E000E000E000E000E000E00FFE00B20809F0C>I<
0E1F01F000FE618618000E81C81C000F00F00E000F00F00E000E00E00E000E00E00E000E
00E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00
E00E000E00E00E000E00E00E000E00E00E000E00E00E00FFE7FE7FE023147F9326>I<0E
3E00FE43000E81800F01C00F01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E
01C00E01C00E01C00E01C00E01C00E01C00E01C0FFE7FC16147F9319>I<01F800070E00
1C03803801C03801C07000E07000E0F000F0F000F0F000F0F000F0F000F0F000F07000E0
7000E03801C03801C01C0380070E0001F80014147F9317>I<0E3E00FEC3800F01C00F00
E00E00E00E00F00E00700E00780E00780E00780E00780E00780E00780E00700E00F00E00
E00F01E00F01C00EC3000E3E000E00000E00000E00000E00000E00000E00000E00000E00
00FFE000151D7F9319>I<03E0800619801C05803C0780380380780380700380F00380F0
0380F00380F00380F00380F003807003807803803803803807801C0B800E138003E38000
0380000380000380000380000380000380000380000380003FF8151D7E9318>I<0E78FE
8C0F1E0F1E0F0C0E000E000E000E000E000E000E000E000E000E000E000E000E000E00FF
E00F147F9312>I<1F9030704030C010C010C010E00078007F803FE00FF0007080388018
8018C018C018E030D0608F800D147E9312>I<020002000200060006000E000E003E00FF
F80E000E000E000E000E000E000E000E000E000E000E000E080E080E080E080E08061003
1001E00D1C7F9B12>I<0E01C0FE1FC00E01C00E01C00E01C00E01C00E01C00E01C00E01
C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E03C00603C0030DC001F1FC1614
7F9319>I<FF83F81E01E01C00C00E00800E00800E008007010007010003820003820003
820001C40001C40001EC0000E80000E80000700000700000700000200015147F9318>I<
FF9FE1FC3C0780701C0300601C0380200E0380400E0380400E03C0400707C0800704C080
0704E080038861000388710003C8730001D0320001D03A0000F03C0000E01C0000E01C00
00601800004008001E147F9321>I<7FC3FC0F01E00701C007018003810001C20000E400
00EC00007800003800003C00007C00004E000087000107000303800201C00601E01E01E0
FF07FE1714809318>I<FF83F81E01E01C00C00E00800E00800E00800701000701000382
0003820003820001C40001C40001EC0000E80000E8000070000070000070000020000020
00004000004000004000F08000F08000F100006200003C0000151D7F9318>I<3FFF380E
200E201C40384078407000E001E001C00380078007010E011E011C0338027006700EFFFE
10147F9314>I<FFFFFC1601808C17>I E /Fg 40 123 df<FFFCFFFCFFFCFFFC0E047F8C
13>45 D<387CFEFEFE7C3807077C8610>I<00180000780001F800FFF800FFF80001F800
01F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F800
01F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F800
7FFFE07FFFE013207C9F1C>49 D<03FC000FFF003C1FC07007E07C07F0FE03F0FE03F8FE
03F8FE01F87C01F83803F80003F80003F00003F00007E00007C0000F80001F00003E0000
380000700000E01801C0180380180700180E00380FFFF01FFFF03FFFF07FFFF0FFFFF0FF
FFF015207D9F1C>I<00FE0007FFC00F07E01E03F03F03F03F81F83F81F83F81F81F03F8
1F03F00003F00003E00007C0001F8001FE0001FF000007C00001F00001F80000FC0000FC
3C00FE7E00FEFF00FEFF00FEFF00FEFF00FC7E01FC7801F81E07F00FFFC001FE0017207E
9F1C>I<0000E00001E00003E00003E00007E0000FE0001FE0001FE00037E00077E000E7
E001C7E00187E00307E00707E00E07E00C07E01807E03807E07007E0E007E0FFFFFEFFFF
FE0007E00007E00007E00007E00007E00007E00007E000FFFE00FFFE17207E9F1C>I<10
00201E01E01FFFC01FFF801FFF001FFE001FF8001BC00018000018000018000018000019
FC001FFF001E0FC01807E01803E00003F00003F00003F80003F83803F87C03F8FE03F8FE
03F8FC03F0FC03F07007E03007C01C1F800FFF0003F80015207D9F1C>I<001F8000FFE0
03F07007C0F00F01F81F01F83E01F83E01F87E00F07C00007C0000FC0800FC7FC0FCFFE0
FD80F0FF00F8FE007CFE007CFC007EFC007EFC007EFC007E7C007E7C007E7C007E3C007C
3E007C1E00F80F00F00783E003FFC000FF0017207E9F1C>I<6000007800007FFFFE7FFF
FE7FFFFC7FFFF87FFFF87FFFF0E00060E000C0C00180C00300C00300000600000C00001C
0000180000380000780000780000F00000F00000F00001F00001F00001F00003F00003F0
0003F00003F00003F00003F00003F00001E00017227DA11C>I<FFFFFF8000FFFFFFE000
07F001F80007F000FC0007F0007E0007F0007E0007F0007F0007F0007F0007F0007F0007
F0007F0007F0007F0007F0007E0007F000FE0007F000FC0007F003F80007FFFFF00007FF
FFF00007F001FC0007F0007E0007F0003F0007F0003F8007F0001F8007F0001FC007F000
1FC007F0001FC007F0001FC007F0001FC007F0001FC007F0003F8007F0003F8007F0007F
0007F001FE00FFFFFFF800FFFFFFC00022227EA128>66 D<0003FE0080001FFF818000FF
01E38001F8003F8003E0001F8007C0000F800F800007801F800007803F000003803F0000
03807F000001807E000001807E00000180FE00000000FE00000000FE00000000FE000000
00FE00000000FE00000000FE00000000FE000000007E000000007E000001807F00000180
3F000001803F000003801F800003000F8000030007C000060003F0000C0001F800380000
FF00F000001FFFC0000003FE000021227DA128>I<FFFFFF8000FFFFFFF00007F003FC00
07F0007E0007F0003F0007F0001F8007F0000FC007F00007E007F00007E007F00007F007
F00003F007F00003F007F00003F007F00003F807F00003F807F00003F807F00003F807F0
0003F807F00003F807F00003F807F00003F807F00003F807F00003F007F00003F007F000
03F007F00007E007F00007E007F0000FC007F0001F8007F0003F0007F0007E0007F003FC
00FFFFFFF000FFFFFF800025227EA12B>I<FFFFE0FFFFE003F80003F80003F80003F800
03F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F800
03F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F800
03F80003F800FFFFE0FFFFE013227FA115>73 D<FFF000000FFFFFF800001FFF07F80000
1FE006FC000037E006FC000037E006FC000037E0067E000067E0067E000067E0063F0000
C7E0063F0000C7E0061F800187E0061F800187E0060FC00307E0060FC00307E0060FC003
07E00607E00607E00607E00607E00603F00C07E00603F00C07E00601F81807E00601F818
07E00601F81807E00600FC3007E00600FC3007E006007E6007E006007E6007E006003FC0
07E006003FC007E006001F8007E006001F8007E006001F8007E006000F0007E0FFF00F00
FFFFFFF00600FFFF30227EA135>77 D<0007FC0000003FFF800000FC07E00003F001F800
07E000FC000FC0007E001F80003F001F80003F003F00001F803F00001F807F00001FC07E
00000FC07E00000FC0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00
000FE0FE00000FE0FE00000FE0FE00000FE07E00000FC07F00001FC07F00001FC03F0000
1F803F80003F801F80003F000FC0007E0007E000FC0003F001F80000FC07E000003FFF80
000007FC000023227DA12A>79 D<FFFFFF00FFFFFFE007F007F007F001FC07F000FC07F0
007E07F0007E07F0007F07F0007F07F0007F07F0007F07F0007F07F0007E07F0007E07F0
00FC07F001FC07F007F007FFFFE007FFFF0007F0000007F0000007F0000007F0000007F0
000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00000FFFF
8000FFFF800020227EA126>I<FFFFFE0000FFFFFFC00007F007F00007F001F80007F000
FC0007F0007E0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F
0007F0007E0007F000FC0007F001F80007F007F00007FFFFC00007FFFF800007F00FE000
07F007F00007F003F80007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0007
F001FC0007F001FC0007F001FC0007F001FC0607F000FE0607F000FF0CFFFF803FF8FFFF
800FF027227EA12A>82 D<01FC0407FF8C1F03FC3C007C7C003C78001C78001CF8000CF8
000CFC000CFC0000FF0000FFE0007FFF007FFFC03FFFF01FFFF80FFFFC03FFFE003FFE00
03FF00007F00003F00003FC0001FC0001FC0001FE0001EE0001EF0003CFC003CFF00F8C7
FFE080FF8018227DA11F>I<7FFFFFFF807FFFFFFF807E03F80F807803F807807003F803
806003F80180E003F801C0E003F801C0C003F800C0C003F800C0C003F800C0C003F800C0
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F8000003FFFFF80003FFFF
F80022227EA127>I<FFFF800FFEFFFF800FFE07F00000C007F80000C003F800018003F8
00018001FC00030001FC00030001FE00070000FE00060000FF000600007F000C00007F80
0C00003F801800003F801800003FC03800001FC03000001FE03000000FE06000000FF060
000007F0C0000007F0C0000007F9C0000003F980000003FD80000001FF00000001FF0000
0000FE00000000FE00000000FE000000007C000000007C00000000380000000038000027
227FA12A>86 D<07FC001FFF803F07C03F03E03F01E03F01F01E01F00001F00001F0003F
F003FDF01FC1F03F01F07E01F0FC01F0FC01F0FC01F0FC01F07E02F07E0CF81FF87F07E0
3F18167E951B>97 D<FF000000FF0000001F0000001F0000001F0000001F0000001F0000
001F0000001F0000001F0000001F0000001F0000001F0000001F0FE0001F3FF8001FF07C
001F801E001F001F001F000F801F000F801F000FC01F000FC01F000FC01F000FC01F000F
C01F000FC01F000FC01F000FC01F000F801F001F801F801F001FC03E001EE07C001C3FF8
00180FC0001A237EA21F>I<00FF8007FFE00F83F01F03F03E03F07E03F07C01E07C0000
FC0000FC0000FC0000FC0000FC0000FC00007C00007E00007E00003E00301F00600FC0E0
07FF8000FE0014167E9519>I<0001FE000001FE0000003E0000003E0000003E0000003E
0000003E0000003E0000003E0000003E0000003E0000003E0000003E0001FC3E0007FFBE
000F81FE001F007E003E003E007E003E007C003E00FC003E00FC003E00FC003E00FC003E
00FC003E00FC003E00FC003E00FC003E007C003E007C003E003E007E001E00FE000F83BE
0007FF3FC001FC3FC01A237EA21F>I<00FE0007FF800F87C01E01E03E01F07C00F07C00
F8FC00F8FC00F8FFFFF8FFFFF8FC0000FC0000FC00007C00007C00007E00003E00181F00
300FC07003FFC000FF0015167E951A>I<003F8000FFC001E3E003C7E007C7E00F87E00F
83C00F80000F80000F80000F80000F80000F8000FFFC00FFFC000F80000F80000F80000F
80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F
80000F80000F80007FF8007FF80013237FA211>I<03FC1E0FFF7F1F0F8F3E07CF3C03C0
7C03E07C03E07C03E07C03E07C03E03C03C03E07C01F0F801FFF0013FC00300000300000
3800003FFF801FFFF00FFFF81FFFFC3800FC70003EF0001EF0001EF0001EF0001E78003C
7C007C3F01F80FFFE001FF0018217E951C>I<FF000000FF0000001F0000001F0000001F
0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F
07E0001F1FF8001F307C001F403C001F803E001F803E001F003E001F003E001F003E001F
003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F
003E001F003E00FFE1FFC0FFE1FFC01A237EA21F>I<1C003E007F007F007F003E001C00
0000000000000000000000000000FF00FF001F001F001F001F001F001F001F001F001F00
1F001F001F001F001F001F001F001F001F00FFE0FFE00B247EA310>I<FF00FF001F001F
001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F001F001F001F001F001F001F00FFE0FFE00B237EA210>108
D<FF07F007F000FF1FFC1FFC001F303E303E001F403E403E001F801F801F001F801F801F
001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F001F00FFE0FFE0FFE0FFE0FFE0FFE02B167E9530>I<FF07E000
FF1FF8001F307C001F403C001F803E001F803E001F003E001F003E001F003E001F003E00
1F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E00
1F003E00FFE1FFC0FFE1FFC01A167E951F>I<00FE0007FFC00F83E01E00F03E00F87C00
7C7C007C7C007CFC007EFC007EFC007EFC007EFC007EFC007EFC007E7C007C7C007C3E00
F81F01F00F83E007FFC000FE0017167E951C>I<FF0FE000FF3FF8001FF07C001F803E00
1F001F001F001F801F001F801F000FC01F000FC01F000FC01F000FC01F000FC01F000FC0
1F000FC01F000FC01F001F801F001F801F803F001FC03E001FE0FC001F3FF8001F0FC000
1F0000001F0000001F0000001F0000001F0000001F0000001F0000001F000000FFE00000
FFE000001A207E951F>I<FE1F00FE3FC01E67E01EC7E01E87E01E87E01F83C01F00001F
00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F0000FF
F000FFF00013167E9517>114 D<0FF3003FFF00781F00600700E00300E00300F00300FC
00007FE0007FF8003FFE000FFF0001FF00000F80C00780C00380E00380E00380F00700FC
0E00EFFC00C7F00011167E9516>I<018000018000018000018000038000038000078000
0780000F80003F8000FFFF00FFFF000F80000F80000F80000F80000F80000F80000F8000
0F80000F80000F80000F80000F81800F81800F81800F81800F81800F830007C30003FE00
00F80011207F9F16>I<FF01FE00FF01FE001F003E001F003E001F003E001F003E001F00
3E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F00
3E001F003E001F007E001F00FE000F81BE0007FF3FC001FC3FC01A167E951F>I<FFE01F
E0FFE01FE00F8006000F8006000FC00E0007C00C0007E01C0003E0180003E0180001F030
0001F0300000F8600000F86000007CC000007CC000007FC000003F8000003F8000001F00
00001F0000000E0000000E0000000C0000000C00000018000078180000FC380000FC3000
00FC60000069C000007F8000001F0000001B207F951E>121 D<7FFFF07FFFF07C03E070
07C0600FC0E01F80C01F00C03E00C07E0000FC0000F80001F00003F03007E03007C0300F
80701F80703F00603E00E07C03E0FFFFE0FFFFE014167E9519>I
E /Fh 8 117 df<78FCFCFCFC7806067D850C>46 D<0003000000078000000780000007
8000000FC000000FC000001BE000001BE000001BE0000031F0000031F0000060F8000060
F80000E0FC0000C07C0000C07C0001803E0001FFFE0003FFFF0003001F0003001F000600
0F8006000F800E000FC0FFC07FFCFFC07FFC1E1A7F9921>65 D<0FF0001C3C003E1E003E
0E003E0F001C0F00000F0000FF000FCF003E0F007C0F00F80F00F80F00F80F00F817007C
27E01FC3E013117F9015>97 D<FE0000FE00001E00001E00001E00001E00001E00001E00
001E00001E7F001FC3C01F00E01E00F01E00781E00781E007C1E007C1E007C1E007C1E00
7C1E00781E00781E00F01F00E01D83C0187F00161A7F9919>I<03FC000F0E001C1F003C
1F00781F00780E00F80000F80000F80000F80000F800007800007800003C01801C03000F
060003FC0011117F9014>I<FC78FC9C1D3E1D3E1E3E1E1C1E001E001E001E001E001E00
1E001E001E00FFC0FFC00F117F9012>114 D<1FB020704030C030C030F000FF807FE03F
F807F8003CC00CC00CE00CE008F830CFE00E117F9011>I<06000600060006000E000E00
1E003FF0FFF01E001E001E001E001E001E001E001E001E181E181E181E181E180F3003E0
0D187F9711>I E /Fi 25 122 df<3078F06005047C830C>46 D<001F80006060018010
020008040004081E0410710410E10221C1C221C1C24381C24381C2870384870384870384
870384870708870708830F1083172080E3C04000002000003000700807C007FC00171A7A
991D>64 D<000F8200706200C01603801E07000C0E000C1C000C18000C38000830000870
0000700000E00000E00000E00000E00000E00020E00020E00020E0004060004060008030
01001006000C180003E000171A7A991B>67 D<01FF800038000038000038000070000070
0000700000700000E00000E00000E00000E00001C00001C00001C00001C0000380000380
000380000380000700000700000700000700000E0000FFE000111A7E990F>73
D<03F8001FC00078003C000078003C000078005C0000B800B80000B800B800009C013800
009C013800011C027000011C027000011C047000011C087000021C08E000021C10E00002
1C10E000021C20E000041C41C000041C41C000041C81C000041C81C000080F038000080F
038000080E038000180C038000380C070000FF083FF000221A7D9922>77
D<03F007F8007801C00078008000780080009C0100009C0100009C0100008E0100010E02
000106020001070200010702000203840002038400020384000201C4000401C8000401C8
000400E8000400E8000800F00008007000080070001800700038002000FF0020001D1A7D
991D>I<3FFFFC381C0C201C04401C044038048038048038048038040070000070000070
0000700000E00000E00000E00000E00001C00001C00001C00001C0000380000380000380
00038000078000FFF800161A79991B>84 D<7FE0FF0E00380E00100E00101C00201C0020
1C00201C0020380040380040380040380040700080700080700080700080E00100E00100
E00100E00200E00200E004006008006010003860000F8000181A78991D>I<03CC0E2E18
1C381C301C701CE038E038E038E038C072C072C07260F261341E180F107C8F14>97
D<01F006080C181838301070006000E000E000E000E000E008E010602030C01F000D107C
8F12>99 D<001F80000380000380000380000700000700000700000700000E00000E0003
CE000E2E00181C00381C00301C00701C00E03800E03800E03800E03800C07200C07200C0
720060F2006134001E1800111A7C9914>I<01E006181C08380870087010FFE0E000E000
E000E000E0086010602030C01F000D107C8F12>I<1F8000038000038000038000070000
0700000700000700000E00000E00000E7C000F86001E07001E07001C07001C0700380E00
380E00380E00381C00701C80701C80703880703900E01900600E00111A7E9914>104
D<030706000000000000384C4E8E9C9C1C3838707272E2E4643808197C980C>I<000C00
0E000C00000000000000000000000000E001300238043804380438007000700070007000
E000E000E000E001C001C001C001C003806380E700CE0078000F2081980C>I<1F800380
0380038007000700070007000E000E000E0E0E131C271C431C801F003C003F8039C038E0
70E270E270E270E4E0646038101A7E9912>I<3F0707070E0E0E0E1C1C1C1C3838383870
707070E4E4E4E46830081A7D990A>I<307C005986009E07009E07009C07009C0700380E
00380E00380E00381C00701C80701C80703880703900E01900600E0011107C8F16>110
D<01F006180C0C180E300E700E600EE00EE00EE00CE01CE018E030606030C01F000F107C
8F14>I<30F059189E389C189C009C0038003800380038007000700070007000E0006000
0D107C8F10>114 D<03E004300830187018601C001F801FC00FE000E00060E060E06080
C041803E000C107D8F10>I<06000E000E000E000E001C001C00FFC01C00380038003800
38007000700070007000E100E100E100E200640038000A177C960D>I<38064C074E0E8E
0E9C0E9C0E1C1C381C381C381C7039703970393079389A0F0C10107C8F15>I<38184C1C
4E1C8E0C9C0C9C0C1C08380838083808701070107020304018C00F000E107C8F12>I<38
064C074E0E8E0E9C0E9C0E1C1C381C381C381C703870387038307838F00F700070006060
E0E1C0C18047003C0010177C8F13>121 D E /Fj 17 117 df<00000300000000000300
000000000300000000000780000000000780000000000FC0000000000FC0000000000FC0
0000000017E00000000013E00000000013E00000000023F00000000021F00000000021F0
0000000040F80000000040F80000000040F800000000807C00000000807C00000001807E
00000001003E00000001003E00000002003F00000002001F00000002001F00000004000F
80000004000F80000004000F800000080007C00000080007C00000180007E000001FFFFF
E000001FFFFFE00000200003F00000200001F00000200001F00000400001F80000400000
F80000400000F800008000007C00008000007C00008000007C00010000003E0001000000
3E00030000003F00030000001F00070000001F001F8000003F80FFE00003FFFCFFE00003
FFFC2E327EB132>65 D<FFFF80FFFF8007F00003E00003E00003E00003E00003E00003E0
0003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E0
0003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E0
0003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E0
0003E00007F000FFFF80FFFF8011317DB017>73 D<007F802001FFE02007C078600F001C
601E0006E03C0003E0380001E0780000E0700000E070000060F0000060F0000060F00000
20F0000020F0000020F8000020F80000007C0000007E0000003F0000003FC000001FF800
000FFF800007FFF80003FFFC0000FFFF00000FFF800000FFC000001FE0000007E0000003
F0000001F0000000F0000000F8000000F880000078800000788000007880000078800000
78C0000078C0000070E00000F0E00000E0F00000E0F80001C0EC000380C7000700C1F01E
00807FFC00800FF0001D337CB125>83 D<7FFFFFFFFFE07FFFFFFFFFE07E000F8007E078
000F8001E070000F8000E060000F80006040000F80002040000F800020C0000F800030C0
000F80003080000F80001080000F80001080000F80001080000F80001080000F80001080
000F80001000000F80000000000F80000000000F80000000000F80000000000F80000000
000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000
000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000
000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000
000F80000000000F80000000000F80000000000F80000000000F80000000000F80000000
000F80000000001FC00000000FFFFF8000000FFFFF80002C317EB030>I<00FE00000303
C0000C00E00010007000100038003C003C003E001C003E001E003E001E0008001E000000
1E0000001E0000001E00000FFE0000FC1E0003E01E000F801E001F001E003E001E003C00
1E007C001E00F8001E04F8001E04F8001E04F8003E04F8003E0478003E047C005E043E00
8F080F0307F003FC03E01E1F7D9E21>97 D<07800000FF800000FF8000000F8000000780
000007800000078000000780000007800000078000000780000007800000078000000780
000007800000078000000780000007800000078000000781FC0007860700078801C00790
00E007A0007007C00078078000380780003C0780003C0780001E0780001E0780001F0780
001F0780001F0780001F0780001F0780001F0780001F0780001F0780001F0780001E0780
003E0780003C0780003C0780007807C00070072000F0072001E00618038006060F000401
F80020327EB125>I<003F8000E0600380180700040F00041E001E1C003E3C003E7C003E
7C0008780000F80000F80000F80000F80000F80000F80000F80000F80000F80000780000
7C00007C00003C00011E00011E00020F000207000403801800E060003F80181F7D9E1D>
I<003F800000E0E0000380380007003C000E001E001E001E001C000F003C000F007C000F
0078000F8078000780F8000780F8000780FFFFFF80F8000000F8000000F8000000F80000
00F8000000F8000000780000007C0000003C0000003C0000801E0000800E0001000F0002
000780020001C00C0000F03000001FC000191F7E9E1D>101 D<0780000000FF80000000
FF800000000F800000000780000000078000000007800000000780000000078000000007
800000000780000000078000000007800000000780000000078000000007800000000780
000000078000000007800000000780FE00000783078000078C03C000079001E00007A001
E00007A000F00007C000F00007C000F000078000F000078000F000078000F000078000F0
00078000F000078000F000078000F000078000F000078000F000078000F000078000F000
078000F000078000F000078000F000078000F000078000F000078000F000078000F00007
8000F000078000F0000FC001F800FFFC1FFF80FFFC1FFF8021327EB125>104
D<0F001F801F801F801F800F000000000000000000000000000000000000000000000007
80FF80FF800F800780078007800780078007800780078007800780078007800780078007
800780078007800780078007800780078007800FC0FFF8FFF80D307EAF12>I<0780FF80
FF800F800780078007800780078007800780078007800780078007800780078007800780
078007800780078007800780078007800780078007800780078007800780078007800780
0780078007800780078007800780078007800FC0FFFCFFFC0E327EB112>108
D<0780FE001FC000FF83078060F000FF8C03C18078000F9001E2003C0007A001E4003C00
07A000F4001E0007C000F8001E0007C000F8001E00078000F0001E00078000F0001E0007
8000F0001E00078000F0001E00078000F0001E00078000F0001E00078000F0001E000780
00F0001E00078000F0001E00078000F0001E00078000F0001E00078000F0001E00078000
F0001E00078000F0001E00078000F0001E00078000F0001E00078000F0001E00078000F0
001E00078000F0001E00078000F0001E000FC001F8003F00FFFC1FFF83FFF0FFFC1FFF83
FFF0341F7E9E38>I<0780FE0000FF83078000FF8C03C0000F9001E00007A001E00007A0
00F00007C000F00007C000F000078000F000078000F000078000F000078000F000078000
F000078000F000078000F000078000F000078000F000078000F000078000F000078000F0
00078000F000078000F000078000F000078000F000078000F000078000F000078000F000
078000F0000FC001F800FFFC1FFF80FFFC1FFF80211F7E9E25>I<001FC00000F0780001
C01C00070007000F0007801E0003C01C0001C03C0001E03C0001E0780000F0780000F078
0000F0F80000F8F80000F8F80000F8F80000F8F80000F8F80000F8F80000F8F80000F878
0000F07C0001F03C0001E03C0001E01E0003C01E0003C00F00078007800F0001C01C0000
F07800001FC0001D1F7E9E21>I<0781FC00FF860700FF8803C00F9001E007A000F007C0
0078078000780780003C0780003C0780003E0780001E0780001F0780001F0780001F0780
001F0780001F0780001F0780001F0780001F0780001F0780003E0780003E0780003C0780
007C0780007807C000F007A000F007A001E00798038007860F000781F800078000000780
000007800000078000000780000007800000078000000780000007800000078000000780
00000FC00000FFFC0000FFFC0000202D7E9E25>I<0783E0FF8C18FF907C0F907C07A07C
07C03807C00007C00007C000078000078000078000078000078000078000078000078000
0780000780000780000780000780000780000780000780000780000780000780000FC000
FFFE00FFFE00161F7E9E19>114 D<00400000400000400000400000400000C00000C000
00C00001C00001C00003C00007C0000FC0001FFFE0FFFFE003C00003C00003C00003C000
03C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C000
03C01003C01003C01003C01003C01003C01003C01003C01001C02001E02000E0400078C0
001F00142C7FAB19>116 D E /Fk 1 14 df<0007F00000003FFE000000780F000001C0
01C000038000E00006000030000C000018001800000C001800000C003000000600600000
030060000003006000000300C000000180C000000180C000000180C000000180C0000001
80C000000180C00000018060000003006000000300600000030030000006001800000C00
1800000C000C000018000600003000038000E00001C001C00000780F0000003FFE000000
07F0000021217E9926>13 D E /Fl 46 123 df<00800100020004000C00080018003000
300030006000600060006000E000E000E000E000E000E000E000E000E000E00060006000
60006000300030003000180008000C00040002000100008009267D9B0F>40
D<8000400020001000180008000C00060006000600030003000300030003800380038003
8003800380038003800380038003000300030003000600060006000C0008001800100020
004000800009267E9B0F>I<60F0F07010101020204080040B7D830B>44
D<FFC0FFC00A0280880D>I<60F0F06004047D830B>I<00300030007000F000F001700370
027004700C7008701070307020704070C070FFFF00700070007000700070007007FF1018
7F9713>52 D<078018603030201860186018601870103C303E600F8007C019F030F86038
401CC00CC00CC00CC00C6008201018600FC00E187E9713>56 D<60F0F060000000000000
000060F0F06004107D8F0B>58 D<000C0000000C0000000C0000001E0000001E0000003F
000000270000002700000043800000438000004380000081C0000081C0000081C0000100
E0000100E00001FFE000020070000200700006007800040038000400380008001C000800
1C001C001E00FF00FFC01A1A7F991D>65 D<003F0201C0C603002E0E001E1C000E1C0006
380006780002700002700002F00000F00000F00000F00000F00000F00000700002700002
7800023800041C00041C00080E000803003001C0C0003F00171A7E991C>67
D<FFFF000E01C00E00E00E00300E00380E001C0E001C0E000E0E000E0E000F0E000F0E00
0F0E000F0E000F0E000F0E000F0E000F0E000E0E000E0E001E0E001C0E00380E00380E00
700E01C0FFFF00181A7E991D>I<FFFFF00E00700E00300E00100E00180E00080E00080E
00080E04000E04000E04000E0C000FFC000E0C000E04000E04000E04000E00040E00040E
00080E00080E00080E00180E00380E0070FFFFF0161A7E991A>I<FFE7FF0E00700E0070
0E00700E00700E00700E00700E00700E00700E00700E00700E00700FFFF00E00700E0070
0E00700E00700E00700E00700E00700E00700E00700E00700E00700E0070FFE7FF181A7E
991D>72 D<FFE00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E
000E000E000E000E000E000E000E000E000E00FFE00B1A7F990E>I<1FFC00E000E000E0
00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E040E0E0E0
E0E041C061801E000E1A7D9914>I<FFE07F800E001E000E0018000E0010000E0020000E
0040000E0080000E0100000E0200000E0400000E0800000E1C00000E2E00000E4E00000E
8700000F0380000E0380000E01C0000E00E0000E00E0000E0070000E0070000E0038000E
001C000E003E00FFE0FF80191A7E991E>I<FFF0000E00000E00000E00000E00000E0000
0E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E0020
0E00200E00200E00600E00400E00400E00C00E03C0FFFFC0131A7E9918>I<FE01FF0F00
380F00100B80100B801009C01008E01008E010087010087010083810081C10081C10080E
10080E100807100803900803900801D00801D00800F00800700800700800301C0030FF80
10181A7E991D>78 D<007F000001C1C000070070000E0038001C001C003C001E0038000E
0078000F0070000700F0000780F0000780F0000780F0000780F0000780F0000780F00007
80F000078078000F0078000F0038000E003C001E001C001C000E0038000700700001C1C0
00007F0000191A7E991E>I<FFFC00000E0780000E01C0000E00E0000E00F0000E00F000
0E00F0000E00F0000E00F0000E00E0000E01C0000E0780000FFC00000E0600000E030000
0E0180000E01C0000E01C0000E01C0000E01E0000E01E0000E01E0000E01E0800E00F080
0E007100FFE03E00191A7E991C>82 D<0FC21836200E6006C006C002C002C002E0007000
7E003FE01FF807FC003E000E00070003800380038003C002C006E004D81887E0101A7E99
15>I<7FFFFF00701C0700401C0100401C0100C01C0180801C0080801C0080801C008000
1C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C000000
1C0000001C0000001C0000001C0000001C0000001C0000001C0000001C000003FFE00019
1A7F991C>I<FF801FE01E0007000E0006000F000400070008000780080003C0100001C0
300001E0200000F04000007040000078800000388000001D0000001F0000000E0000000E
0000000E0000000E0000000E0000000E0000000E0000000E0000000E0000000E000000FF
E0001B1A7F991D>89 D<3F8070C070E020700070007007F01C7030707070E070E071E071
E0F171FB1E3C10107E8F13>97 D<FC00001C00001C00001C00001C00001C00001C00001C
00001C00001C00001CF8001F0E001E07001C03801C01801C01C01C01C01C01C01C01C01C
01C01C01C01C03801C03001E07001B0C0010F000121A7F9915>I<07F80C1C381C300870
00E000E000E000E000E000E0007000300438080C1807E00E107F8F11>I<007E00000E00
000E00000E00000E00000E00000E00000E00000E00000E0003CE000C3E00380E00300E00
700E00E00E00E00E00E00E00E00E00E00E00E00E00600E00700E00381E001C2E0007CFC0
121A7F9915>I<07C01C3030187018600CE00CFFFCE000E000E000E0006000300438080C
1807E00E107F8F11>I<01F0031807380E100E000E000E000E000E000E00FFC00E000E00
0E000E000E000E000E000E000E000E000E000E000E000E007FE00D1A80990C>I<0FCE18
7330307038703870387038303018602FC02000600070003FF03FFC1FFE600FC003C003C0
03C0036006381C07E010187F8F13>I<FC00001C00001C00001C00001C00001C00001C00
001C00001C00001C00001CF8001D0C001E0E001E0E001C0E001C0E001C0E001C0E001C0E
001C0E001C0E001C0E001C0E001C0E001C0E00FF9FC0121A7F9915>I<18003C003C0018
00000000000000000000000000FC001C001C001C001C001C001C001C001C001C001C001C
001C001C001C00FF80091A80990A>I<FC001C001C001C001C001C001C001C001C001C00
1C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00FF80091A8099
0A>108 D<FC7C1F001D8E63801E0781C01E0781C01C0701C01C0701C01C0701C01C0701
C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C0FF9FE7F81D107F
8F20>I<FCF8001D0C001E0E001E0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E
001C0E001C0E001C0E001C0E00FF9FC012107F8F15>I<07E01C38300C700E6006E007E0
07E007E007E007E0076006700E381C1C3807E010107F8F13>I<FCF8001F0E001E07001C
03801C03801C01C01C01C01C01C01C01C01C01C01C01C01C03801C03001E07001F0C001C
F0001C00001C00001C00001C00001C00001C0000FF800012177F8F15>I<FCE01D701E70
1E201C001C001C001C001C001C001C001C001C001C001C00FFC00C107F8F0F>114
D<1F2060E04020C020C020F0007F003FC01FE000F080708030C030C020F0408F800C107F
8F0F>I<0400040004000C000C001C003C00FFC01C001C001C001C001C001C001C001C00
1C201C201C201C201C200E4003800B177F960F>I<FC7E001C0E001C0E001C0E001C0E00
1C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C1E000C2E0007CFC012107F
8F15>I<FF1F803C06001C04001C04001E0C000E08000E080007100007100007900003A0
0003A00001C00001C00001C00000800011107F8F14>I<FF3F9F803C0E0700380E06001C
1604001C1704001E170C000E2308000E2388000F239800074190000741D00003C1E00003
80E0000380E0000180C0000100400019107F8F1C>I<FF3F803C1C001C18000E10000720
0007600003C00001C00001E00003E000027000043800083800181C00381E00FC3FC01210
7F8F14>I<FF1F803C06001C04001C04001E0C000E08000E080007100007100007900003
A00003A00001C00001C00001C000008000008000010000010000E10000E20000E4000078
000011177F8F14>I<7FF86070407040E041C041C00380070007000E081C081C08381070
107030FFF00D107F8F11>I E /Fm 51 124 df<3878783808081010204080050B7E830B>
44 D<01E006380C18180C380C300C700C700C700CE01CE01CE01CE01CE01CE01CC038C0
38C038C030C070C06060C071801E000E187C9713>48 D<003000700F7000E000E000E000
E000E000E001C001C001C001C001C001C003800380038003800380038007000780FFF00C
187D9713>I<00F800030E000407000807800803801803801C0380180780000700000700
000E00001C0000180000300000600000C0000180000202000402000804001004003FFC00
7FF800FFF80011187E9713>I<01F0061C080E0C0E1C0E0C0E001E001C00180038006007
C000700038003C003C003CE03CE03CC0388078407021C01F800F187D9713>I<00060006
000E001C003C005C00DC019C011C0238043808381038303820384070FFFF007000700070
007000E000F00FFE10187E9713>I<060307FE07FC0FF00800080008000800080013E01C
301018001C000C000C001C401CE01CE01C80388030406020C01F0010187D9713>I<00F8
018406040C0C1C1C180030007000700063C0EC60F030F038E018E018E038C038C038C038
C030C06060C021801F000E187C9713>I<20003FFF3FFE7FFC4008400880108020004000
800180010003000200060006000E000C001C001C001C001C0038003800180010197B9813
>I<00F0030C04060C061806180618061C0C1E080FB007E003E00CF81078301C601CC00C
C00CC00CC008C018603030601F800F187D9713>I<03E006100C18180C300C700C700C70
0C701C601C601C703C303C18DC0F180038003800300070E060C0C0818083007C000E187C
9713>I<1C1C3C1800000000000000007070F06006107D8F0B>I<0FC030604030C038E038
C070007000E001C003000600040008000800180010001000100000000000000000007000
7000F00060000D1A7A9912>63 D<000040000000C0000001C0000001E0000002E0000002
E0000004E0000004E0000008F00000087000001070000010700000207000002070000040
38000040380000FFF800008038000100380001001C0002001C0006001C0004001C000C00
1C001C001E00FF00FFC01A1A7F991D>65 D<0FFFF000E01C00E00E00E00F00E00701C007
01C00F01C00F01C00F01C01E01C03C03807803FFF003803803801C03801E03801E07001E
07001E07001E07001E07003C07003C0E00780E01E0FFFF80181A7E991B>I<000FC08000
78318001C00B8003800780070003800E0003001C0003003C000100380001007800010078
00000070000000F0000000F0000000F0000000F0000000F0000200F00004007000040070
00040078000800380010001C0020000E0040000383800000FC0000191A7C991C>I<0FFF
F00000E01C0000E00E0000E0070000E0038001C0038001C001C001C001C001C001C001C0
01C001C001C0038001C0038003C0038003C0038003C0038003C003800380070007800700
070007000F0007000E0007001C00070038000E0070000E01C000FFFF00001A1A7E991D>
I<0FFFFF00E00700E00300E00100E00101C00101C00101C00101C08001C08001C1800383
0003FF0003830003810003810003810007000207000207000607000407000C0700080E00
180E0078FFFFF0181A7E991A>I<0FFE7FF000E0070000E0070000E0070000E0070001C0
0E0001C00E0001C00E0001C00E0001C00E0001C00E0003801C0003FFFC0003801C000380
1C0003801C0003801C000700380007003800070038000700380007003800070038000E00
70000F007800FFE7FF001C1A7E991D>72 D<0FFE00E000E000E000E001C001C001C001C0
01C001C00380038003800380038003800700070007000700070007000E000F00FFE00F1A
7F990E>I<03FF80001C00001C00001C00001C0000380000380000380000380000380000
380000700000700000700000700000700000700000E00000E00000E00040E000E0E000C1
C0008180004300003E0000111A7C9914>I<0FFE03FC00E001E000E0018000E0010000E0
020001C0080001C0100001C0200001C0400001C0800001C3000003870000038B80000393
800003A1C00003C1C0000380E0000700E000070070000700700007003800070038000700
1C000E001C000F001E00FFE0FF801E1A7E991E>I<0FFF0000E00000E00000E00000E000
01C00001C00001C00001C00001C00001C000038000038000038000038000038000038000
0700100700100700100700200700200700600E00E00E03C0FFFFC0141A7E9918>I<0FF0
001FC000F0003C0000F0003C0000F0005C0000B8005C00013800B8000138013800013801
38000138023800011C023800011C043800021C047000021C087000021C087000021C1070
00020E107000020E207000040E20E000040E40E000040E40E000040780E000040780E000
040700E0000C0701C0001C0601E000FF861FFC00221A7E9923>I<0FE01FF000F0038000
F0010000B0010000B8010001380200011C0200011C0200010E0200010E02000107020002
0704000207040002038400020384000201C4000201C4000400E8000400E8000400E80004
00780004007800040038000C0030001C001000FF8010001C1A7E991D>I<001FC0000070
700001C01C0003800E0007000F000E0007001C0007803C00078038000380780003807800
078070000780F0000780F0000780F0000780F0000780F0000F00F0000F00F0001E007000
1C0078003C00380078001C00F0000E01C0000707800001FC0000191A7C991E>I<0FFFF0
00E03C00E00E00E00F00E00F01C00F01C00F01C00F01C00F01C00E01C01C038038038070
03FFC00380000380000380000700000700000700000700000700000700000E00000F0000
FFE000181A7E991A>I<0FFFE00000E0780000E01C0000E01E0000E01E0001C01E0001C0
1E0001C01E0001C01C0001C03C0001C078000380E00003FF8000038180000380C0000380
E0000380E0000700E0000700E0000700F0000700F0000700F0000700F0400E00F0800F00
7900FFE03E001A1A7E991C>82 D<007C200183600200E00400E00C006008004018004018
00401C00001E00000F800007F80003FE0000FF00000F8000038000018000018040018040
0180400180400300600200F00600CC180083F000131A7E9915>I<3FFFFF80380E038020
0E0180600E0080400E0080401C0080801C0080801C0080001C0000001C0000001C000000
380000003800000038000000380000003800000038000000700000007000000070000000
700000007000000070000000E0000000F000001FFF0000191A7C991C>I<FFE1FF0E0038
0E00100E00100E00101C00201C00201C00201C00201C00201C0020380040380040380040
3800403800403800407000807000807000803001003001003802001804000C180003E000
181A7A991D>I<FFC01FE01E0007001E0006000E0004000F000800070010000780200003
80200003C0400001C0800001E1000000E1000000F2000000740000007800000038000000
30000000700000007000000070000000700000007000000060000000E0000000E000000F
FE00001B1A7B991D>89 D<0FC01870383010380038003803F81E7038707070E070E071E0
F1E0E263763C3810107D8F13>97 D<7E000E000E000E000E001C001C001C001C001C001D
F03A0C3C0638073807380338037007700770077006700E700CF018C87087C0101A7C9915
>I<01FC06060C0E1804300070007000E000E000E000E000600070043008183007C00F10
7E8F11>I<000FC00001C00001C00001C00001C000038000038000038000038000038001
F380070F000C0700180700300700700700700700E00E00E00E00E00E00E00E00600E0060
0E00301C00187E000F9F80121A7E9915>I<01F006181C0C380C300E700E7FFEE000E000
E000E000600060043008183007C00F107E8F11>I<001E006300E701C601C00380038003
80038003803FF00700070007000700070007000E000E000E000E000E000E001C001E00FF
C0101A7F990C>I<0FC00001C00001C00001C00001C00003800003800003800003800003
8000039E000763000783800783800703800703800703800E07000E07000E07000E07000E
07000E07001C0E001C0E00FF9FC0121A7F9915>104 D<018003C003C001800000000000
000000000000001F800700070007000700070007000E000E000E000E000E000E001C001C
00FF800A1A80990A>I<0FC001C001C001C001C003800380038003800380038007000700
07000700070007000E000E000E000E000E000E001C001C00FF800A1A80990A>108
D<1F9F07C0072188600741D0700781E0700701C0700701C0700701C0700E0380E00E0380
E00E0380E00E0380E00E0380E00E0380E01C0701C01C0701C0FF9FE7F81D107F8F20>I<
1F9E000763000783800783800703800703800703800E07000E07000E07000E07000E0700
0E07001C0E001C0E00FF9FC012107F8F15>I<01F0060C1C061807300370037003E007E0
07E007E007600E600C301818700FC010107E8F13>I<1FB8074C079C0788070007000700
0E000E000E000E000E000E001C001E00FFC00E107F8F0F>114 D<07EC0C181008300830
083C003FC01FE007F00078403840184010E030D0608F800E107F8F0F>I<020006000400
04000C001C003C00FFC03800380038003800380038007000700070807080708070807100
72001C000A177C960F>I<FC7E381C381C381C381C381C381C7038703870387038703870
78707071F81E7E0F107C8F15>I<FF3FCFC03C0F07001C0E06001C1604001C1704001C27
08001C2708000E4710000E4310000E8320000E83A0000F03C0000F03C000060380000601
8000040100001A107D8F1C>119 D<1FE1F80380E00380C003808003810001C10001C200
01C20001C40000E40000E80000F80000F00000E000006000004000004000008000008000
610000E20000E400007800001517808F14>121 D<FFFFC012017E8913>123
D E end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300dpi
TeXDict begin

%%EndSetup
%%Page: 1 1
1 0 bop 269 146 a Fm(LISP)13 b(AND)g(SYMBOLIC)g(COMPUT)m(A)m(TION:)d
(An)j(In)o(ternational)j(Journal,)e(?,)e(??{)s(??,)h(1994)460
186 y Fl(c)449 187 y Fk(\015)g Fm(1994)h(Klu)o(w)o(er)f(Academic)h
(Publishers)i({)d(Man)o(ufactured)h(in)g(The)f(Netherlands)213
458 y Fj(A)21 b(T)-6 b(ractable)22 b(Sc)n(heme)f(Implemen)n(tation)213
655 y Fl(RICHARD)12 b(A.)h(KELSEY)723 b(\()p Fi(kelsey@c)n(cs.n)o(eu)o
(.e)n(du)r Fl(\))213 711 y Fi(Northe)n(astern)10 b(University)213
773 y Fl(JONA)m(THAN)g(A.)j(REES)757 b(\()p Fi(jar@cs.c)n(ornel)r(l.e)n
(du)r Fl(\))213 829 y Fi(MIT)14 b(and)e(Cornel)r(l)h(University)213
966 y Fh(Abstract.)39 b Fl(Sc)o(heme)13 b(48)f(is)g(an)g(implemen)o
(tation)j(of)c(the)h(Sc)o(heme)g(programming)i(language)g(con-)213
1008 y(structed)d(with)h(tractabilit)o(y)h(and)f(reliabili)q(t)o(y)i
(as)d(its)g(primary)h(design)h(goals.)k(It)11 b(has)g(the)g(structural)
213 1049 y(prop)q(erties)g(of)e(large,)i(compiler-based)i(Lisp)d
(implemen)o(tation)q(s:)18 b(it)10 b(is)g(written)h(en)o(tirely)g(in)f
(Sc)o(heme,)213 1090 y(is)i(b)q(o)q(otstrapp)q(ed)h(via)g(its)f
(compiler,)h(and)f(pro)o(vides)i(n)o(umerous)e(language)i(extensions.)k
(It)11 b(con)o(trols)213 1131 y(the)17 b(complexit)o(y)i(that)e
(ordinaril)q(y)j(attends)e(suc)o(h)f(large)h(Lisp)g(implemen)o(tation)q
(s)i(through)e(clear)213 1172 y(articulation)f(of)d(in)o(ternal)j(mo)q
(dularit)o(y)f(and)f(b)o(y)g(the)g(exclusion)i(of)d(features,)h
(optimizations,)i(and)213 1213 y(generalizations)f(that)d(are)g(of)g
(only)h(marginal)i(v)n(alue.)213 1337 y Fg(1.)55 b(In)n(tro)r(duction)
213 1436 y Ff(Sc)o(heme)13 b(48)f(is)h(an)f(implemen)o(tation)i(of)e
(the)h(Sc)o(heme)g(programming)f(language)h(con-)213
1487 y(structed)19 b(with)g(tractabilit)o(y)g(and)g(reliabili)q(t)o(y)i
(as)e(its)g(primary)g(design)h(goals.)31 b(By)213 1538
y(tractabilit)o(y)12 b(w)o(e)f(mean)h(the)f(ease)h(with)g(whic)o(h)g
(the)g(system)f(can)h(b)q(e)h(understo)q(o)q(d)f(and)213
1589 y(c)o(hanged.)29 b(Although)19 b(Lisp)h(dialects,)f(includin)q(g)i
(Sc)o(heme,)e(are)f(relativ)o(ely)h(simple)213 1639 y(languages,)14
b(implemen)o(tation)h(tractabilit)o(y)f(is)h(often)e(threatened)h(b)o
(y)g(the)g(demands)213 1690 y(of)g(pro)o(viding)i(high)g(p)q
(erformance)f(and)g(extended)h(functionalit)o(y)l(.)21
b(The)15 b(Sc)o(heme)h(48)213 1741 y(pro)s(ject)e(w)o(as)h(initiated)i
(in)f(order)f(to)g(exp)q(erimen)o(t)h(with)g(tec)o(hniques)h(for)d
(main)o(tain-)213 1792 y(ing)i(implemen)o(tation)g(tractabilit)o(y)g
(in)g(the)g(face)f(of)g(coun)o(terv)m(ailing)i(pressures)f(and)213
1843 y(to)e(\014nd)i(out)f(what)g(tradeo\013s)e(w)o(ere)i(in)o(v)o(olv)
o(ed)h(in)g(doing)g(so.)258 1905 y(Small)f(Lisp)f(implemen)o(tations)h
(are)e(usually)i(tractable)e(merely)h(b)o(y)f(virtue)h(of)f(b)q(e-)213
1956 y(ing)h(small;)h(it)f(is)g(usually)h(p)q(ossible)g(for)f(an)f(exp)
q(erienced)j(programmer)d(to)g(read)h(and)213 2007 y(understand)i(the)h
(en)o(tire)f(source)g(program)f(in)i(a)f(few)g(da)o(ys.)23
b(Ho)o(w)o(ev)o(er,)15 b(Sc)o(heme)i(48)213 2058 y(sp)q(eci\014cally)g
(attempts)d(to)h(tac)o(kle)g(the)g(structural)g(problems)g(p)q(osed)h
(b)o(y)f(large)g(Lisp)213 2109 y(implemen)o(tations.)34
b(Although)20 b(it)f(is)h(imp)q(ossible)i(to)d(de\014ne)i(the)e(terms)g
(small)h(or)213 2159 y(large)d(precisely)i(in)f(this)g(con)o(text,)f(b)
o(y)h(a)f(small)h(Lisp)g(system)f(w)o(e)g(generally)i(mean)213
2210 y(one)d(that)h(is)g(less)g(than)g(ab)q(out)f(15,000)f(lines)k(of)d
(source)h(co)q(de,)g(is)h(based)f(on)f(an)h(in-)213 2261
y(terpreter)d(or)f(simple)j(translator)d(not)h(written)h(in)g(Lisp,)g
(and)g(pro)o(vides)g(few,)f(if)g(an)o(y)l(,)213 2312
y(features)h(b)q(ey)o(ond)i(a)f(small)h(core)e(language)i(suc)o(h)f(as)
g(IEEE)g(standard)g(Sc)o(heme)g([1].)213 2363 y(By)g(a)f(large)h(Lisp)h
(system)f(w)o(e)f(mean)h(one)g(that)g(is)g(more)g(than)f(ab)q(out)h
(15,000)e(lines)213 2414 y(and)i(implemen)o(ts)h(a)f(large)g(language)g
(suc)o(h)g(as)g(Common)f(Lisp)i([10)o(])f(or)f(a)h(substan-)213
2464 y(tially)g(extended)g(dialect)h(of)d(Sc)o(heme.)p
720 2568 462 2 v 720 2626 2 59 v 734 2606 a Fm(Draft)f(of)g(Jan)o(uary)
h(31,)f(1994)p 1180 2626 V 720 2628 462 2 v eop
%%Page: 2 2
2 1 bop 213 187 a Fm(2)1086 b(KELSEY)13 b(AND)g(REES)258
336 y Ff(W)l(e)20 b(arriv)o(ed)h(at)f(the)g(n)o(um)o(b)q(er)h(15,000)d
(b)o(y)i(examining)i(the)e(source)h(co)q(de)g(for)e(a)213
387 y(collection)f(of)d(Lisp)i(implemen)o(tations.)24
b(W)l(e)17 b(found)f(sev)o(en)g(small)h(Lisp)g(systems)f(in)213
438 y(public)23 b(\014le)f(arc)o(hiv)o(es)f(on)f(the)h(In)o(ternet,)i
(none)e(of)f(whic)o(h)i(con)o(tained)g(more)e(than)213
489 y(14,000)c(lines)k(of)e(source)h(co)q(de,)h(and)e(three)h(large)f
(systems)g(of)g(25,000)f(to)h(120,000)213 539 y(lines.)30
b(All)19 b(of)f(the)g(large)g(systems)f(and)i(t)o(w)o(o)d(of)i(the)g
(small)h(ones)f(included)j(nativ)o(e)213 590 y(co)q(de)14
b(compilers.)20 b(The)14 b(line)h(coun)o(ts)e(are)g(those)h(for)e(the)i
(in)o(terpreters)f(and)h(run-time)213 641 y(co)q(de)h(and)h(do)f(not)g
(include)i(the)f(compilers.)258 704 y(Size)j(is)e(not)g(the)h(only)g
(reason)e(that)h(large)g(Lisps)i(tend)e(to)o(w)o(ards)f(incomprehen-)
213 755 y(sibilit)o(y)l(.)32 b(Large)19 b(implemen)o(tation)h(size)g
(is)f(a)f(result)h(of)g(additional)h(functionalit)o(y)l(.)213
806 y(Usually)f(di\016culties)i(of)c(comprehension)j(are)e(comp)q
(ounded)h(b)o(y)g(the)f(authors)g(us-)213 856 y(ing)g(the)g(additional)
h(features)e(within)i(the)f(implemen)o(tation)h(itself.)28
b(Ev)o(en)18 b(w)o(orse,)213 907 y(once)h(a)g(system)f(has)h(b)q(een)h
(b)q(o)q(otstrapp)q(ed,)g(features)f(are)f(often)h(re-implemen)o(ted)
213 958 y(in)d(terms)g(of)f(themselv)o(es,)i(and)f(the)g(original,)h
(non-circular)g(co)q(de)g(is)f(deleted)i(from)213 1009
y(the)f(sources.)28 b(Circular)18 b(de\014nitions)i(are)d(hard)h(to)f
(understand)h(and)g(ev)o(en)g(harder)213 1060 y(to)c(mo)q(dify)l(.)258
1122 y(Sc)o(heme)i(48)e(is)h(mean)o(t)f(to)h(b)q(e)g(a)g(substan)o
(tial)g(y)o(et)f(comprehensible)j(system.)j(The)213 1173
y(curren)o(t)e(Sc)o(heme)i(48)e(system)h(includes)i(man)o(y)e
(extensions)g(to)g(standard)f(Sc)o(heme)213 1224 y(and)i(has)g(the)g
(basic)h(structural)f(c)o(haracteristics)g(of)g(the)g(large)g(systems)g
(w)o(e)g(sur-)213 1275 y(v)o(ey)o(ed.)f(T)l(ractabilit)o(y)c(is)g
(di\016cult)g(to)f(measure,)g(but)g(our)g(claim)h(that)e(Sc)o(heme)i
(48)e(is)213 1326 y(tractable)i(is)g(based)h(on)f(it)g(ha)o(ving)h(the)
f(follo)o(wing)h(features:)281 1415 y Fe(\017)22 b Ff(explicit)c(in)o
(terfaces)d(are)g(used)h(to)e(divide)j(the)f(co)q(de)f(in)o(to)h(mo)q
(dules;)281 1498 y Fe(\017)22 b Ff(these)13 b(mo)q(dules)g(are)f
(organized)h(in)g(a)f(hierarc)o(hical)i(fashion:)19 b(the)12
b(ma)s(jor)f(com-)326 1549 y(p)q(onen)o(ts)16 b(of)e(the)i(system)e
(can)i(b)q(e)g(understo)q(o)q(d)f(indep)q(enden)o(tly;)281
1633 y Fe(\017)22 b Ff(the)12 b(mo)q(dules)g(are)f(largely)h(indep)q
(enden)o(t:)20 b(Sc)o(heme)12 b(48)f(can)h(b)q(e)g(built)g(from)f(the)
326 1684 y(a)o(v)m(ailable)21 b(sources,)e(in)g(a)g(mix)g(and)g(matc)o
(h)f(fashion,)i(as)e(an)o(ything)h(ranging)326 1735 y(from)e(a)h
(minimal)i(implemen)o(tation)f(of)e(a)h(Sc)o(heme)h(subset)f(to)f(an)h
(extended)326 1785 y(dev)o(elopmen)o(t)e(en)o(vironmen)o(t;)281
1869 y Fe(\017)22 b Ff(there)16 b(are)e(m)o(ultiple)j(implemen)o
(tations)g(of)e(man)o(y)f(of)h(the)g(in)o(terfaces;)281
1953 y Fe(\017)22 b Ff(all)16 b(of)f(the)g(co)q(de)h(is)g(written)f(in)
h(Sc)o(heme;)281 2037 y Fe(\017)22 b Ff(ma)s(jor)e(parts)i(of)f(the)h
(system,)g(including)j(the)d(co)q(de)g(to)f(build)j(a)d(w)o(orking)326
2088 y(image)c(from)f(the)h(source)g(\014les,)g(can)g(b)q(e)h(run)f
(stand-alone)g(using)g(an)o(y)g(IEEE)326 2138 y(Sc)o(heme)f(implemen)o
(tation.)213 2227 y(In)21 b(addition,)j(when)e(writing)g(the)f(co)q(de)
h(for)e(Sc)o(heme)i(48)f(w)o(e)g(to)q(ok)g(the)g(un)o(usual)213
2278 y(step)11 b(of)h(giving)g(simplicit)o(y)i(priorit)o(y)e(o)o(v)o
(er)f(execution)h(sp)q(eed,)h(unless)g(measuremen)o(ts)213
2329 y(demonstrated)h(that)g(the)h(increase)h(in)g(sp)q(eed)g(w)o(as)e
(signi\014can)o(t.)21 b(Implemen)o(ted)16 b(fea-)213
2380 y(tures)h(not)h(meeting)g(this)h(criterion)f(w)o(ere)g(remo)o(v)o
(ed.)27 b(The)18 b(system's)f(o)o(v)o(erall)h(sim-)213
2431 y(plicit)o(y)e(help)q(ed)i(in)d(p)q(erforming)h(suc)o(h)f(exp)q
(erimen)o(ts)h(b)o(y)f(making)h(it)f(easy)g(to)f(isolate)213
2482 y(and)h(ev)m(aluate)h(di\013eren)o(t)f(implemen)o(tation)i(c)o
(hoices.)p 720 2568 462 2 v 720 2626 2 59 v 734 2606
a Fm(Draft)c(of)g(Jan)o(uary)h(31,)f(1994)p 1180 2626
V 720 2628 462 2 v eop
%%Page: 3 3
3 2 bop 213 187 a Fm(TRA)o(CT)m(ABLE)11 b(SCHEME)j(IMPLEMENT)m(A)m
(TION)657 b(3)238 326 y Ff(Dialect)372 b(Use)15 b(within)h(Sc)o(heme)g
(48)p 213 343 1208 2 v 238 379 a(Pre-Sc)o(heme)281 b(Virtual)16
b(mac)o(hine)g(implemen)o(tation)238 429 y(Primitiv)o(e)g(Sc)o(heme)165
b(Minimal)16 b(compiled)h(subset)238 480 y(Sc)o(heme)365
b(General,)15 b(standard)238 531 y(Big)g(Sc)o(heme)283
b(General)238 582 y(Con\014guration)15 b(language)50
b(Mo)q(dule)16 b(descriptions)700 674 y(T)l(able)g(1:)j(Sc)o(heme)d
(Dialects)213 803 y Fg(2.)55 b(System)17 b(Organization)213
902 y Ff(W)l(e)11 b(used)h(t)o(w)o(o)e(main)i(strategies)f(to)f(k)o
(eep)i(Sc)o(heme)g(48)f(comprehensible:)20 b(the)11 b(system)213
953 y(is)20 b(written)h(en)o(tirely)g(in)g(Sc)o(heme,)h(using)f(a)f(v)m
(ariet)o(y)g(of)g(dialects,)j(and)d(is)h(divided)213
1003 y(in)o(to)d(mo)q(dules)h(with)f(explicit)i(in)o(terfaces)e(and)g
(dep)q(endencies.)31 b(F)l(or)18 b(eac)o(h)g(mo)q(dule)213
1054 y(w)o(e)g(used)h(the)f(simplest)h(adequate)g(dialect)g(and)g
(tried)g(to)f(minimize)i(the)f(n)o(um)o(b)q(er)213 1105
y(of)h(dep)q(endencies)k(on)c(other)g(mo)q(dules.)38
b(The)21 b(Sc)o(heme)g(dialects)h(used)f(are)g(listed)213
1156 y(in)g(table)g(1.)35 b(Primitiv)o(e)22 b(Sc)o(heme)f(and)g(Big)g
(Sc)o(heme)g(ha)o(v)o(e)f(the)h(same)f(seman)o(tics)213
1207 y(as)h(Sc)o(heme,)j(with)e(the)g(deletion)h(or)e(addition)i(of)e
(pro)q(cedures)i(and)f(syn)o(tax)f(but)213 1257 y(without)11
b(signi\014can)o(t)h(c)o(hange)f(to)f(the)h(underlying)i(seman)o(tics.)
19 b(Pre-Sc)o(heme)12 b(is)f(more)213 1308 y(of)17 b(a)g(departure,)i
(as)e(it)h(is)h(designed)g(to)e(allo)o(w)h(compilation)h(to)e(idomatic)
i(C)e(co)q(de)213 1359 y(\(in)o(tegers)10 b(are)g Fd(int)p
Ff(s)f(and)i(so)f(forth\).)17 b(This)11 b(requiremen)o(t)f(results)h
(in)g(some)f(signi\014can)o(t)213 1410 y(restrictions)22
b(on)g(Pre-Sc)o(heme)g(programs,)g(although)g(they)g(can)g(still)i(b)q
(e)e(run)g(as)213 1461 y(Sc)o(heme)15 b(programs.)k(Pre-Sc)o(heme)d(is)
g(discussed)h(in)f(section)f(4.)258 1524 y(The)k(Sc)o(heme)g(48)f
(system)g(is)i(based)f(on)f(a)g(virtual)i(mac)o(hine.)31
b(Using)19 b(a)f(virtual)213 1574 y(mac)o(hine)h(raised)h(man)o(y)f(of)
f(the)h(same)g(organizational)h(issues)g(as)e(using)i(a)f(nativ)o(e)213
1625 y(co)q(de)14 b(compiler,)h(suc)o(h)f(as)f(ho)o(w)g(b)q(o)q
(otstrapping)h(is)h(accomplished,)g(without)f(forcing)213
1676 y(us)22 b(to)g(deal)h(with)f(actually)h(generating)g(mac)o(hine)g
(co)q(de)g(or)e(with)i(other)f(details)213 1727 y(of)c(hardw)o(are)h
(arc)o(hitecture.)32 b(The)20 b(virtual)g(mac)o(hine)g(arc)o(hitecture)
f(giv)o(es)h(a)f(w)o(ell-)213 1778 y(de\014ned)h(in)o(terface)g(to)f
(the)g(execution)i(hardw)o(are.)31 b(The)20 b(run-time)g(co)q(de)g(can)
g(use)213 1828 y(that)c(in)o(terface)h(and)g(ignore)g(the)g(question)g
(of)g(whether)f(the)h(underlying)i(mac)o(hine)213 1879
y(is)i(real)h(or)e(virtual.)39 b(Using)22 b(a)e(virtual)i(mac)o(hine)g
(also)f(has)g(the)h(immediate)g(and)213 1930 y(practical)16
b(b)q(ene\014t)g(of)f(making)g(Sc)o(heme)h(48)e(easy)h(to)g(p)q(ort)g
(to)f(new)i(platforms.)258 1993 y(The)f(Sc)o(heme)g(48)e(implemen)o
(tation)j(has)e(four)g(main)h(parts:)k(a)14 b(realization)h(of)f(the)
213 2044 y(virtual)g(mac)o(hine,)h(a)f(Sc)o(heme)g(compiler)h(that)f
(pro)q(duces)h(co)q(de)f(for)g(the)g(virtual)g(ma-)213
2094 y(c)o(hine,)g(a)f(static)g(link)o(er)i(used)e(to)g(build)i
(executable)g(images,)e(and)h(implemen)o(tations)213
2145 y(of)j(b)q(oth)h(standard)g(and)g(non-standard)g(Sc)o(heme)h
(library)g(routines.)29 b(The)18 b(virtual)213 2196 y(mac)o(hine)h(is)f
(written)g(in)h(Pre-Sc)o(heme,)g(so)f(that)g(it)g(can)g(b)q(e)h
(compiled)h(to)d(e\016cien)o(t)213 2247 y(C)f(or)h(nativ)o(e)g(co)q
(de,)g(and)g(then)g(run)g(as)g(a)f(stand-alone)i(program.)23
b(The)17 b(b)o(yte-co)q(de)213 2298 y(compiler)22 b(pro)o(vides)g(an)f
(implemen)o(tation)i(of)e(Primitiv)o(e)h(Sc)o(heme,)h(and)f(the)f(rest)
213 2348 y(of)e(Sc)o(heme)h(is)g(implemen)o(ted)h(using)g(co)q(de)f
(written)f(in)i(Primitiv)o(e)f(Sc)o(heme.)34 b(The)213
2399 y(compiler,)15 b(link)o(er,)g(utilities,)h(and)e(the)h(extensions)
f(that)g(mak)o(e)f(up)i(Big)f(Sc)o(heme)h(are)213 2450
y(written)20 b(in)h(Sc)o(heme.)36 b(Some)20 b(of)g(the)g(extensions,)i
(suc)o(h)f(as)f(m)o(ultitasking,)h(mak)o(e)p 720 2568
462 2 v 720 2626 2 59 v 734 2606 a Fm(Draft)13 b(of)g(Jan)o(uary)h(31,)
f(1994)p 1180 2626 V 720 2628 462 2 v eop
%%Page: 4 4
4 3 bop 213 187 a Fm(4)1086 b(KELSEY)13 b(AND)g(REES)213
336 y Ff(use)21 b(of)f(functionalit)o(y)i(pro)o(vided)f(b)o(y)g(the)f
(virtual)i(mac)o(hine)f(that)f(is)h(not)f(part)g(of)213
387 y(standard)f(Sc)o(heme,)i(and)g(these)f(mo)q(dules)h(cannot)e(b)q
(e)i(run)f(using)h(other)e(Sc)o(heme)213 438 y(implemen)o(tations.)30
b(The)19 b(virtual)g(mac)o(hine,)g(compiler,)h(and)f(link)o(er)h(can)e
(b)q(e)h(\(and)213 489 y(are\))14 b(run)i(using)g(Sc)o(heme)f(implemen)
o(tations)i(other)e(than)g(Sc)o(heme)h(48.)258 551 y(Sc)o(heme)k(48's)f
(mo)q(dule)i(system)e(is)i(designed)g(to)e(supp)q(ort)h(b)q(oth)f
(static)h(linking)213 602 y(and)f(rapid)i(turnaround)e(during)i
(program)d(dev)o(elopmen)o(t.)34 b(The)20 b(design)g(w)o(as)f(in-)213
653 y(\015uenced)f(b)o(y)f(Standard)f(ML)h(mo)q(dules)h([8)o(])f(and)g
(the)g(mo)q(dule)h(system)e(for)g(Sc)o(heme)213 704 y(Xero)o(x)k([4)o
(].)37 b(Eac)o(h)20 b(mo)q(dule)i(has)f(its)g(o)o(wn)f(isolated)i
(namespace,)g(with)f(visibili)q(t)o(y)213 755 y(of)16
b(bindings)j(con)o(trolled)e(b)o(y)g(mo)q(dule)h(descriptions)g
(written)f(in)g(a)g(mo)q(dule)h(con\014g-)213 806 y(uration)g
(language.)29 b(The)19 b(mo)q(dule)g(system)f(b)q(ears)h(some)f
(similarit)o(y)h(to)f(Common)213 856 y(Lisp's)g(pac)o(k)m(age)f(system)
g([10)o(],)h(although)f(it)h(con)o(trols)f(the)h(mapping)g(of)f(names)h
(to)213 907 y(denotations)d(instead)h(of)e(the)i(mapping)g(of)e
(strings)h(to)g(sym)o(b)q(ols.)213 1031 y Fg(3.)55 b(The)19
b(Virtual)f(Mac)n(hine)213 1130 y Ff(The)12 b(Sc)o(heme)i(48)d(virtual)
j(mac)o(hine)f(is)g(a)f(stac)o(k)g(based)h(mac)o(hine)g(similar)h(to)e
(that)f(de-)213 1181 y(scrib)q(ed)h(in)g([2)o(].)18 b(It)12
b(is)f(written)g(in)h(Pre-Sc)o(heme,)g(a)f(Sc)o(heme)h(subset)f(that)f
(is)i(describ)q(ed)213 1232 y(in)18 b(section)h(4.)27
b(The)18 b(implemen)o(tation)h(of)e(the)h(virtual)h(mac)o(hine)f(is)h
(organized)f(ac-)213 1283 y(cording)f(to)e(the)i(in)o(ternal)g(in)o
(terfaces)g(listed)g(in)g(T)l(able)h(2.)23 b(The)16 b(follo)o(wing)h
(sections)213 1333 y(describ)q(e)f(the)g(in)o(terfaces)f(and)h(their)f
(implemen)o(tations.)213 1435 y Fc(3.1.)51 b(Arc)o(hitecture)258
1525 y Ff(The)15 b(Sc)o(heme)h(48)e(arc)o(hitecture)i(description)g(is)
g(the)f(in)o(terface)g(b)q(et)o(w)o(een)g(the)g(vir-)213
1576 y(tual)d(mac)o(hine)h(and)f(the)g(rest)g(of)f(the)i(Sc)o(heme)f
(48)g(system.)18 b(It)12 b(con)o(tains)g(descriptions)213
1627 y(of)i(the)i(virtual)f(mac)o(hine's)h(instruction)g(set)f(and)g
(data)g(structures,)f(and)i(the)f(kinds)213 1678 y(of)f(p)q(ossible)j
(in)o(terrupts.)258 1740 y(Three)g(kinds)h(of)e(data)h(structures)f
(are)h(describ)q(ed)h(in)g(the)f(in)o(terface:)24 b(\014xed)17
b(size)213 1791 y(ob)s(jects)h(con)o(taining)i(other)f(Sc)o(heme)h(ob)s
(jects,)g(v)o(ectors)e(of)h(Sc)o(heme)h(ob)s(jects,)g(and)213
1842 y(v)o(ectors)15 b(con)o(taining)j(un)o(tagged)e(data.)24
b(F)l(or)16 b(ob)s(jects)g(of)g(\014xed)h(size,)h(suc)o(h)f(as)f
(pairs,)213 1893 y(the)11 b(arc)o(hitecture)h(description)h(lists)g
(the)f(names)f(of)g(the)h(v)m(arious)g(comp)q(onen)o(ts)g(\()p
Fd(car)p Ff(,)213 1944 y Fd(cdr)p Ff(\))j(in)j(the)e(order)h(in)g(whic)
o(h)g(they)g(are)f(stored)g(in)h(memory)l(.)24 b(V)l(ectors)16
b(of)g(Sc)o(heme)213 1994 y(ob)s(jects)h(include)k(Sc)o(heme)e(v)o
(ectors)f(and)g(records,)h(and)f(the)h(templates)f(describ)q(ed)213
2045 y(b)q(elo)o(w.)i(V)l(ectors)15 b(of)f(un)o(tagged)h(data)f
(include)j(strings)e(and)g(v)o(ectors)f(of)h(b)o(yte)g(co)q(des.)213
2147 y Fc(3.2.)51 b(Data)19 b(Represen)o(tations)258
2237 y Ff(The)d(basic)g(data)e(structure)h(represen)o(ting)h(Sc)o(heme)
g(ob)s(jects)f(is)h(a)f(descriptor.)21 b(A)213 2288 y(descriptor)c(is)g
(the)g(size)g(of)g(a)f(p)q(oin)o(ter)h(and)g(con)o(tains)g(a)g(tag)e
(in)j(the)f(lo)o(w-order)f(t)o(w)o(o)213 2338 y(bits.)37
b(\(This)21 b(particular)h(represen)o(tation)e(is)i(tuned)f(for)f(use)i
(on)e(b)o(yte-addressed)213 2389 y(mac)o(hines)c(where)f(a)g(p)q(oin)o
(ter)h(is)f(four)g(b)o(ytes.\))k(The)d(tag)e(is)i(one)f(of:)p
720 2568 462 2 v 720 2626 2 59 v 734 2606 a Fm(Draft)e(of)g(Jan)o(uary)
h(31,)f(1994)p 1180 2626 V 720 2628 462 2 v eop
%%Page: 5 5
5 4 bop 213 187 a Fm(TRA)o(CT)m(ABLE)11 b(SCHEME)j(IMPLEMENT)m(A)m
(TION)657 b(5)238 326 y Ff(External)15 b(in)o(terface)287
377 y Fd(architecture)216 b Ff(Instruction)16 b(set)e(description)238
432 y(Data)g(structures)287 483 y Fd(memory)360 b Ff(P)o(oin)o(ters)14
b(and)i(p)q(oin)o(ter)f(arithmetic)287 534 y Fd(descriptors)240
b Ff(T)o(yp)q(ed)15 b(descriptors)h(for)e(Sc)o(heme)i(ob)s(jects)287
584 y Fd(fixnum-arithmetic)96 b Ff(Small)16 b(in)o(teger)f(arithmetic)h
(with)g(o)o(v)o(er\015o)o(w)d(c)o(hec)o(ks)287 635 y
Fd(stored-objects)168 b Ff(Manipulating)16 b(heap)g(ob)s(jects)287
686 y Fd(data-types)264 b Ff(P)o(articular)15 b(stored)g(ob)s(ject)f(t)
o(yp)q(es)287 737 y Fd(ports)384 b Ff(Sc)o(heme)15 b(I/O)h(p)q(orts)238
792 y(Storage)e(managemen)o(t)287 843 y Fd(heap)408 b
Ff(Heap)15 b(\(including)j(garbage)c(collector\))287
893 y Fd(environments)216 b Ff(Lexical)16 b(en)o(vironmen)o(ts)287
944 y Fd(stacks)360 b Ff(Op)q(erand)16 b(stac)o(k)e(and)i(con)o(tin)o
(uations)238 999 y(Byte-co)q(de)g(in)o(terpreter)287
1050 y Fd(interpreter)240 b Ff(Instruction)16 b(dispatc)o(h;)f(error)f
(detection)287 1101 y Fd(resume)360 b Ff(Initialize,)17
b(read)e(a)g(heap)h(image,)f(and)g(start)791 1152 y(in)o(terpreting)599
1244 y(T)l(able)h(2:)j(Virtual)d(mac)o(hine)g(in)o(terfaces)281
1368 y Fe(\017)22 b Ff(Fixn)o(um:)d(the)12 b(non-tag)f(p)q(ortion)h(of)
f(the)h(descriptor)h(represen)o(ts)e(a)h(small)g(in)o(te-)326
1419 y(ger.)19 b(W)l(e)14 b(use)h(zero)e(as)h(the)g(\014xn)o(um)g(tag)f
(to)g(simplify)j(arithmetic)e(op)q(erations.)281 1504
y Fe(\017)22 b Ff(Immediate:)h(the)17 b(lo)o(w-order)f(b)o(yte)g(giv)o
(es)h(the)f(t)o(yp)q(e)h(of)e(the)i(ob)s(ject;)f(the)g(rest)326
1555 y(con)o(tains)d(an)o(y)f(other)g(necessary)h(information.)19
b(Characters,)12 b(the)g(empt)o(y)g(list,)326 1606 y
Fd(#t)18 b Ff(and)h Fd(#f)f Ff(are)h(all)g(represen)o(ted)g(as)f
(immediate)i(v)m(alues.)31 b(Another)18 b(use)h(of)326
1657 y(immediate)12 b(v)m(alues)f(is)g(as)f(illegal)j(data)d(v)m
(alues,)i(allo)o(wing)f(the)g(virtual)g(mac)o(hine)326
1708 y(to)19 b(detect)g(and)g(rep)q(ort)g(attempts)f(to)h(refer)g(to)g
(the)g(v)m(alue)h(of)f(uninitializ)q(ed)326 1759 y(v)m(ariables)e(and)e
(other)g(errors.)281 1844 y Fe(\017)22 b Ff(Stored)d(ob)s(ject:)25
b(a)19 b(p)q(oin)o(ter)f(to)g(a)g(stored)g(ob)s(ject.)29
b(The)19 b(\014rst)f(descriptor)h(in)326 1895 y(the)i(ob)s(ject)e(is)i
(a)f(header)g(describing)i(the)f(ob)s(ject.)34 b(The)20
b(p)q(oin)o(ter)h(actually)326 1946 y(p)q(oin)o(ts)16
b(to)f(the)g(\014rst)g(non-header)h(descriptor)g(in)g(the)f(ob)s(ject.)
20 b(Most)14 b(Sc)o(heme)326 1997 y(ob)s(jects,)i(suc)o(h)i(as)e
(strings,)h(pairs,)g(v)o(ectors,)f(and)h(so)g(on)f(are)h(represen)o
(ted)g(as)326 2048 y(stored)e(ob)s(jects.)k(Stored)14
b(ob)s(jects)h(either)g(con)o(tain)g(descriptors)g(or)f(un)o(tagged)326
2098 y(data)h(dep)q(ending)i(on)e(their)h(t)o(yp)q(e.)281
2184 y Fe(\017)22 b Ff(Header:)k(description)19 b(of)e(a)h(stored)f(ob)
s(ject.)27 b(The)18 b(descriptor)h(includes)h(the)326
2235 y(t)o(yp)q(e)11 b(of)f(the)h(ob)s(ject,)f(its)h(size,)h(and)f(an)f
(imm)o(utabilit)o(y)i(\015ag.)18 b(If)11 b(the)g(imm)o(utabil-)326
2286 y(it)o(y)18 b(\015ag)g(is)g(set,)g(attempts)e(to)i(mo)q(dify)g
(the)g(ob)s(ject)f(result)h(in)h(an)f(exception)326 2337
y(b)q(eing)f(raised.)258 2431 y(The)e(garbage)f(collector)i(and)f
(other)g(heap)g(manipulation)i(routines)e(are)g(written)213
2482 y(to)h(allo)o(w)h(headers)h(within)g(stored)f(ob)s(jects.)25
b(An)17 b(ob)s(ject)g(that)f(normally)i(con)o(tains)p
720 2568 462 2 v 720 2626 2 59 v 734 2606 a Fm(Draft)13
b(of)g(Jan)o(uary)h(31,)f(1994)p 1180 2626 V 720 2628
462 2 v eop
%%Page: 6 6
6 5 bop 213 187 a Fm(6)1086 b(KELSEY)13 b(AND)g(REES)213
336 y Ff(only)h(tagged)f(data,)f(suc)o(h)i(as)g(a)f(record,)g(can)h
(also)g(con)o(tain)f(un)o(tagged)h(data,)e(as)i(long)213
387 y(as)d(an)i(appropriate)f(un)o(tagged)g(data)f(header)i(is)g
(placed)g(b)q(efore)g(the)f(un)o(tagged)g(data.)213 438
y(The)j(system)g(curren)o(tly)g(mak)o(es)g(no)g(use)h(of)f(this)g
(facilit)o(y)l(.)258 501 y(Ha)o(ving)j(headers)h(on)f(all)h(stored)e
(ob)s(jects)h(allo)o(ws)g(the)g(con)o(ten)o(ts)f(of)h(memory)g(to)213
551 y(b)q(e)j(scanned.)36 b(Starting)20 b(at)f(the)i(head)g(of)e(an)o
(y)h(stored)g(ob)s(ject,)h(it)g(is)f(p)q(ossible)j(to)213
602 y(scan)12 b(through)h(memory)f(determing)h(the)g(t)o(yp)q(e)g(and)f
(con)o(ten)o(ts)g(of)h(ev)o(ery)f(subsequen)o(t)213 653
y(stored)i(ob)s(ject.)19 b(The)c(virtual)g(mac)o(hine)h(mak)o(es)e(use)
h(of)f(this)h(in)h(a)e(n)o(um)o(b)q(er)h(of)f(w)o(a)o(ys.)258
716 y(There)i(are)f(n)o(um)o(b)q(er)h(of)f(alternativ)o(es)g(to)g(this)
h(particular)g(data)f(la)o(y)o(out,)f(some)h(of)213 767
y(whic)o(h)f(ha)o(v)o(e)g(b)q(een)h(used)f(in)h(other)e(implemen)o
(tations)j([7)o(].)j(Headers)14 b(can)g(use)g(either)213
818 y(a)i(\014xn)o(um)i(or)f(an)g(immediate)h(tag,)f(freeing)g(up)h
(one)f(tag)g(v)m(alue.)27 b(This)18 b(tag)e(can)h(b)q(e)213
868 y(used)e(to)g(denote)h(a)e(p)q(oin)o(ter)i(to)f(a)g(commonly)g
(used)h(stored)f(ob)s(ject)g(t)o(yp)q(e,)g(t)o(ypically)213
919 y(pairs,)21 b(eliminating)i(the)e(need)g(for)f(headers)h(on)f(ob)s
(jects)g(of)g(that)g(t)o(yp)q(e.)36 b(Or)21 b(the)213
970 y(fourth)13 b(tag)g(can)h(b)q(e)h(un)o(used,)f(allo)o(wing)h(some)f
(tag)f(tests)g(to)g(b)q(e)i(done)f(using)h(bit-test)213
1021 y(instructions.)27 b(W)l(e)18 b(c)o(hose)g(the)f(curren)o(t)h
(data)f(represen)o(tations)g(b)q(ecause)i(they)e(are)213
1072 y(simple)k(and)e(con)o(tain)h(a)f(certain)h(amoun)o(t)e(of)h
(redundancy)l(,)j(and)e(b)q(ecause)g(sa)o(ving)213 1122
y(one)g(or)g(t)o(w)o(o)f(mac)o(hine)i(instructions)h(p)q(er)f(t)o(yp)q
(e)f(c)o(hec)o(k)h(or)f Fd(cons)f Ff(is)i(not)f(lik)o(ely)j(to)213
1173 y(b)q(e)16 b(imp)q(ortan)o(t)f(for)g(an)g(in)o(terpreted)h
(system.)21 b(The)15 b(mo)q(dular)h(nature)g(of)f(the)g(en)o(tire)213
1224 y(system)g(w)o(ould)h(mak)o(e)f(it)h(easy)g(to)f(c)o(hange)h(the)g
(data)f(represen)o(tations,)g(should)i(the)213 1275 y(need)f(arise.)258
1338 y(There)21 b(are)f(\014v)o(e)g(aggregate)f(data)g(structures)h
(used)h(b)o(y)f(the)h(virtual)f(mac)o(hine:)213 1388
y(templates,)f(closures,)h(con)o(tin)o(uations,)g(lo)q(cations,)g(and)f
(run-time)g(en)o(vironmen)o(ts.)213 1439 y(These)d(are)g(all)h(stored)f
(ob)s(jects.)22 b(A)16 b(template)h(is)g(a)e(piece)j(executable)g(co)q
(de.)23 b(Eac)o(h)213 1490 y(con)o(tains)16 b(a)h(v)o(ector)f(of)g
(instructions)h(and)g(a)g(v)o(ector)f(of)g(v)m(alues)i(that)e(includes)
j(con-)213 1541 y(stan)o(ts,)13 b(lo)q(cations,)j(and)f(other)f
(templates.)20 b(A)15 b(closure)h(is)g(the)f(represen)o(tation)g(of)f
(a)213 1592 y(pro)q(cedure;)g(it)e(con)o(tains)h(a)f(template)h(and)f
(an)h(en)o(vironmen)o(t.)19 b(A)13 b(con)o(tin)o(uation)g(con-)213
1642 y(tains)h(the)h(information)g(needed)h(to)e(restart)f(the)i(mac)o
(hine)h(when)f(a)f(pro)q(cedure)i(call)213 1693 y(returns,)11
b(sp)q(eci\014cally)i(the)d(op)q(erand)h(stac)o(k)f(and)h(con)o(ten)o
(ts)f(of)g(some)g(of)g(the)h(mac)o(hine's)213 1744 y(registers.)25
b(A)18 b(lo)q(cation)g(con)o(tains)f(the)g(v)m(alue)i(of)e(a)g(top-lev)
o(el)h(v)m(ariable.)27 b(Lo)q(cations)213 1795 y(are)14
b(distinct)j(from)d(sym)o(b)q(ols)i(to)e(allo)o(w)i(for)e(m)o(ultiple)j
(top-lev)o(el)g(en)o(vironmen)o(ts.)258 1858 y(Run-time)i(en)o
(vironmen)o(ts)f(con)o(tain)g(the)g(v)m(alues)h(of)e(lexically)j(b)q
(ound)f(v)m(ariables.)213 1909 y(These)14 b(are)g(implemen)o(ted)i(as)e
(Sc)o(heme)g(v)o(ectors,)g(with)g(the)g(\014rst)g(v)m(alue)h(in)g(eac)o
(h)g(v)o(ec-)213 1959 y(tor)c(b)q(eing)i(the)f(sup)q(erior)h(lexical)g
(en)o(vironmen)o(t.)20 b(The)12 b(address)g(of)f(a)h(lexical)i(v)m
(ariable)213 2010 y(is)i(giv)o(en)g(as)f(t)o(w)o(o)f(indices:)23
b(the)15 b(depth)h(of)f(the)h(con)o(taining)g(en)o(vironmen)o(t,)g
(with)g(the)213 2061 y(curren)o(t)d(en)o(vironmen)o(t)h(b)q(eing)g
(depth)g(zero,)g(and)f(the)h(index)g(of)f(the)h(v)m(ariable)h(within)
213 2112 y(the)d(con)o(taining)i(en)o(vironmen)o(t.)19
b(A)13 b(common)f(alternativ)o(e)h(is)g(to)f(use)h(a)g(single)h(v)o
(ector)213 2163 y(for)20 b(eac)o(h)h(en)o(vironmen)o(t,)h(cop)o(ying)g
(an)o(y)e(necessary)h(v)m(alues)h(from)f(other)f(en)o(viron-)213
2213 y(men)o(ts)c(whenev)o(er)i(a)e(new)h(en)o(vironmen)o(t)h(is)f
(made.)25 b(This)18 b(eliminates)h(the)e(need)h(to)213
2264 y(c)o(hain)13 b(bac)o(k)f(through)g(en)o(vironmen)o(ts)h(when)g
(fetc)o(hing)g(the)f(v)m(alues)i(of)e(v)m(ariables.)20
b(W)l(e)213 2315 y(used)14 b(nested)g(en)o(vironmen)o(ts)f(to)g(k)o
(eep)h(from)f(ha)o(ving)g(to)g(add)h(free)f(v)m(ariable)i(analysis)213
2366 y(to)f(the)h(b)o(yte-co)q(de)h(compiler.)p 720 2568
462 2 v 720 2626 2 59 v 734 2606 a Fm(Draft)d(of)g(Jan)o(uary)h(31,)f
(1994)p 1180 2626 V 720 2628 462 2 v eop
%%Page: 7 7
7 6 bop 213 187 a Fm(TRA)o(CT)m(ABLE)11 b(SCHEME)j(IMPLEMENT)m(A)m
(TION)657 b(7)213 336 y Fc(3.3.)51 b(Storage)18 b(Managemen)o(t)258
426 y Ff(The)23 b(storage)e(managemen)o(t)g(system)h(pro)o(vides)h(for)
f(the)g(creation)h(and)f(recla-)213 477 y(mation)f(of)f(stored)h(ob)s
(jects,)h(including)i(con)o(tin)o(uations)d(and)g(en)o(vironmen)o(ts.)
38 b(In)213 528 y(addition,)15 b(a)e(stac)o(k)h(in)o(terface)g
(includes)i(op)q(erations)f(for)e(main)o(taining)i(the)f(op)q(erand)213
578 y(stac)o(k.)23 b(Most)16 b(ob)s(jects)g(are)g(allo)q(cated)h(from)f
(a)h(heap.)24 b(Heap)17 b(storage)e(is)i(reclaimed)213
629 y(using)23 b(a)f(simple)i(t)o(w)o(o-space)e(cop)o(ying)h(garbage)e
(collector.)43 b(The)22 b(design)i(of)e(the)213 680 y(virtual)15
b(mac)o(hine)g(puts)f(few)g(restrictions)h(on)f(the)g(garbage)g
(collector)h(and)f(an)h(early)213 731 y(v)o(ersion)d(of)g(the)h(VM)f
(has)h(b)q(een)g(used)h(for)d(extensiv)o(e)j(exp)q(erimen)o(ts)f(in)h
(this)f(area)f([13)o(].)258 794 y(The)18 b(con)o(ten)o(ts)f(of)g(the)h
(heap)g(ma)o(y)f(b)q(e)h(written)f(to)g(and)h(read)g(from)f(\014les.)28
b(Heap)213 845 y(image)10 b(\014les)h(con)o(tain)g(a)f(p)q(oin)o(ter)h
(to)f(a)g(distinguished)j(en)o(try)d(pro)q(cedure)h(in)g(that)f(heap.)
213 895 y(Heap)h(images)f(are)h(mac)o(hine)h(indep)q(enden)o(t;)i(they)
d(con)o(tain)g(the)g(information)g(needed)213 946 y(to)21
b(relo)q(cate)h(the)h(heap)f(in)h(memory)e(and)i(to)e(correct)h(b)o
(yte)g(order)f(if)i(necessary)l(.)213 997 y(When)16 b(the)f(virtual)h
(mac)o(hine)h(is)f(started)f(it)h(reads)f(a)g(heap)h(image)g(from)f(a)g
(\014le)i(and)213 1048 y(b)q(egins)j(execution)h(b)o(y)e(calling)j(the)
d(en)o(try)h(pro)q(cedure.)33 b(Execution)21 b(ceases)e(when)213
1099 y(that)e(pro)q(cedure)i(returns.)28 b(Heap)18 b(image)g(\014les)h
(can)g(b)q(e)f(created)g(either)h(using)g(the)213 1149
y Fd(write-image)d Ff(instruction)j(or)f(b)o(y)g(using)h(the)f(static)g
(link)o(er.)29 b(A)18 b(heap)h(image)f(\014le)213 1200
y(can)d(b)q(e)h(quite)g(small,)f(since)i(it)e(only)h(needs)g(to)f(con)o
(tain)g(the)g(information)h(required)213 1251 y(to)e(execute)i(a)f
(call)h(to)f(the)g(en)o(try)g(pro)q(cedure.)258 1314
y(Con)o(tin)o(uations)g(and)g(en)o(vironmen)o(ts)f(are)h(treated)f(sp)q
(ecially)l(,)j(since)f(they)e(can)h(of-)213 1365 y(ten)j(b)q(e)h
(reclaimed)g(more)f(e\016cien)o(tly)i(than)e(most)f(ob)s(jects.)28
b(They)19 b(are)f(ordinarily)213 1415 y(not)10 b(needed)i(b)o(y)e(the)h
(program)e(after)h(the)h(return)f(from)g(the)h(call)g(for)f(whic)o(h)i
(they)e(w)o(ere)213 1466 y(created.)18 b(The)10 b(only)h(exception)g
(to)f(this)g(is)h(when)g Fd(call-with-current-conti)o(nuation)213
1517 y Ff(is)k(used.)258 1580 y(There)22 b(are)f(four)h(op)q(erations)g
(in)o(v)o(olving)h(con)o(tin)o(uations:)33 b(create)21
b(a)h(con)o(tin)o(ua-)213 1631 y(tion)17 b(that)g(con)o(tains)g(the)h
(curren)o(t)f(argumen)o(t)g(stac)o(k)f(and)i(the)f(mac)o(hine's)h(in)o
(ternal)213 1681 y(state;)23 b(in)o(v)o(ok)o(e)f(a)f(con)o(tin)o
(uation,)i(restoring)f(the)f(argumen)o(t)g(stac)o(k)g(and)h(the)f(ma-)
213 1732 y(c)o(hine's)d(state;)g(preserv)o(e)g(the)g(curren)o(t)g(con)o
(tin)o(uation)g(for)f(later)h(use;)h(and)f(mak)o(e)f(a)213
1783 y(preserv)o(ed)h(con)o(tin)o(uation)h(b)q(ecome)h(the)e(curren)o
(t)h(one.)30 b(The)18 b(simplest)i(implemen-)213 1834
y(tation)15 b(of)h(this)g(in)o(terface)g(is)g(to)g(create)f(all)i(con)o
(tin)o(uations)f(in)h(the)f(heap.)22 b(Creating)213 1885
y(and)14 b(in)o(v)o(oking)g(con)o(tin)o(uations)g(then)g(requires)h
(cop)o(ying)f(the)g(op)q(erand)g(stac)o(k)f(to)g(and)213
1936 y(from)19 b(the)i(heap.)35 b(Preserving)21 b(and)f(selecting)i
(con)o(tin)o(uations)f(are)f(no-ops,)h(since)213 1986
y(con)o(tin)o(uations)d(are)f(alw)o(a)o(ys)h(in)g(the)g(heap)h(and)f
(all)h(heap)f(ob)s(jects)f(ha)o(v)o(e)h(inde\014nite)213
2037 y(exten)o(t.)258 2100 y(An)c(alternativ)o(e)g(implemen)o(tation)h
(is)f(to)f(create)h(con)o(tin)o(uations)g(on)g(the)f(op)q(erand)213
2151 y(stac)o(k)h(b)o(y)h(pushing)h(the)f(mac)o(hine's)g(state)f(on)h
(top)g(of)f(the)h(curren)o(t)g(op)q(erands.)20 b(This)213
2202 y(a)o(v)o(oids)13 b(the)h(need)g(to)f(cop)o(y)h(the)g(op)q(erand)g
(stac)o(k)f(bac)o(k)g(and)h(forth.)19 b(It)13 b(also)h(impro)o(v)o(es)
213 2252 y(data)i(lo)q(calit)o(y)j(b)o(y)e(e\016cien)o(tly)h(reusing)g
(stac)o(k)f(space.)26 b(Preserving)18 b(a)f(con)o(tin)o(uation)213
2303 y(b)q(ecomes)f(more)g(exp)q(ensiv)o(e)i(b)q(ecause)f(it)f
(requires)h(cop)o(ying)f(the)g(con)o(tin)o(uation)h(in)o(to)213
2354 y(the)e(heap.)20 b(The)c(con)o(tin)o(uation)f(is)h(copied)g(bac)o
(k)f(to)g(the)g(stac)o(k)f(when)i(it)f(is)h(in)o(v)o(ok)o(ed.)213
2405 y(Con)o(tin)o(uations)d(ma)o(y)h(b)q(e)g(freely)h(copied)g(bac)o
(k)e(and)h(forth,)f(b)q(ecause)i(they)f(are)g(nev)o(er)213
2456 y(mo)q(di\014ed,)i(only)g(created)f(and)g(in)o(v)o(ok)o(ed.)p
720 2568 462 2 v 720 2626 2 59 v 734 2606 a Fm(Draft)e(of)g(Jan)o(uary)
h(31,)f(1994)p 1180 2626 V 720 2628 462 2 v eop
%%Page: 8 8
8 7 bop 213 187 a Fm(8)1086 b(KELSEY)13 b(AND)g(REES)258
336 y Ff(En)o(vironmen)o(ts)18 b(can)g(also)g(b)q(e)g(allo)q(cated)h
(either)f(in)h(the)f(heap)g(or)f(on)h(the)g(stac)o(k.)213
387 y(An)f(en)o(vironmen)o(t)h(is)g(created)f(b)o(y)g(making)h(a)f(v)o
(ector)g(that)f(con)o(tains)i(a)f(p)q(oin)o(ter)h(to)213
438 y(the)e(curren)o(t)h(en)o(vironmen)o(t)g(and)g(the)g(con)o(ten)o
(ts)f(of)h(the)f(op)q(erand)i(stac)o(k.)23 b(This)18
b(can)213 489 y(b)q(e)k(done)g(b)o(y)f(allo)q(cating)i(a)e(v)o(ector)g
(in)h(the)g(heap)g(and)f(mo)o(ving)h(the)f(v)m(alues)i(in)o(to)213
539 y(it,)h(or)e(b)o(y)h(adding)h(a)e(v)o(ector)g(header)h(to)f(the)h
(op)q(erand)g(stac)o(k,)h(at)e(whic)o(h)h(p)q(oin)o(t)213
590 y(the)18 b(stac)o(k)f(p)q(oin)o(ter)h(p)q(oin)o(ts)h(to)e(the)h
(new)g(en)o(vironmen)o(t.)29 b(As)18 b(with)g(con)o(tin)o(uations,)213
641 y(preserving)h(an)f(en)o(vironmen)o(t)g(that)g(is)h(on)f(the)g
(stac)o(k)g(requires)h(mo)o(ving)f(it)g(to)g(the)213
692 y(heap.)h(En)o(vironmen)o(ts)11 b(can)g(b)q(e)h(mo)q(di\014ed)h
(through)e(the)g(use)g(of)g Fd(set!)p Ff(,)g(so)g(there)h(m)o(ust)213
743 y(b)q(e)j(only)g(one)g(cop)o(y)f(of)g(eac)o(h)h(en)o(vironmen)o(t.)
20 b(Once)15 b(an)g(en)o(vironmen)o(t)g(has)f(migrated)213
794 y(to)g(the)h(heap)h(it)f(remains)h(there.)258 856
y(Stac)o(k)f(storage)f(is)i(reclaimed)h(in)g(t)o(w)o(o)d(w)o(a)o(ys.)20
b(When)c(a)f(con)o(tin)o(uation)h(is)g(in)o(v)o(ok)o(ed)213
907 y(the)h(stac)o(k)f(p)q(oin)o(ter)h(is)h(set)f(to)f(p)q(oin)o(t)h
(to)g(the)g(top)f(of)h(the)g(restored)g(op)q(erand)g(stac)o(k,)213
958 y(freeing)f(up)g(an)o(y)f(stac)o(k)g(space)h(that)e(w)o(as)h(allo)q
(cated)i(since)f(the)g(con)o(tin)o(uation's)g(cre-)213
1009 y(ation.)j(If)14 b(the)f(stac)o(k)g(o)o(v)o(er\015o)o(ws,)f(the)i
(curren)o(t)g(con)o(tin)o(uation)g(and)f(en)o(vironmen)o(t)h(are)213
1060 y(copied)21 b(to)e(the)h(heap,)h(allo)o(wing)g(the)f(en)o(tire)g
(stac)o(k)f(to)g(b)q(e)i(reused.)34 b(All)21 b(en)o(viron-)213
1110 y(men)o(ts)15 b(and)g(con)o(tin)o(uations)h(p)q(oin)o(ted)g(to)f
(b)o(y)h(these)f(v)m(alues)i(are)e(also)g(copied)i(if)f(they)213
1161 y(are)i(on)h(the)g(stac)o(k.)31 b(This)19 b(mak)o(es)g(stac)o(k)f
(allo)q(cation)i(compatible)g(with)g(Sc)o(heme's)213
1212 y(requiremen)o(t)f(for)g(prop)q(er)g(tail)h(recursion,)g(and)f
(also)g(allo)o(ws)g(for)g(recursions)h(that)213 1263
y(are)13 b(deep)q(er)h(than)g(w)o(ould)g(\014t)f(in)i(the)e(stac)o(k.)
19 b(T)l(ail-recursiv)o(e)c(calls)g(cause)f(the)f(calling)213
1314 y(pro)q(cedure's)f(en)o(vironmen)o(t)g(to)f(b)q(ecome)h
(inaccessible,)j(although)c(it)h(remains)g(on)g(the)213
1364 y(stac)o(k)j(un)o(til)i(the)f(program)e(returns)i(past)g(that)f(p)
q(oin)o(t)h(or)f(the)h(liv)o(e)h(p)q(ortions)f(of)g(the)213
1415 y(stac)o(k)e(are)h(mo)o(v)o(ed)g(to)f(the)h(heap.)258
1478 y(The)21 b(storage)e(allo)q(cation)i(in)o(terface)g(has)f(b)q(een)
i(implemen)o(ted)g(b)q(oth)e(with)h(and)213 1529 y(without)d(stac)o(k)g
(allo)q(cation)i(of)f(en)o(vironmen)o(ts)g(and)f(con)o(tin)o(uations.)
31 b(Using)20 b(stac)o(k)213 1580 y(allo)q(cation)d(is)g(faster)f(than)
g(using)h(the)g(heap,)f(with)h(some)f(cost)g(in)h(increased)h(com-)213
1630 y(plexit)o(y)k(of)g(the)g Fd(stack)f Ff(and)h Fd(environment)e
Ff(mo)q(dules.)41 b(F)l(or)21 b(more)h(information)213
1681 y(see)15 b([5)o(].)258 1744 y(Another)h(metho)q(d)f(of)h(implemen)
o(ting)h(prop)q(er)f(tail)g(recursion)g(is)h(to)d(ensure)j(that)213
1795 y(at)e(ev)o(ery)g(pro)q(cedure)i(call)f(the)g(argumen)o(ts)f(to)g
(the)g(call)i(are)f(on)f(the)h(stac)o(k)f(directly)213
1846 y(ab)q(o)o(v)o(e)k(the)i(con)o(tin)o(uation)f(for)g(the)g(call.)36
b(F)l(or)20 b(tail-recursiv)o(e)h(calls)h(this)e(requires)213
1897 y(mo)o(ving)13 b(the)g(argumen)o(ts)f(just)h(b)q(efore)g(jumping)h
(to)f(the)g(co)q(de)h(for)e(the)i(called)g(pro)q(ce-)213
1947 y(dure.)19 b(W)l(e)14 b(added)g(this)g(form)e(of)h(tail)h(call)h
(to)d(the)i(VM)f(b)o(y)g(adding)h(a)f(sp)q(ecial)i(call)g(in-)213
1998 y(struction)c(that)g(did)h(the)g(argumen)o(t)e(cop)o(ying,)j(and)e
(found)h(that)f(it)g(w)o(as)g(only)h(sligh)o(tly)213
2049 y(slo)o(w)o(er)j(than)h(using)h(the)f(stac)o(k)f(garbage)g
(collector.)23 b(Ho)o(w)o(ev)o(er,)14 b(the)i(stac)o(k)f(cop)o(ying)213
2100 y(logic)d(is)f(still)i(required)f(for)e(implemen)o(ting)j
Fd(call-with-current-continuatio)o(n)p Ff(,)213 2151
y(so)h(the)i(argumen)o(t)e(cop)o(ying)i(instruction)g(is)g(not)e(used.)
21 b(F)l(or)14 b(more)h(details)h(see)g([5)o(].)213 2252
y Fc(3.4.)51 b(In)o(terpreter)258 2342 y Ff(The)17 b(section)h(describ)
q(es)g(the)f(more)g(imp)q(ortan)o(t)f(virtual)i(mac)o(hine)f
(instructions.)213 2393 y(These)f(instructions)h(mak)o(e)e(use)h(of)g
(the)g(in)o(terpreter's)g(registers,)f(whic)o(h)i(are)f(listed)213
2444 y(in)i(T)l(able)h(3.)27 b(T)l(o)17 b(start)f(with)i(a)g(simple)h
(example,)g(here)f(are)f(the)h(instructions)h(for)p 720
2568 462 2 v 720 2626 2 59 v 734 2606 a Fm(Draft)13 b(of)g(Jan)o(uary)h
(31,)f(1994)p 1180 2626 V 720 2628 462 2 v eop
%%Page: 9 9
9 8 bop 213 187 a Fm(TRA)o(CT)m(ABLE)11 b(SCHEME)j(IMPLEMENT)m(A)m
(TION)657 b(9)238 326 y Fd(Value)359 b Ff(the)15 b(most)g(recen)o(t)g
(instruction)h(result)238 377 y Fd(PC)431 b Ff(b)o(yte-co)q(de)16
b(program)e(coun)o(ter)238 428 y Fd(Template)287 b Ff(instruction)16
b(v)o(ector)f(and)g(a)g(v)o(ector)f(of)h(literal)h(v)m(alues)238
479 y Fd(Cont)383 b Ff(con)o(tin)o(uation)238 529 y Fd(Env)407
b Ff(en)o(vironmen)o(t)238 580 y Fd(Nargs)359 b Ff(n)o(um)o(b)q(er)15
b(of)g(argumen)o(ts)238 631 y Fd(Dynamic)311 b Ff(dynamic)16
b(state)238 682 y Fd(Enabled-Interrupts)47 b Ff(whic)o(h)16
b(in)o(terrupts)f(are)g(curren)o(tly)h(enabled)238 733
y Fd(Interrupt-Handlers)47 b Ff(v)o(ector)14 b(of)h(pro)q(cedures)h
(for)f(pro)q(cessing)h(in)o(terrupts)238 783 y Fd(Exception-Handler)71
b Ff(pro)q(cedure)16 b(for)f(pro)q(cessing)h(exceptions)553
876 y(T)l(able)g(3:)k(The)15 b(virtual)h(mac)o(hine's)g(registers)213
1010 y(the)f(pro)q(cedure)h Fd(\(lambda)23 b(\(x\))g(\(+)h(10)g(x\)\))p
Ff(.)260 1105 y Fd(\(check-nargs=)e(1\))260 1154 y(\(make-env)h(1\))260
1204 y(\(literal)g('10\))260 1254 y(\(push\))260 1304
y(\(local)g(0)h(1\))260 1354 y(\(+\))260 1403 y(\(return\))258
1499 y Ff(When)12 b(con)o(trol)f(is)h(transferred)f(to)g(the)h(co)q(de)
g(for)f(the)g(pro)q(cedure,)i Fd(Nargs)e Ff(con)o(tains)213
1550 y(the)17 b(n)o(um)o(b)q(er)g(of)f(argumen)o(ts)g(b)q(eing)i
(passed)f(and)g Fd(Env)g Ff(holds)g(the)g(lexical)i(en)o(viron-)213
1601 y(men)o(t)c(in)h(whic)o(h)g(the)g(pro)q(cedure)g(w)o(as)f
(created.)20 b(The)c(pro)q(cedure)g(\014rst)f(c)o(hec)o(ks)h(that)213
1652 y(it)i(w)o(as)g(called)i(with)f(exactly)g(one)g(argumen)o(t,)f
(and)g(creates)h(a)f(new)h(en)o(vironmen)o(t)213 1702
y(con)o(taining)i(the)f(argumen)o(t)g(and)g(the)h(curren)o(t)f(v)m
(alue)i(of)d Fd(Env)p Ff(.)35 b(An)21 b(exception)g(is)213
1753 y(raised)15 b(b)o(y)g Fd(check-nargs=)f Ff(if)i(the)f(pro)q
(cedure)h(w)o(as)f(passed)g(the)g(wrong)g(n)o(um)o(b)q(er)g(of)213
1804 y(argumen)o(ts.)258 1867 y(The)k(b)q(o)q(dy)f(of)g(the)h(pro)q
(cedure)g(b)q(egins)g(b)o(y)f(loading)h(the)g(literal)g(v)m(alue)h
Fd(10)e Ff(from)213 1918 y Fd(Template)g Ff(and)i(pushing)h(it)f(on)o
(to)f(the)h(stac)o(k.)33 b(The)20 b Fd(local)f Ff(instruction)i(is)f
(used)213 1968 y(to)g(obtain)g(the)h(v)m(alue)h(of)e
Fd(x)p Ff(,)h(using)h(t)o(w)o(o)d(op)q(erands)i(that)f(giv)o(e)h(the)f
(depth)h(of)g Fd(x)p Ff('s)213 2019 y(en)o(vironmen)o(t)13
b(in)i(the)e(c)o(hain)i(of)e(lexical)i(en)o(vironmen)o(ts)f(and)g(the)f
(o\013set)g(of)g Fd(x)g Ff(in)i(that)213 2070 y(en)o(vironmen)o(t.)34
b Fd(+)20 b Ff(then)g(p)q(ops)g Fd(10)g Ff(o\013)f(of)h(the)g(stac)o
(k,)g(adds)g(it)g(to)f(the)h(v)m(alue)i(of)d Fd(x)213
2121 y Ff(\(whic)o(h)c(is)h(in)g Fd(Value)p Ff(\),)d(and)j(lea)o(v)o
(es)f(the)g(result)g(in)h Fd(Value)p Ff(.)j(Finally)l(,)e(the)e(pro)q
(cedure)213 2172 y(returns.)j(The)12 b Fd(return)f Ff(instruction)i
(restores)e(the)h(op)q(erand)h(stac)o(k)e(and)h(sets)g(the)g
Fd(PC)p Ff(,)213 2222 y Fd(Template)p Ff(,)j Fd(Env)p
Ff(,)i(and)g Fd(Cont)f Ff(registers)g(using)i(v)m(alues)g(from)e(the)h
(curren)o(t)g(con)o(ten)o(ts)213 2273 y(of)d Fd(Cont)p
Ff(.)258 2336 y(F)l(or)k(a)g(pro)q(cedure)h(that)e(tak)o(es)h(an)g
(arbitrary)g(n)o(um)o(b)q(er)g(of)g(argumen)o(ts,)g(suc)o(h)g(as)213
2387 y Fd(\(lambda)23 b(\(x)g(y)h(.)g(more-args\))e(...\))p
Ff(,)14 b(the)i(\014rst)e(few)h(instructions)i(w)o(ould)e(b)q(e)260
2482 y Fd(\(check-nargs>=)22 b(2\))p 720 2568 462 2 v
720 2626 2 59 v 734 2606 a Fm(Draft)13 b(of)g(Jan)o(uary)h(31,)f(1994)p
1180 2626 V 720 2628 462 2 v eop
%%Page: 10 10
10 9 bop 213 187 a Fm(10)1067 b(KELSEY)13 b(AND)g(REES)260
336 y Fd(\(make-rest-list)22 b(2\))260 386 y(\(push\))260
436 y(\(make-env)h(3\))213 536 y Ff(The)14 b(instruction)i
Fd(\(check-nargs>=)22 b(2\))14 b Ff(v)o(eri\014es)h(that)f(there)g(are)
h(least)f(t)o(w)o(o)f(argu-)213 587 y(men)o(ts)i(presen)o(t.)23
b Fd(\(make-rest-list)f(2\))16 b Ff(puts)g(all)h(but)g(the)f(\014rst)g
(t)o(w)o(o)f(argumen)o(ts)213 638 y(in)o(to)i(a)f(list,)i(whic)o(h)g
(is)g(left)f(in)h Fd(Value)p Ff(.)25 b(This)17 b(list)h(is)g(then)f
(pushed)h(on)o(to)f(the)g(stac)o(k)213 688 y(to)d(b)q(ecome)i(part)f
(of)f(the)i(en)o(vironmen)o(t.)258 751 y(The)e(v)m(alue)h(of)e(a)h
Fd(lambda)f Ff(expression)i(is)f(a)f(closure,)i(con)o(taining)f(a)g
(template)g(and)213 802 y(an)d(en)o(vironmen)o(t.)19
b(A)12 b(closure)h(is)f(made)g(using)g(the)g Fd(closure)f
Ff(instruction.)20 b(The)12 b(new)213 853 y(closure)h(con)o(tains)g
(the)g(curren)o(t)f(en)o(vironmen)o(t)h(and)g(a)g(template)f(obtained)i
(from)e(the)213 904 y(curren)o(t)j(template.)258 967
y(A)j(pro)q(cedure)g(call)h(is)f(p)q(erformed)g(b)o(y)g(creating)g(a)f
(new)h(con)o(tin)o(uation,)h(pushing)213 1017 y(the)13
b(argumen)o(ts)g(on)o(to)g(the)h(stac)o(k)f(and)h(using)g(the)g
Fd(call)f Ff(instruction.)20 b(The)14 b(co)q(de)h(for)213
1068 y Fd(\(g)23 b('a\))15 b Ff(is:)332 1167 y Fd(\(make-cont)22
b(L1)i(0\))332 1217 y(\(literal)f('a\))332 1267 y(\(push\))332
1317 y(\(global)g(g\))332 1367 y(\(call)g(1\))236 1416
y(L1:)h(...)213 1517 y Ff(The)16 b(lab)q(el)h(op)q(erand)f(to)f
Fd(make-cont)g Ff(sp)q(eci\014es)j(the)d(program)g(coun)o(ter)h(to)f(b)
q(e)h(used)213 1567 y(when)j(the)g(con)o(tin)o(uation)g(is)g(resumed.)
31 b(The)19 b(second)g(op)q(erand)g(to)f Fd(make-cont)f
Ff(is)213 1618 y(the)c(n)o(um)o(b)q(er)g(of)f(v)m(alues)i(that)e(are)h
(curren)o(tly)g(on)g(the)g(op)q(erand)g(stac)o(k.)19
b(These)13 b(v)m(alues)213 1669 y(m)o(ust)i(b)q(e)i(sa)o(v)o(ed)f(in)i
(the)e(con)o(tin)o(uation.)24 b(The)17 b Fd(make-cont)e
Ff(instruction)i(is)g(omitted)213 1720 y(for)g(tail-recursiv)o(e)j
(calls.)29 b(The)18 b(v)m(alue)i(of)d(a)h(top-lev)o(el)h(v)m(ariable)g
(is)g(obtained)g(from)213 1771 y(a)c(lo)q(cation)i(stored)f(in)h(the)f
(template.)23 b(The)16 b(n)o(um)o(b)q(er)g(of)g(argumen)o(ts)f(in)i
(the)f(call)h(is)213 1821 y(itself)f(an)f(op)q(erand)g(supplied)j(to)d
(the)g Fd(call)f Ff(instruction.)258 1884 y(A)k(v)m(ariable's)h(v)m
(alue)g(is)f(set)g(using)g Fd(set-local!)27 b Ff(or)17
b Fd(set-global!)p Ff(,)g(whic)o(h)h(are)213 1935 y(iden)o(tical)f(to)e
Fd(local)g Ff(and)h Fd(global)e Ff(except)j(that)d(they)i(set)f(the)h
(v)m(ariable's)h(v)m(alue)g(to)213 1986 y(b)q(e)e(the)h(con)o(ten)o(ts)
e(of)h Fd(Value)g Ff(instead)g(of)g(vice-v)o(ersa.)258
2049 y(The)i(arc)o(hitecture)f(con)o(tains)h(b)q(oth)f(jump)h(and)f
(conditional)i(jump)f(instructions)213 2099 y(for)d(executing)i
(conditionals.)22 b Fd(\(if)h(a)h(1)g(2\))15 b Ff(compiles)h(to:)332
2199 y Fd(\(global)23 b(a\))332 2248 y(\(jump-if-false)f(L1\))332
2298 y(\(literal)h('1\))332 2348 y(\(jump)g(L2\))236
2398 y(L1:)h(\(literal)f('2\))236 2448 y(L2:)h(...)p
720 2568 462 2 v 720 2626 2 59 v 734 2606 a Fm(Draft)13
b(of)g(Jan)o(uary)h(31,)f(1994)p 1180 2626 V 720 2628
462 2 v eop
%%Page: 11 11
11 10 bop 213 187 a Fm(TRA)o(CT)m(ABLE)11 b(SCHEME)j(IMPLEMENT)m(A)m
(TION)638 b(11)213 336 y Ff(F)l(or)16 b(b)q(oth)g(jump)h(instructions)h
(the)f(o\013set)e(to)h(the)h(lab)q(el)h(m)o(ust)f(b)q(e)g(p)q(ositiv)o
(e;)h(bac)o(k-)213 387 y(w)o(ards)c(jumps)h(are)f(not)h(allo)o(w)o(ed.)
20 b(This)15 b(ensures)g(that)g(ev)o(ery)f(lo)q(op)i(con)o(tains)f(a)f
(pro-)213 438 y(cedure)i(call,)f(whic)o(h)h(in)g(turn)f(mak)o(es)g
(handling)i(in)o(terrupts)e(more)f(uniform.)21 b(There)213
489 y(could)14 b(b)q(e)h(a)f(bac)o(kw)o(ard)f(jump)h(instruction)h
(that)e(included)j(a)e(c)o(hec)o(k)g(for)f(in)o(terrupts,)213
539 y(but)18 b(making)g(use)h(of)e(it)i(w)o(ould)f(require)h(a)f(b)o
(yte-co)q(de)h(compiler)g(somewhat)e(more)213 590 y(sophisticated)f
(than)f(the)g(curren)o(t)g(one.)258 653 y(The)22 b(follo)o(wing)g(is)h
(a)e(description)i(of)f(some)f(of)g(the)h(less)g(frequen)o(tly)h(used)f
(in-)213 704 y(structions)17 b(that)f(manipulate)j(the)e(in)o
(terpreter's)g(in)o(ternal)h(state.)25 b(In)17 b(addition)i(to)213
755 y(the)i(instructions)h(describ)q(ed,)j(there)c(are)g(a)g(n)o(um)o
(b)q(er)h(of)f(others)g(that)f(deal)j(with)213 806 y(n)o(umeric)c(op)q
(erations,)h(allo)q(cating,)g(accessing,)g(and)f(mo)q(difying)h
(storage,)e(v)m(arious)213 856 y(input/output)c(op)q(erations,)g(and)f
(so)h(on.)19 b(There)14 b(are)f(a)h(set)f(of)g(generic)i(instructions)
213 907 y(for)f(dealing)i(with)g(stored)e(ob)s(jects)h(suc)o(h)g(as)g
(pairs,)g(sym)o(b)q(ols,)g(v)o(ectors)f(and)h(strings.)213
958 y(These)20 b(instructions)h(tak)o(e)f(the)g(t)o(yp)q(e)h(of)f(the)g
(ob)s(ject)g(as)g(an)g(additional)h(op)q(erand)213 1009
y(from)15 b(the)g(instruction)i(stream.)k(Adding)c(new)f(t)o(yp)q(es)g
(of)f(stored)g(ob)s(jects)g(do)q(es)h(not)213 1060 y(require)g(c)o
(hanging)f(the)h(instruction)g(set.)213 1122 y Fd(current-cont)213
1173 y(with-continuation)213 1224 y Ff(The)23 b(\014rst)g(instruction)h
(sets)f Fd(Value)g Ff(to)g(b)q(e)g(the)h(con)o(ten)o(ts)f(of)f
Fd(Cont)p Ff(.)44 b(The)23 b(sec-)213 1275 y(ond)15 b(tak)o(es)f(t)o(w)
o(o)g(op)q(erands,)h(a)f(con)o(tin)o(uation)i(obtained)g(using)f
Fd(current-cont)f Ff(and)213 1326 y(a)21 b(pro)q(cedure)i(of)e(no)h
(argumen)o(ts.)39 b(It)22 b(sets)g Fd(Cont)f Ff(to)g(b)q(e)i(the)e(con)
o(tin)o(uation)i(and)213 1376 y(then)17 b(calls)h(the)f(pro)q(cedure.)
26 b(T)l(ogether)16 b(these)h(are)g(used)g(to)g(implemen)o(t)h(Sc)o
(heme's)213 1427 y Fd(call-with-current-conti)o(nuation)o
Ff(.)213 1490 y Fd(get-dynamic-state)213 1541 y(set-dynamic-state!)213
1592 y Ff(These)e(mo)o(v)o(e)f(the)h(con)o(ten)o(ts)f(of)h
Fd(Value)f Ff(to)g Fd(Dynamic-State)f Ff(and)i(vice)h(v)o(ersa.)22
b(The)213 1642 y(mac)o(hine)h(mak)o(es)f(no)g(other)g(use)h(of)f
Fd(Dynamic-State)p Ff(.)40 b(An)23 b(alternativ)o(e)g(design)213
1693 y(w)o(ould)d(b)q(e)g(to)f(k)o(eep)h(the)g(dynamic)g(state)f(in)h
(a)g(top-lev)o(el)h(v)m(ariable)g(instead)f(of)f(in)213
1744 y(a)f(VM)h(register.)31 b(Using)20 b(a)e(mac)o(hine)i(register)f
(allo)o(ws)g(the)g(VM)g(to)f(b)q(e)i(used)f(in)h(a)213
1795 y(m)o(ultipro)q(cessor)13 b(en)o(vironmen)o(t,)g(where)g(eac)o(h)g
(pro)q(cessor)f(has)h(its)g(o)o(wn)f(registers)h(but)213
1846 y(all)j(share)f(a)g(single)h(heap.)213 1909 y Fd
(set-exception-handler!)213 1959 y Ff(This)k(sets)g Fd
(Exception-Handler)d Ff(to)j(b)q(e)g(the)g(pro)q(cedure)h(in)g
Fd(Value)p Ff(.)34 b(Whenev)o(er)213 2010 y(an)18 b(exceptional)h
(situation)g(is)f(detected)h(the)f(VM)g(calls)i(this)e(pro)q(cedure,)i
(passing)213 2061 y(to)g(it)g(the)h(curren)o(t)f(instruction)i(and)f
(its)f(op)q(erands.)37 b(If)21 b(the)f(exception)i(handler)213
2112 y(returns,)i(execution)f(pro)q(ceeds)h(with)f(the)f(instruction)i
(follo)o(wing)f(the)g(one)g(that)213 2163 y(caused)18
b(the)h(exception.)30 b(Most)17 b(causes)i(of)f(exceptions)h(are)f(t)o
(yp)q(e)g(errors.)29 b(Others)213 2213 y(include)19 b(arithmetic)f(o)o
(v)o(er\015o)o(ws,)f(un)o(b)q(ound)h(and)g(unititialized)j(v)m
(ariables,)e(passing)213 2264 y(the)i(wrong)f(n)o(um)o(b)q(er)i(of)e
(argumen)o(ts)h(to)f(pro)q(cedures,)j(and)e(errors)g(when)g(calling)213
2315 y(op)q(erating)15 b(system)f(routines.)21 b(Appropriate)15
b(exception)h(handlers)g(can)f(b)q(e)h(used)g(to)213
2366 y(extend)f(and)h(augmen)o(t)e(the)i(virtual)f(mac)o(hine.)213
2429 y Fd(set-interrupt-handlers!)213 2479 y(return-from-interrupt)p
720 2568 462 2 v 720 2626 2 59 v 734 2606 a Fm(Draft)e(of)g(Jan)o(uary)
h(31,)f(1994)p 1180 2626 V 720 2628 462 2 v eop
%%Page: 12 12
12 11 bop 213 187 a Fm(12)1067 b(KELSEY)13 b(AND)g(REES)276
376 y Ff(0)50 b Fd(\(check-nargs=)22 b(2\))276 427 y
Ff(2)50 b Fd(\(make-env)23 b(2\))276 478 y Ff(4)50 b
Fd(\(local)23 b(0)h(1\))312 b Ff(v)m(alue)16 b(of)f Fd(j)276
528 y Ff(7)50 b Fd(\(push\))431 b Ff(push)16 b Fd(j)f
Ff(as)f(the)i(\014rst)e(argumen)o(t)h(to)f Fd(+)276 579
y Ff(8)50 b Fd(\(make-cont)22 b(\(=>)i(20\))f(1\))74
b(20)15 b Ff(is)g(the)h(co)q(de,)f(stac)o(k)f(has)h(one)h(v)m(alue)254
630 y(12)49 b Fd(\(local)23 b(0)h(2\))254 681 y Ff(15)49
b Fd(\(push\))431 b Ff(push)16 b Fd(i)f Ff(as)f(the)i(\014rst)e
(argumen)o(t)h(to)f Fd(h)254 732 y Ff(16)49 b Fd(\(global)23
b(h\))254 782 y Ff(18)49 b Fd(\(call)23 b(1\))384 b Ff(call)16
b Fd(h)f Ff(with)h(one)f(argumen)o(t)254 833 y(20)49
b Fd(\(+\))503 b Ff(co)q(de)16 b(resumes)f(here)g(after)g(the)g(call)i
(to)d Fd(h)254 884 y Ff(21)49 b Fd(\(push\))431 b Ff(push)16
b(second)f(argumen)o(t)g(to)f Fd(g)254 935 y Ff(22)49
b Fd(\(global)23 b(g\))254 986 y Ff(24)49 b Fd(\(call)23
b(1\))331 1128 y Ff(Figure)15 b(1:)20 b(Byte)15 b(co)q(des)h(for)e
Fd(\(lambda)23 b(\(i)h(j\))f(\(g)h(\(+)f(j)h(\(h)g(i\)\)\)\))213
1267 y(set-enabled-interrupts!)213 1318 y Ff(The)16 b(VM)g(c)o(hec)o
(ks)g(for)f(in)o(terrupts)h(whenev)o(er)h(a)e Fd(call)h
Ff(instruction)h(is)f(executed.)24 b(If)213 1368 y(an)16
b(enabled)i(in)o(terrupt)f(has)f(o)q(ccurred)h(since)h(the)e(previous)h
(call,)h(the)e(state)g(of)g(the)213 1419 y(mac)o(hine)g(is)f(sa)o(v)o
(ed)g(in)h(a)f(con)o(tin)o(uation)h(and)f(the)h(pro)q(cedure)g
(appropriate)f(for)g(that)213 1470 y(in)o(terrupt)c(is)i(obtained)f
(from)f(the)h(v)o(ector)e Fd(Interrupt-Handlers)g Ff(and)h(called.)21
b(The)213 1521 y Fd(return-from-interrupt)12 b Ff(instruction)k(can)f
(then)g(b)q(e)h(used)f(to)f(restore)h(the)g(state)213
1572 y(of)i(the)i(mac)o(hine)g(and)g(con)o(tin)o(ue)f(execution.)31
b Fd(set-enabled-interrupts!)26 b Ff(sets)213 1622 y
Fd(Enabled-Interrupts)12 b Ff(and)k(places)g(its)f(old)h(v)m(alue)g(in)
g Fd(Value)p Ff(.)213 1685 y Fd(write-image)213 1736
y Ff(This)d(tak)o(es)f(t)o(w)o(o)f(op)q(erands,)i(a)g(pro)q(cedure)g
(and)g(the)g(name)g(of)f(a)g(\014le,)i(and)f(writes)g(the)213
1787 y(pro)q(cedure)j(in)o(to)f(the)h(\014le)g(as)f(a)h(restartable)f
(heap)g(image.)21 b(The)16 b(writing)g(pro)q(cess)f(is)213
1838 y(similar)g(to)e(a)g(garbage)g(collection)i(in)g(that)e(it)h(only)
g(writes)g(ob)s(jects)f(reac)o(hable)i(from)213 1888
y(the)g(pro)q(cedure)h(in)o(to)f(the)g(\014le.)21 b(See)16
b(section)g(3.3)e(for)h(more)f(information.)258 1951
y(There)i(are)f(sev)o(eral)h(instructions)g(used)g(to)f(allo)o(w)h
(calls)g(to)f(return)h(m)o(ultiple)h(v)m(al-)213 2002
y(ues.)k(They)16 b(are)f(more)g(complex)i(than)e(strictly)h(necessary)l
(,)g(due)g(to)f(our)h(desire)g(not)213 2053 y(to)g(require)h(an)o(y)f
(additional)i(o)o(v)o(erhead)f(when)g(returning)g(exactly)g(one)g(v)m
(alue,)h(and)213 2104 y(are)c(not)h(describ)q(ed)i(here)f(for)f
(reasons)f(of)h(space.)213 2228 y Fg(4.)55 b(Pre-Sc)n(heme)17
b(Implem)o(en)n(tations)213 2327 y Ff(The)g(virtual)g(mac)o(hine)h(is)f
(written)g(in)g(Pre-Sc)o(heme,)h(a)e(subset)h(of)f(Sc)o(heme)i(c)o
(hosen)213 2378 y(to)c(allo)o(w)h(compilation)h(in)o(to)f(fairly)h
(natural)f(C)g(co)q(de)g(without)g(losing)h(to)q(o)e(m)o(uc)o(h)h(of)
213 2428 y(Sc)o(heme's)e(expressiv)o(e)h(p)q(o)o(w)o(er.)k(The)c
(virtual)g(mac)o(hine)f(and)h(the)f(rest)g(of)f(the)h(system)213
2479 y(are)21 b(written)g(in)i(o)o(v)o(erlapping)f(subsets)f(of)g(the)h
(same)f(language,)i(allo)o(wing)f(some)p 720 2568 462
2 v 720 2626 2 59 v 734 2606 a Fm(Draft)13 b(of)g(Jan)o(uary)h(31,)f
(1994)p 1180 2626 V 720 2628 462 2 v eop
%%Page: 13 13
13 12 bop 213 187 a Fm(TRA)o(CT)m(ABLE)11 b(SCHEME)j(IMPLEMENT)m(A)m
(TION)638 b(13)213 336 y Ff(mo)q(dules)21 b(\(suc)o(h)g(as)f(the)g(arc)
o(hitecture)h(description)h(co)q(de\))f(to)f(b)q(e)h(used)g(in)g(b)q
(oth.)213 387 y(Because)14 b(Pre-Sc)o(heme)h(is)g(a)f(subset)g(of)g(Sc)
o(heme,)h(the)f(virtual)h(mac)o(hine)g(can)f(b)q(e)h(run)213
438 y(and)21 b(debugged)h(using)f(an)o(y)g(Sc)o(heme)h(implemen)o
(tation.)38 b(This)22 b(fact)e(has)h(greatly)213 489
y(assisted)14 b(dev)o(elopmen)o(t,)h(in)h(particular)f(b)q(ecause)h(it)
f(p)q(ermitted)g(us)g(to)f(w)o(ork)f(on)i(the)213 539
y(Sc)o(heme)k(48)f(virtual)h(mac)o(hine)h(prior)f(to)f(the)g(existence)
i(of)e(a)h(direct)g(Pre-Sc)o(heme)213 590 y(compiler)c(or)e(w)o(orking)
h(Sc)o(heme)h(48)e(system.)19 b(The)14 b(VM)g(is)g(quite)h(slo)o(w)f
(when)g(run)g(as)213 641 y(a)g(Sc)o(heme)h(program.)k(A)o(t)14
b(one)h(p)q(oin)o(t)g(a)f(hand)i(translation)e(of)g(the)h(VM)g(in)o(to)
f(C)h(w)o(as)213 692 y(done)g(b)o(y)g(Bob)h(Bro)o(wn,)e(an)h(MIT)g
(graduate)g(studen)o(t.)258 755 y(Except)h(for)e(mo)q(di\014cation)j
(and)f(debugging,)g(the)f(virtual)h(mac)o(hine)g(is)g(compiled)213
806 y(from)h(Pre-Sc)o(heme)i(in)o(to)f(C,)g(using)h(a)f(compiler)h
(based)g(on)f(the)g(transformational)213 856 y(compiler)23
b(describ)q(ed)h(in)e([6].)39 b(The)22 b(Pre-Sc)o(heme)h(compiler)g(ev)
m(aluates)g(top-lev)o(el)213 907 y(forms,)13 b(p)q(erforms)g(static)h
(t)o(yp)q(e)g(c)o(hec)o(king)h(and)f(a)g(great)f(deal)h(of)g(partial)g
(ev)m(aluation,)213 958 y(and)e(translates)g(the)g(resulting)h(program)
f(in)o(to)g(C.)g(The)g(result)h(is)g(a)e(C)i(v)o(ersion)f(of)g(the)213
1009 y(VM)j(whic)o(h)h(is)g(as)f(e\016cien)o(t)i(and)e(as)g(p)q
(ortable)h(as)f(a)h(hand-co)q(ded)h(C)e(v)o(ersion)h(w)o(ould)213
1060 y(b)q(e.)258 1122 y(Pre-Sc)o(heme)g(di\013ers)g(from)e(Sc)o(heme)i
(in)g(the)f(follo)o(wing)h(w)o(a)o(ys:)281 1223 y Fe(\017)22
b Ff(Ev)o(ery)h(top-lev)o(el)g(form)f(is)i(ev)m(aluated)f(at)f(compile)
j(time)e(and)f(ma)o(y)g(mak)o(e)326 1273 y(unrestricted)16
b(use)g(of)f(Sc)o(heme.)281 1362 y Fe(\017)22 b Ff(The)13
b(Pre-Sc)o(heme)h(compiler)f(determines)h(all)g(t)o(yp)q(es)e(at)g
(compile)i(time.)20 b(T)o(yp)q(e)326 1412 y(reconstruction)c(is)g(done)
g(after)e(the)i(top-lev)o(el)g(forms)f(ha)o(v)o(e)g(b)q(een)h(ev)m
(aluated.)326 1463 y(There)g(is)f(no)h(run-time)g(t)o(yp)q(e)f
(discrimination.)281 1551 y Fe(\017)22 b Ff(There)16
b(is)h(no)f(automatic)f(storage)f(reclamation.)23 b(Un)o(used)16
b(storage)f(m)o(ust)g(b)q(e)326 1602 y(freed)h(explicitly)l(.)281
1690 y Fe(\017)22 b Ff(Prop)q(er)g(tail)g(recursion)g(is)g(guaran)o
(teed)e(only)i(for)f(calls)i(to)d Fd(lambda)h Ff(forms)326
1741 y(b)q(ound)14 b(b)o(y)f Fd(let)f Ff(and)h Fd(letrec)f
Ff(or)g(when)h(explicitly)j(declared)e(for)e(a)g(particular)326
1792 y(call.)258 1892 y(The)21 b(main)h(restrictions)f(imp)q(osed)i(b)o
(y)e(Pre-Sc)o(heme)g(are)g(that)g(the)g(VM)g(m)o(ust)213
1943 y(b)q(e)15 b(accepted)h(b)o(y)f(Pre-Sc)o(heme's)g(t)o(yp)q(e-c)o
(hec)o(king)h(algorithm)f(and)g(that)f(there)i(is)f(no)213
1994 y(automatic)d(storage)g(reclamation.)20 b(The)13
b(latter)g(restriction)h(is)f(reasonable,)h(as)f(Pre-)213
2044 y(Sc)o(heme)i(is)h(in)o(tended)g(for)e(writing)h(suc)o(h)h(things)
f(as)f(garbage)g(collectors.)21 b(The)15 b(Pre-)213 2095
y(Sc)o(heme)20 b(compiler)h(uses)f(a)f(Hindley-Mil)q(ner)k(p)q
(olymorphic)e(t)o(yp)q(e)f(reconstruction)213 2146 y(algorithm)f(mo)q
(di\014ed)h(to)f(allo)o(w)g(o)o(v)o(erloaded)h(arithmetic)f(op)q
(erators)g(and)g(to)g(tak)o(e)213 2197 y(in)o(to)e(accoun)o(t)g(the)g
(compiler's)h(use)g(of)f(partial)h(ev)m(aluation.)27
b(If)18 b(a)f(pro)q(cedure)h(is)g(to)213 2248 y(b)q(e)e(in-lined)j(for)
c(all)i(uses,)f(then)g(it)h(can)f(b)q(e)g(fully)h(p)q(olymorphic,)h(as)
d(ev)o(ery)h(use)g(will)213 2299 y(ha)o(v)o(e)e(a)h(distinct)i
(implemen)o(tation.)258 2361 y(Using)d(Pre-Sc)o(heme)h(has)f(b)q(een)g
(v)o(ery)g(successful.)21 b(The)14 b(co)q(de)g(for)f(the)h(VM)g(mak)o
(es)213 2412 y(use)20 b(of)g(higher-order)h(pro)q(cedures,)h(macros)e
(that)f(op)q(erate)h(on)h(parse)f(trees,)h(and)213 2463
y(other)16 b(features)g(of)g(Sc)o(heme)i(that)e(w)o(ould)h(not)f(ha)o
(v)o(e)g(b)q(een)i(a)o(v)m(ailable)g(had)f(w)o(e)f(used)p
720 2568 462 2 v 720 2626 2 59 v 734 2606 a Fm(Draft)d(of)g(Jan)o(uary)
h(31,)f(1994)p 1180 2626 V 720 2628 462 2 v eop
%%Page: 14 14
14 13 bop 213 187 a Fm(14)1067 b(KELSEY)13 b(AND)g(REES)213
336 y Ff(C.)e(Pro)q(cedures)h(are)g(also)g(used)g(to)g(implemen)o(t)h
(data)e(abstractions)g(within)j(the)e(VM.)213 387 y(This)k(results)g
(in)h(a)e(large)h(n)o(um)o(b)q(er)g(of)g(small)g(pro)q(cedures.)23
b(The)16 b(virtual)h(mac)o(hine's)213 438 y(570)k(top-lev)o(el)j
(forms,)f(consisting)g(of)f(2314)f(lines)j(of)e(Sc)o(heme)h(co)q(de)g
(\(excluding)213 489 y(commmen)o(ts\),)e(are)h(compiled)h(to)e(13)g(C)h
(pro)q(cedures)g(con)o(taining)h(8467)d(lines)j(of)213
539 y(co)q(de.)34 b(Once)21 b(compiled)g(in)o(to)f(C)g(it)g(runs)g(as)f
(quic)o(kly)i(as)f(similar)h(hand-co)q(ded)g(C)213 590
y(programs.)258 653 y(Figure)11 b(2)g(illustrates)g(the)g(co)q(ding)h
(st)o(yle)f(used)g(in)h(the)f(VM.)f(The)h(example)h(consists)213
704 y(of)i(the)g(co)q(de)h(implemen)o(ting)i(the)d(addition)i
(instruction.)21 b(The)14 b(\014rst)g(t)o(w)o(o)g(forms)f(are)213
755 y(from)g(the)h Fd(fixnum-arithmetic)e Ff(mo)q(dule,)j(whic)o(h)h
(exp)q(orts)e Fd(add-carefully)p Ff(,)e(and)213 806 y(the)i(last)g(t)o
(w)o(o)e(are)i(from)g(the)g Fd(interpreter)e Ff(mo)q(dule.)21
b(The)14 b(pro)q(cedure)h Fd(carefully)213 856 y Ff(tak)o(es)i(an)h
(arithmetic)g(op)q(erator)f(and)h(returns)g(a)g(pro)q(cedure)h(that)e
(p)q(erforms)h(that)213 907 y(op)q(eration)f(on)f(t)o(w)o(o)g(argumen)o
(ts,)f(either)j(passing)f(the)g(tagged)f(result)h(to)f(a)g(success)213
958 y(con)o(tin)o(uation,)f(or)f(passing)i(the)f(original)h(argumen)o
(ts)e(to)h(a)g(failure)h(con)o(tin)o(uation)f(if)213
1009 y(the)h(op)q(eration)h(o)o(v)o(er\015o)o(ws.)24
b Fd(extract-fixnum)15 b Ff(and)i Fd(enter-fixnum)e Ff(remo)o(v)o(e)h
(and)213 1060 y(add)g(t)o(yp)q(e)g(tags)f(to)g(small)i(in)o(tegers.)22
b(The)16 b(function)h Fd(overflows?)k Ff(c)o(hec)o(ks)16
b(that)g(its)213 1110 y(argumen)o(t)c(has)g(enough)h(un)o(used)h(bits)f
(for)g(a)f(t)o(yp)q(e)h(tag.)18 b Fd(goto)12 b Ff(indicates)j(that)d(a)
g(tail-)213 1161 y(recursiv)o(e)18 b(call)i(should)f(b)q(e)g(compiled)h
(using)f(prop)q(er)f(tail)h(recursion.)29 b Fd(carefully)213
1212 y Ff(can)21 b(then)h(b)q(e)h(used)f(to)f(de\014ne)i
Fd(add-carefully)c Ff(whic)o(h)k(p)q(erforms)e(addition)i(on)213
1263 y(in)o(tegers.)258 1326 y Fd(define-primitive)13
b Ff(is)i(a)g(macro)f(that)g(expands)h(in)o(to)g(a)g(call)h(to)e(the)h
(pro)q(cedure)213 1376 y Fd(define-opcode)k Ff(whic)o(h)j(actually)g
(de\014nes)g(the)f(instruction.)39 b(The)21 b(three)g(argu-)213
1427 y(men)o(ts)e(to)g(the)h(macro)f(are)h(the)g(instruction)h(to)e
(de\014ne,)i(input)g(argumen)o(t)e(sp)q(eci-)213 1478
y(\014cations,)h(and)g(the)g(b)q(o)q(dy)h(of)e(the)h(instruction.)35
b(The)20 b(expanded)g(co)q(de)h(retriev)o(es)213 1529
y(argumen)o(ts)d(from)h(the)g(stac)o(k,)g(p)q(erforms)g(t)o(yp)q(e)g(c)
o(hec)o(ks)h(and)f(co)q(ercions,)i(and)e(exe-)213 1580
y(cutes)i(the)f(b)q(o)q(dy)i(of)e(the)h(instruction.)37
b(This)21 b(is)h(a)e(simple)i(Sc)o(heme)g(macro)e(that)213
1630 y(w)o(ould)15 b(b)q(e)h(painful)h(to)d(write)i(using)g(C's)e
(limited)j(macro)e(facilit)o(y)l(.)258 1693 y(Figure)i(3)g(sho)o(ws)g
(the)g(C)g(co)q(de)h(pro)q(duced)g(for)f(the)g(addition)h(instruction.)
27 b(This)213 1744 y(is)15 b(part)g(of)g(a)g(large)g
Fd(switch)f Ff(statemen)o(t)g(whic)o(h)i(p)q(erforms)f(instruction)h
(dispatc)o(h.)258 1807 y(\(A)11 b(note)h(on)f(iden)o(ti\014ers:)20
b(man)o(y)11 b(Sc)o(heme)h(iden)o(ti\014ers)h(are)e(not)g(legal)i(C)e
(iden)o(ti\014ers,)213 1858 y(while)18 b(on)f(the)g(other)g(hand)g(C)g
(is)g(case-sensitiv)o(e)i(and)e(Sc)o(heme)g(is)h(not.)25
b(The)17 b(com-)213 1909 y(piler)h(uses)f(upp)q(er-case)h(letters)f
(for)g(the)g(c)o(haracters)f(that)g(are)h(legal)h(in)f(iden)o
(ti\014ers)213 1959 y(in)f(Sc)o(heme)h(but)f(not)g(in)h(C;)e(for)h
(example)h Fd(*val*)e Ff(b)q(ecomes)h Fd(SvalS)p Ff(.)f(The)i(compiler)
213 2010 y(also)d(in)o(tro)q(duces)i(lo)q(cal)g(v)m(ariables)g(to)e
(shado)o(w)g(global)i(v)m(ariables)g(to)e(impro)o(v)o(e)h(regis-)213
2061 y(ter)i(usage)g(\(similar)h(to)f([11)o(]\).)25 b(These)18
b(in)o(tro)q(duced)g(v)m(ariables)h(b)q(egin)g(with)e
Fd(R)p Ff(;)g(th)o(us)213 2112 y Fd(RSvalS)d Ff(is)i(a)f(lo)q(cal)h(v)m
(ariable)g(shado)o(wing)g(the)f(global)h(v)m(ariable)g
Fd(SvalS)p Ff(.\))258 2175 y(This)j(co)q(de)h(is)f(not)f(what)h(w)o(e)f
(w)o(ould)h(ha)o(v)o(e)g(written)g(if)g(w)o(e)f(had)h(used)h(C)e(in)i
(the)213 2225 y(\014rst)g(place,)j(but)d(it)h(is)h(at)e(least)g(as)h
(e\016cien)o(t.)37 b(The)21 b(use)g(of)f(Pre-Sc)o(heme)i(mak)o(es)213
2276 y(the)16 b(program)f(relativ)o(ely)i(more)f(comprehensible)i(and)e
(easier)h(to)e(mo)q(dify)i(without)213 2327 y(incurring)f(an)o(y)f
(run-time)h(cost.)p 720 2568 462 2 v 720 2626 2 59 v
734 2606 a Fm(Draft)d(of)g(Jan)o(uary)h(31,)f(1994)p
1180 2626 V 720 2628 462 2 v eop
%%Page: 15 15
15 14 bop 213 187 a Fm(TRA)o(CT)m(ABLE)11 b(SCHEME)j(IMPLEMENT)m(A)m
(TION)638 b(15)213 372 y Fd(\(define)23 b(\(carefully)f(op\))260
422 y(\(lambda)h(\(x)h(y)g(succ)f(fail\))308 472 y(\(let)g(\(\(z)h
(\(op)f(\(extract-fixnum)f(x\))i(\(extract-fixnum)d(y\)\)\)\))356
521 y(\(if)i(\(overflows?)g(z\))451 571 y(\(goto)g(fail)h(x)f(y\))451
621 y(\(goto)g(succ)h(\(enter-fixnum)e(z\)\)\)\)\)\))213
721 y(\(define)h(add-carefully)f(\(carefully)g(+\)\))213
820 y(\(define)h(\(arith)g(op\))260 870 y(\(lambda)g(\(x)h(y\))308
920 y(\(op)g(x)f(y)h(return)f(arithmetic-overflow\)\)\))213
1020 y(\(define-primitive)e(op/+)i(\(number->)g(number->\))g(\(arith)g
(add-carefully\)\))425 1162 y Ff(Figure)15 b(2:)20 b(Implemen)o(tation)
c(of)f(the)g(addition)i(instruction)238 1256 y Fd(module-system)191
b Ff(Signatures,)15 b(mo)q(dules,)h(and)f(name)g(lo)q(okup)238
1307 y Fd(syntactic)287 b Ff(Denotations;)14 b(h)o(ygienic)j(macros)238
1357 y Fd(compilation)239 b Ff(Byte-co)q(de)16 b(compiler)238
1408 y Fd(analysis)311 b Ff(Optional)16 b(optimization)g(phase)238
1459 y Fd(linker)359 b Ff(Static)15 b(heap)h(image)f(link)o(er)238
1510 y Fd(reification)239 b Ff(Supp)q(ort)15 b(for)f(doing)h
Fd(eval)f Ff(relativ)o(e)h(to)f(a)h(statically)741 1561
y(link)o(ed)i(image)238 1612 y Fd(assembler)287 b Ff(Optional)16
b(b)o(yte-co)q(de)g(assem)o(bler)568 1704 y(T)l(able)g(4:)j(Byte-co)q
(de)d(compiler)h(in)o(terfaces)213 1842 y Fg(5.)55 b(Byte)18
b(Co)r(de)g(Compiler)213 1940 y Ff(The)f(b)o(yte-co)q(de)h(compiler)h
(compiles)g(Sc)o(heme)f(expressions)g(in)o(to)f(appropriate)h(se-)213
1991 y(quences)d(of)e(VM)h(instructions.)20 b(The)15
b(compiler)g(is)g(as)e(simple)j(as)d(w)o(e)h(could)h(mak)o(e)f(it)213
2042 y(and)j(still)h(get)f(acceptable)h(p)q(erformance.)26
b(It)17 b(do)q(es)g(v)o(ery)g(few)g(optimizations.)26
b(W)l(e)213 2093 y(use)19 b(a)f(simple)i(compiler)g(b)q(ecause)f(it)g
(w)o(as)f(easier)h(to)f(write,)h(is)g(easier)g(to)f(read,)h(is)213
2144 y(more)d(lik)o(ely)i(to)d(b)q(e)i(correct,)f(and)h(impro)o(v)o(es)
f(the)h(qualit)o(y)g(of)f(debugging)h(informa-)213 2194
y(tion)f(pro)o(vided)h(to)e(users.)23 b(The)16 b(less)g(pro)q(cessing)h
(the)f(compiler)i(do)q(es)e(the)g(easier)h(it)213 2245
y(is)d(to)g(relate)g(the)h(state)e(of)h(the)g(mac)o(hine)i(to)d(the)i
(source)f(program)f(when)i(errors)e(are)213 2296 y(encoun)o(tered.)258
2359 y(The)22 b(compiler)h(tak)o(es)f(as)f(argumen)o(ts)g(an)h
(expression,)i(an)e(en)o(vironmen)o(t,)i(the)213 2410
y(n)o(um)o(b)q(er)c(of)h(v)m(alues)g(curren)o(tly)g(pushed)h(on)e(the)h
(stac)o(k,)g(and)f(information)h(ab)q(out)213 2460 y(the)14
b(expression's)i(con)o(tin)o(uation.)k(The)15 b(stac)o(k)f(v)m(alue)i
(coun)o(t)f(is)g(needed)h(to)e(generate)p 720 2568 462
2 v 720 2626 2 59 v 734 2606 a Fm(Draft)f(of)g(Jan)o(uary)h(31,)f(1994)
p 1180 2626 V 720 2628 462 2 v eop
%%Page: 16 16
16 15 bop 213 187 a Fm(16)1067 b(KELSEY)13 b(AND)g(REES)213
529 y Fd(case)23 b(46)h(:)f({)260 579 y(long)h(arg2_267X;)260
629 y(/*)g(pop)f(an)h(operand)f(from)g(the)h(stack)f(*/)260
679 y(RSstackS)g(=)h(\(4)f(+)h(RSstackS\);)260 729 y(arg2_267X)f(=)h
(*\(\(long*\)\(\(unsigned)d(char*\)RSstackS\)\);)260
778 y(/*)j(check)f(operand)g(tags)g(*/)260 828 y(if)h(\(\(0)f(==)h(\(3)
g(&)f(\(arg2_267X)g(|)g(RSvalS\)\)\)\))g({)308 878 y(long)g(x_268X;)308
928 y(long)g(z_269X;)308 978 y(x_268X)g(=)h(RSvalS;)308
1027 y(/*)g(remove)f(tags)g(and)g(add)h(*/)308 1077 y(z_269X)f(=)h
(\(arg2_267X)e(>>)i(2\))f(+)h(\(x_268X)f(>>)h(2\);)308
1127 y(/*)g(overflow)e(check)i(*/)308 1177 y(if)g(\(\(536870911)e(<)i
(z_269X\)\))e({)356 1227 y(goto)h(L20950;})308 1277 y(else)g({)356
1326 y(/*)g(underflow)g(check)g(*/)356 1376 y(if)g(\(\(z_269X)g(<)h
(-536870912\)\))e({)404 1426 y(goto)h(L20950;})356 1476
y(else)g({)404 1526 y(/*)g(add)h(tag)f(and)g(continue)g(*/)404
1575 y(RSvalS)g(=)g(\(z_269X)g(<<)h(2\);)404 1625 y(goto)f(START;}})284
1675 y(L20950:)g({)308 1725 y(merged_arg1K0)f(=)i(0;)308
1775 y(merged_arg0K1)e(=)i(arg2_267X;)308 1824 y(merged_arg0K2)e(=)i
(x_268X;)308 1874 y(goto)f(raise_exception2;}})260 1924
y(else)h({)308 1974 y(merged_arg1K0)e(=)i(0;)308 2024
y(merged_arg0K1)e(=)i(arg2_267X;)308 2074 y(merged_arg0K2)e(=)i
(RSvalS;)308 2123 y(goto)f(raise_exception2;}})260 2173
y(break;)407 2315 y Ff(Figure)16 b(3:)j(Compiler)d(output)f(for)g(the)g
(addition)h(instruction)p 720 2568 462 2 v 720 2626 2
59 v 734 2606 a Fm(Draft)d(of)g(Jan)o(uary)h(31,)f(1994)p
1180 2626 V 720 2628 462 2 v eop
%%Page: 17 17
17 16 bop 213 187 a Fm(TRA)o(CT)m(ABLE)11 b(SCHEME)j(IMPLEMENT)m(A)m
(TION)638 b(17)213 336 y Fd(make-cont)14 b Ff(instructions.)20
b(The)c(con)o(tin)o(uation)f(argumen)o(t)g(has)g(t)o(w)o(o)f(parts,)g
(a)h(kind)213 387 y(and)f(an)g(optional)g(name.)20 b(The)14
b(kind)h(is)g(either)g Fd(return)e Ff(\(the)h(expression's)g(v)m(alue)h
(is)213 438 y(returned)h(b)o(y)g(the)g(pro)q(cedure)h(b)q(eing)g
(compiled\),)h Fd(ignore)d Ff(\(the)h(v)m(alue)h(will)h(not)d(b)q(e)213
489 y(used\),)f(or)g Fd(fall-through)e Ff(\(there)i(is)h(some)f(follo)o
(wing)g(co)q(de)h(that)f(uses)g(the)g(v)m(alue\).)213
539 y(The)j(name)g(indicates)h(the)g(v)m(ariable)g(to)e(whic)o(h)i(the)
f(v)m(alue)i(of)d(the)h(expression)h(will)213 590 y(b)q(e)c(b)q(ound,)h
(if)f(an)o(y)l(.)19 b(If)14 b(the)g(expression)h(is)f(a)f
Fd(lambda)g Ff(form,)g(the)h(name)g(will)h(b)q(e)f(used)213
641 y(to)g(pro)o(vide)i(debugging)g(supp)q(ort.)258 704
y(F)l(or)f(eac)o(h)h(lexically)i(b)q(ound)f(v)m(ariable)g(the)f
(compile-time)i(en)o(vironmen)o(t)e(has)g(the)213 755
y(lo)q(cation)i(of)f(the)g(v)m(ariable)i(in)f(terms)f(of)g(the)h(n)o
(um)o(b)q(er)f(of)g(run-time)i(en)o(vironmen)o(ts)213
806 y(that)c(m)o(ust)g(b)q(e)i(c)o(hained)g(through)e(\(bac)o(k\))h
(and)g(the)g(index)h(of)e(the)h(v)m(ariable)i(within)213
856 y(the)f(\014nal)h(en)o(vironmen)o(t)f(\(o)o(v)o(er\).)25
b(F)l(or)16 b(eac)o(h)h(top-lev)o(el)i(v)m(ariable)f(the)g(en)o
(vironmen)o(t)213 907 y(has)g(either)g(a)g(lo)q(cation,)i(from)d(whic)o
(h)i(the)f(v)m(ariable's)h(v)m(alue)h(can)e(b)q(e)h(obtained)g(at)213
958 y(run)d(time,)g(a)g(sp)q(ecial)i(compilation)g(metho)q(d,)e(or)g(b)
q(oth.)22 b(F)l(or)16 b(a)g(v)m(ariable)h(b)q(ound)h(to)213
1009 y(a)c(primitiv)o(e)j(op)q(erator)d(the)h(compilation)h(metho)q(d)f
(is)h(a)f(pro)q(cedure)g(for)g(generating)213 1060 y(co)q(de)g(for)e
(the)i(op)q(erator.)j(If)d(the)f(v)m(ariable)i(is)f(b)q(ound)g(to)f(a)g
(macro,)f(the)i(compilation)213 1110 y(metho)q(d)k(is)g(a)g(co)q(de)h
(transformation)e(pro)q(cedure.)32 b(The)19 b(macro)g(facilit)o(y)h(is)
g(based)213 1161 y(on)e(the)g(system)f(describ)q(ed)j(in)f([3)o(].)28
b(Man)o(y)17 b(of)h(the)g(sp)q(ecial)i(forms)d(in)i(Sc)o(heme)f(are)213
1212 y(implemen)o(ted)f(using)e(macros.)258 1275 y(The)k(compiler)h
(itself)g(is)f(quite)g(simple.)33 b(Eac)o(h)18 b(pro)q(cedure)i(is)f
(compiled)i(in)o(to)d(a)213 1326 y(separate)i(template.)36
b(The)21 b(co)q(de)g(for)f(eac)o(h)h(c)o(hec)o(ks)f(the)h(n)o(um)o(b)q
(er)g(of)f(argumen)o(ts,)213 1376 y(mak)o(es)14 b(a)h(new)h(en)o
(vironmen)o(t)f(and)g(then)h(executes)g(the)f(b)q(o)q(dy)l(.)258
1439 y(Literal)h(v)m(alues)g(are)f(put)g(in)h(the)g(template,)f(and)g
(loaded)h(at)e(run)i(time)f(using)h(the)213 1490 y Fd(literal)f
Ff(instruction.)25 b(Eac)o(h)17 b(v)m(ariable)h(is)f(lo)q(ok)o(ed)g(up)
g(in)h(the)e(en)o(vironmen)o(t.)25 b(The)213 1541 y(instruction)17
b(generated)g(for)f(accessing)h(or)f(setting)g(the)h(v)m(ariable's)h(v)
m(alue)f(dep)q(ends)213 1592 y(on)c(the)h(denotation)f(returned.)20
b Fd(if)13 b Ff(is)h(compiled)h(using)f Fd(jump-if-false)e
Ff(and)i(then)213 1642 y Fd(jump)e Ff(to)f(reac)o(h)i(the)f(follo)o
(wing)i(piece)g(of)e(co)q(de.)19 b(A)13 b Fd(lambda)f
Ff(form)f(is)i(compiled)i(in)o(to)d(a)213 1693 y(template,)f(whic)o(h)h
(is)f(placed)h(in)g(the)f(curren)o(t)g(template)g(as)f(an)h(op)q(erand)
g(to)f Fd(closure)p Ff(.)213 1744 y Fd(begin)k Ff(concatenates)h(the)g
(co)q(de)h(generated)f(for)g(eac)o(h)g(expression.)258
1807 y(F)l(rom)d(the)h(p)q(oin)o(t)g(of)f(view)h(of)g(the)f(compiler)i
(there)f(are)f(three)h(kinds)h(of)e(pro)q(cedure)213
1858 y(calls:)20 b(calls)14 b(to)f(primitiv)o(es,)h(calls)h(to)d
Fd(lambda)h Ff(forms,)f(and)i(all)g(other)f(calls.)21
b(Calls)14 b(to)213 1909 y(primitiv)o(es)d(are)f(compiled)i(using)f
(the)g(pro)q(cedure)g(obtained)g(from)f(the)g(en)o(vironmen)o(t.)213
1959 y(The)h(co)q(de)g(for)f(other)h(calls)g(starts)f(with)h
Fd(make-cont)f Ff(if)h(the)g(call)h(is)f(not)f(tail-recursiv)o(e)213
2010 y(\(if)j(the)h Fd(cont)f Ff(argumen)o(t)g(to)g(the)h(compiler)h
(is)f(not)g Fd(return)p Ff(.\))k(Then)c(the)g(argumen)o(ts)213
2061 y(are)21 b(compiled)h(in)h(order)e(follo)o(w)o(ed)g(b)o(y)g
Fd(push)g Ff(instructions.)39 b(If)21 b(the)h(call)g(is)g(to)e(a)213
2112 y Fd(lambda)15 b Ff(form)h(the)h(co)q(de)h(for)e(the)g
Fd(lambda)g Ff(is)h(generated)g(in-line)j(to)c(sa)o(v)o(e)g(the)g(cost)
213 2163 y(of)g(creating)g(a)h(closure.)24 b(F)l(or)16
b(all)h(other)g(calls)g(co)q(de)g(to)f(ev)m(aluate)h(the)g(pro)q
(cedure)g(is)213 2213 y(compiled)g(follo)o(w)o(ed)e(b)o(y)g(a)g
Fd(call)g Ff(instruction.)258 2276 y(The)20 b(compiler)h(also)e(con)o
(tains)h(co)q(de)g(to)f(compile)i(pro)q(cedural)f(v)o(ersions)g(of)f
(the)213 2327 y(primitiv)o(es.)28 b(F)l(or)17 b(man)o(y)h(primitiv)o
(es,)h(suc)o(h)f(as)f Fd(+)p Ff(,)h(it)g(is)g(necessary)g(to)f(also)h
(ha)o(v)o(e)f(a)213 2378 y(pro)q(cedure)f(of)e(the)i(same)f(name)g
(that)f(in)o(v)o(ok)o(es)h(the)h(primitiv)o(e.)258 2441
y(The)f(output)f(of)g(the)g(compiler)i(is)f(passed)f(to)g(an)g(in)o
(ternal)h(assem)o(bler)g(whic)o(h)g(cal-)p 720 2568 462
2 v 720 2626 2 59 v 734 2606 a Fm(Draft)e(of)g(Jan)o(uary)h(31,)f(1994)
p 1180 2626 V 720 2628 462 2 v eop
%%Page: 18 18
18 17 bop 213 187 a Fm(18)1067 b(KELSEY)13 b(AND)g(REES)213
336 y Ff(culates)f(jump)g(o\013sets,)f(builds)j(the)e(v)o(ector)f(of)g
(v)m(alues)i(for)e(the)h(template,)h(and)f(mak)o(es)213
387 y(the)f(template)h(itself.)19 b(This)12 b(assem)o(bler)g(also)f
(pro)q(duces)h(a)f(structure)g(con)o(taining)h(an)o(y)213
438 y(debugging)g(information)f(emitted)h(b)o(y)g(the)f(compiler.)20
b(Some)11 b(of)g(this)h(information)f(is)213 489 y(indexed)k(b)o(y)e
(the)h(sections)g(of)f(the)g(assem)o(bled)i(co)q(de)f(to)f(whic)o(h)h
(it)g(p)q(ertains.)20 b(Debug-)213 539 y(ging)14 b(information)g
(includes)i(the)e(names)g(of)f(b)q(ound)i(v)m(ariables)g(and)f(their)g
(lo)q(cations)213 590 y(in)i(the)g(en)o(vironmen)o(t,)g(the)g(source)g
(co)q(de)h(for)e(pro)q(cedure)i(calls)g(and)f(their)g(con)o(tin)o(u-)
213 641 y(ations,)g(and)h(names)g(of)f(pro)q(cedures.)25
b(There)17 b(is)g(a)g(separate)f(assem)o(bler,)h(not)f(used)213
692 y(b)o(y)f(the)g(compiler,)h(that)f(can)g(assem)o(ble)h
(hand-written)f(b)o(yte-co)q(de)h(programs.)213 794 y
Fc(5.1.)51 b(Optimizations)258 884 y Ff(W)l(e)16 b(ha)o(v)o(e)g(added)h
(a)f(few)g(optimizations)h(to)f(the)g(compiler)h(and)g(the)f
(instruction)213 934 y(set)h(since)h(the)g(original)g(implemen)o
(tation.)28 b(There)17 b(are)h(quite)g(a)f(n)o(um)o(b)q(er)g(of)g
(other)213 985 y(optimizations)d(that)f(could)i(ha)o(v)o(e)e(b)q(een)i
(done)f(but)g(w)o(ere)g(not,)f(usually)i(b)q(ecause)g(the)213
1036 y(increase)g(in)g(execution)h(sp)q(eed)f(w)o(as)f(not)g(felt)g(to)
g(b)q(e)h(w)o(orth)f(the)g(added)h(complexit)o(y)l(.)213
1087 y(Among)k(the)g(optimizations)i(that)e(are)g(in)i(the)e(system)g
(are)h(sp)q(ecial)h(instructions)213 1138 y(for)d(accessing)i(lo)q(cal)
g(v)m(ariables)h(in)e(the)h(curren)o(t)f(en)o(vironmen)o(t)g(or)g(its)g
(immediate)213 1188 y(ancestors,)h(not)g(creating)h(closures)g(for)f
Fd(lambda)f Ff(forms)h(found)h(in)g(call)g(p)q(osition,)213
1239 y(not)14 b(creating)i(empt)o(y)f(en)o(vironmen)o(ts,)g(and)g(a)g
(few)g(others.)258 1302 y(The)i(instruction)g(set)f(has)h(not)f(b)q
(een)i(optimized)f(for)f(execution)i(sp)q(eed)f(or)f(co)q(de)213
1353 y(size)e(to)f(an)o(y)h(great)e(exten)o(t.)19 b(A)14
b(few)g(instructions,)g(suc)o(h)g(as)g(the)f Fd(string=?)19
b Ff(instruc-)213 1404 y(tion,)13 b(could)i(b)q(e)f(replaced)h(b)o(y)e
(signi\014gan)o(tly)i(slo)o(w)o(er)e(Sc)o(heme)h(co)q(de)g(in)h(the)e
(run-time)213 1454 y(system.)18 b(There)10 b(are)h(a)f(n)o(um)o(b)q(er)
h(of)f(common)g(sequences)i(of)e(instructions)i(that)e(could)213
1505 y(b)q(e)16 b(merged)f(in)o(to)g(single)i(instructions.)k(Exp)q
(erimen)o(ts)c(ha)o(v)o(e)d(determined)j(that)e(the)213
1556 y(resulting)i(sp)q(eed)g(up)g(is)f(not)g(large;)g(the)h(VM)e(do)q
(es)i(not)f(app)q(ear)g(to)g(b)q(e)g(sp)q(ending)i(a)213
1607 y(great)c(deal)i(of)f(its)g(time)h(in)g(fetc)o(hing)f
(instructions.)258 1670 y(Other)k(p)q(ossibilities)i(for)d(increased)h
(optimization)g(ab)q(ound.)30 b(Some)19 b(examples:)213
1720 y(calls)12 b(to)f(kno)o(wn)g(pro)q(cedures,)h(suc)o(h)g(as)f
(those)g(for)g(simple)i(lo)q(ops,)f(could)g(b)q(e)g(compiled)213
1771 y(as)h(jumps;)g(a)g Fd(jump-if-null)f Ff(instruction)i(w)o(ould)g
(sp)q(eed)g(up)g(list)g(pro)q(cessing)h(co)q(de;)213
1822 y(b)q(o)q(olean)d(expressions)f(could)h(b)q(e)g(compiled)h(for)d
(e\013ect;)i(leaf)f(pro)q(cedures)h(\(those)f(that)213
1873 y(do)k(not)g(create)g(other)f(pro)q(cedures\))i(don't)f(need)h(to)
e(create)h(en)o(vironmen)o(t)h(v)o(ectors.)258 1936 y(The)g(VM)f
(instructions)h(needed)h(for)e(man)o(y)g(suc)o(h)h(optimizations)g
(already)g(exist.)213 1987 y(Ho)o(w)o(ev)o(er,)e(the)h(compiler)i(w)o
(ould)f(ha)o(v)o(e)f(to)g(b)q(e)h(made)g(considerably)h(more)e(complex)
213 2037 y(in)k(order)f(to)g(mak)o(e)g(use)h(of)f(them.)30
b(Because)19 b(the)g(compiler)g(is)g(itself)h(usually)g(run)213
2088 y(using)13 b(Sc)o(heme)g(48,)f(additional)h(compiler)h(complexit)o
(y)f(carries)g(with)f(it)h(the)f(p)q(enalt)o(y)213 2139
y(of)j(signi\014gan)o(tly)h(slo)o(w)o(er)f(compilation)i(sp)q(eed.)22
b(A)15 b(system)g(w)o(as)g(built)i(that)e(did)h(not)213
2190 y(create)g(leaf)h(en)o(vironmen)o(ts.)23 b(In)17
b(our)f(judgemen)o(t,)h(the)f(increase)h(in)g(sp)q(eed)h(did)f(not)213
2241 y(mak)o(e)e(up)i(for)e(the)h(additional)i(complexit)o(y)e(and)h
(increased)g(compilation)g(time,)f(so)213 2291 y(this)f(optimization)h
(w)o(as)f(remo)o(v)o(ed.)258 2354 y(One)c(c)o(hange)f(that)g(migh)o(t)g
(or)g(migh)o(t)g(not)f(impro)o(v)o(e)i(the)f(simplicit)o(y)i(or)e(sp)q
(eed)h(of)f(the)213 2405 y(system)16 b(w)o(ould)h(b)q(e)g(to)f
(eliminate)j(the)d(v)m(alue)i(register)f(and)g(the)f
Fd(push)g Ff(instruction.)213 2456 y(The)10 b(v)m(alue)i(register)e(is)
h(equiv)m(alen)o(t)h(to)e(a)g(cac)o(he)g(for)g(the)h(top)f(of)f(the)i
(stac)o(k.)17 b(Remo)o(ving)p 720 2568 462 2 v 720 2626
2 59 v 734 2606 a Fm(Draft)c(of)g(Jan)o(uary)h(31,)f(1994)p
1180 2626 V 720 2628 462 2 v eop
%%Page: 19 19
19 18 bop 213 187 a Fm(TRA)o(CT)m(ABLE)11 b(SCHEME)j(IMPLEMENT)m(A)m
(TION)638 b(19)238 326 y Fd(primitive-scheme)119 b Ff(Sp)q(ecial)17
b(forms)d(and)i(pro)q(cedures)g(that)e(are)741 377 y(necessarily)i
(implemen)o(ted)h(directly)g(b)o(y)e(a)741 428 y(compiler)h(or)f(in)o
(terpreter:)20 b Fd(lambda)p Ff(,)14 b Fd(if)p Ff(,)g
Fd(car)p Ff(,)741 479 y Fd(read-char)p Ff(,)f(etc.)238
529 y Fd(usual-macros)215 b Ff(Sc)o(heme's)15 b(usual)h(deriv)o(ed)g
(expression)f(t)o(yp)q(es:)20 b Fd(let)p Ff(,)741 580
y Fd(cond)p Ff(,)14 b Fd(do)p Ff(,)g(etc.)238 631 y Fd(scheme-level-1)
167 b Ff(Pro)q(cedures)15 b(that)g(are)g(easily)h(implemen)o(ted)h(in)
741 682 y(terms)d(of)h Fd(primitive-scheme)p Ff(:)j Fd(not)p
Ff(,)c Fd(memq)p Ff(,)741 733 y Fd(equal?)p Ff(,)g(etc.)238
783 y Fd(numeric-tower)191 b Ff(Num)o(b)q(er)15 b(t)o(yp)q(es)h(other)e
(than)h(small)h(in)o(tegers)741 834 y(\(bign)o(um,)f(ratn)o(um,)f
(\015on)o(um,)h(recn)o(um\))238 885 y Fd(winding)335
b(call-with-current-contin)o(uation)12 b Ff(and)741 936
y Fd(dynamic-wind)238 987 y(number-i/o)263 b(number->string)13
b Ff(and)i Fd(string->number)238 1037 y(reading)335 b
Ff(The)15 b Fd(read)g Ff(pro)q(cedure)238 1088 y Fd(writing)335
b Ff(The)15 b Fd(write)g Ff(pro)q(cedure)238 1139 y Fd(evaluation)263
b(eval)14 b Ff(and)i Fd(load)238 1190 y(high-level-macros)95
b Ff(The)15 b Fd(syntax-rules)f Ff(macro)238 1241 y Fd(scheme)359
b Ff(Union)16 b(of)f(the)g(ab)q(o)o(v)o(e)g(in)o(terfaces)591
1333 y(T)l(able)h(5:)j(Sc)o(heme)d(language)g(in)o(terfaces)213
1471 y(it)21 b(w)o(ould)h(mak)o(e)f(the)h(arc)o(hitecture)g
(description)h(a)e(little)i(shorter.)38 b(The)22 b(size)g(of)213
1522 y(the)c(co)q(de)h(for)f(the)h(system)f(w)o(ould)h(b)q(e)g(essen)o
(tially)h(unc)o(hanged.)31 b(The)18 b(n)o(um)o(b)q(er)h(of)213
1572 y(VM)14 b(instructions)i(executed)g(w)o(ould)f(decrease,)g(as)f
(there)h(w)o(ould)g(not)g(b)q(e)g(an)o(y)g Fd(push)213
1623 y Ff(instructions,)j(but)g(man)o(y)f(of)g(the)h(instructions)g(w)o
(ould)g(ha)o(v)o(e)g(to)f(do)g(a)g(little)i(more)213
1674 y(w)o(ork.)213 1798 y Fg(6.)55 b(Run-time)16 b(library)213
1897 y Ff(The)g(b)o(yte-co)q(de)g(compiler)h(and)f(virtual)g(mac)o
(hine)h(implemen)o(t)g(a)e(core)h(Sc)o(heme)g(di-)213
1948 y(alect)i(that)f(w)o(e)g(call)i(Primitiv)o(e)g(Sc)o(heme.)28
b(Sc)o(heme)18 b(48's)f(run-time)i(library)f(builds)213
1999 y(additional)e(functionalit)o(y)h(on)e(top)g(of)f(Primitiv)o(e)j
(Sc)o(heme.)213 2100 y Fc(6.1.)51 b(Sc)o(heme)17 b(in)h(terms)e(of)i
(Primitiv)o(e)f(Sc)o(heme)258 2190 y Ff(The)e Fd(scheme)g
Ff(in)o(terface)g(sp)q(eci\014es)i(the)f(en)o(tire)f(Sc)o(heme)h
(language)g(as)e(de\014ned)j(b)o(y)213 2241 y(the)j(Revised)448
2225 y Fb(4)490 2241 y Ff(Rep)q(ort.)37 b Fd(scheme)20
b Ff(is)h(organized)h(as)e(the)h(union)h(of)e(a)g(n)o(um)o(b)q(er)h(of)
213 2292 y(smaller)15 b(in)o(terfaces)g(for)g(t)o(w)o(o)e(purp)q(oses:)
21 b(\(1\))14 b(con\014guring)h(small)h(systems)e(that)h(use)213
2343 y(only)k(particular)h(subsets)f(of)f(the)h(language,)h(and)f
(\(2\))f(structuring)h(implemen)o(ta-)213 2394 y(tions)c(of)g(the)g
(full)i(language.)258 2456 y(The)22 b(mo)q(dules)h(that)e(pro)o(vide)h
(implemen)o(tations)h(of)e Fd(scheme)p Ff('s)f(sub-in)o(terfaces)p
720 2568 462 2 v 720 2626 2 59 v 734 2606 a Fm(Draft)13
b(of)g(Jan)o(uary)h(31,)f(1994)p 1180 2626 V 720 2628
462 2 v eop
%%Page: 20 20
20 19 bop 213 187 a Fm(20)1067 b(KELSEY)13 b(AND)g(REES)213
336 y Ff(\(T)l(able)k(5\))f(are)h(straigh)o(tforw)o(ard,)e(for)h(the)h
(most)f(part.)24 b(The)17 b Fd(primitive-scheme)213 387
y Ff(in)o(terface)22 b(is)g(implemen)o(ted)h(directly)g(b)o(y)f(the)g
(b)o(yte-co)q(de)g(compiler)h(and)f(virtual)213 438 y(mac)o(hine,)e
(while)g(all)g(the)f(other)f(in)o(terfaces)h(ha)o(v)o(e)f(ordinary)h
(implemen)o(tations)h(as)213 489 y(Sc)o(heme)15 b(programs.)258
551 y(The)20 b(mo)q(dule)h(for)e Fd(numeric-tower)f Ff(is)i(more)f
(closely)i(tied)f(to)f(the)h(VM)f(arc)o(hi-)213 602 y(tecture)i(than)h
(most)f(of)g(the)h(other)f(library)i(mo)q(dules.)40 b(It)22
b(consists)g(of)f(a)h(set)f(of)213 653 y(exception)c(handlers)g(for)f
(the)h(VM's)e(arithmetic)i(instructions.)24 b(If)17 b(the)f(VM)h(in)o
(ter-)213 704 y(preter)12 b(encoun)o(ters)h(suc)o(h)h(an)e(instruction)
i(for)e(whic)o(h)i(the)f(argumen)o(ts)f(are)h(n)o(um)o(b)q(ers)213
755 y(that)h(are)i(not)f(implemen)o(ted)i(directly)g(b)o(y)f(the)f(VM,)
g(then)h(it)g(raises)g(an)f(exception.)213 806 y(The)f(exception)g(is)h
(handled)g(b)o(y)f(a)f(pro)q(cedure)i(that)e(dispatc)o(hes)h(to)f(an)h
(appropriate)213 856 y(sp)q(ecialist)21 b(function:)28
b(for)19 b(example,)h(if)g(the)f(t)o(w)o(o)f(argumen)o(ts)g(are)h
(large)g(in)o(tegers,)213 907 y(then)c(the)g(large)h(in)o(teger)f
(addition)h(routine)g(is)g(in)o(v)o(ok)o(ed.)258 970
y(F)l(ollo)o(wing)k(the)g(philosoph)o(y)h(of)e(minimizing)k(in)o
(ternal)d(dep)q(endencie)q(s,)j(the)d(n)o(u-)213 1021
y(meric)d(to)o(w)o(er)f(is)i(carefully)g(constructed)f(so)g(that)f(the)
i(n)o(umeric)g(t)o(yp)q(es)f(do)g(not)f(de-)213 1072
y(p)q(end)21 b(on)g(one)g(another.)35 b(It)21 b(is)g(p)q(ossible)i(to)d
(mak)o(e)g(use)h(of)f(an)o(y)g(com)o(bination)h(of)213
1122 y(n)o(um)o(b)q(er)13 b(t)o(yp)q(es;)h(for)f(example,)h(rational)g
(n)o(um)o(b)q(ers)g(can)g(b)q(e)g(used)g(in)g(the)g(absence)g(of)213
1173 y(large)h(in)o(tegers.)258 1236 y(The)e Fd(evaluation)e
Ff(in)o(terface)i(has)f(t)o(w)o(o)f(implemen)o(tations.)20
b(The)13 b(\014rst)f(is)h(a)f(simple)213 1287 y(meta-circular)18
b(in)o(terpreter)f(that)g(do)q(es)g(not)g(rely)h(on)f(the)g(virtual)h
(mac)o(hine)g(arc)o(hi-)213 1338 y(tecture.)h(The)d(second)g(implemen)o
(ts)g Fd(eval)f Ff(as)f(a)h(three-step)h(pro)q(cess:)268
1438 y(1.)22 b(In)o(v)o(ok)o(e)15 b(the)g(b)o(yte-co)q(de)h(compiler)h
(on)e(the)g(form,)f(pro)q(ducing)j(a)e(template.)268
1526 y(2.)22 b(Mak)o(e)c(a)h(closure)g(from)f(the)h(giv)o(en)g
(template)g(and)g(a)f(n)o(ull)j(lexical)f(en)o(viron-)326
1577 y(men)o(t.)32 b(\(Global)19 b(v)m(ariables)h(are)f(accessed)h(via)
f(the)h(template,)g(not)e(via)i(the)326 1628 y(en)o(vironmen)o(t)c
(comp)q(onen)o(t)f(of)g(the)g(closure.\))268 1716 y(3.)22
b(In)o(v)o(ok)o(e)15 b(the)g(closure)h(as)f(an)g(ordinary)h(pro)q
(cedure.)213 1816 y(Step)i(3)f(is)h(the)g(\\re\015ectiv)o(e")g(step)g
(that)f(starts)f(the)i(virtual)h(mac)o(hine)f(running)h(on)213
1867 y(the)c(newly)h(compiled)h(form.)258 1930 y(Man)o(y)c(of)g(these)h
(in)o(terfaces)g(include)i(en)o(try)d(p)q(oin)o(ts)h(that)e(do)i(not)f
(b)q(ecome)h(part)f(of)213 1980 y(Sc)o(heme.)19 b(F)l(or)10
b(example,)i(the)f Fd(numeric-tower)e Ff(in)o(terface)i(includes)i(the)
e(pro)q(cedures)213 2031 y(necessary)k(to)g(add)g(additional)i(t)o(yp)q
(es)e(of)g(n)o(um)o(b)q(ers.)213 2133 y Fc(6.2.)51 b(Big)18
b(Sc)o(heme)f(in)h(terms)f(of)g(Sc)o(heme)258 2223 y
Ff(\\Big)j(Sc)o(heme")h(consists)g(of)e(a)h(div)o(erse)h(collection)h
(of)e(utilities)i(and)f(language)213 2274 y(extensions)16
b(of)g(general)h(in)o(terest.)22 b(A)17 b(few)f(of)f(these)i(mo)q
(dules)g(are)e(used)i(in)g(the)f(im-)213 2324 y(plemen)o(tation)i(of)f
(the)g(basic)h(Sc)o(heme)g(library)l(.)28 b(F)l(or)16
b(example,)j(the)e(de\014nitions)i(of)213 2375 y Fd(current-input-port)
12 b Ff(and)k Fd(current-output-port)c Ff(are)j(in)h(terms)e(of)h
(dynamic)213 2426 y(v)m(ariables,)g(whic)o(h)f(come)g(from)f(the)h
Fd(fluids)f Ff(in)o(terface.)20 b(Also,)14 b(the)g(b)o(yte-co)q(de)g
(com-)213 2477 y(piler)20 b(mak)o(es)f(hea)o(vy)g(in)o(ternal)h(use)f
(of)g(records,)h(tables,)g(and)f(en)o(umerated)g(t)o(yp)q(es.)p
720 2568 462 2 v 720 2626 2 59 v 734 2606 a Fm(Draft)13
b(of)g(Jan)o(uary)h(31,)f(1994)p 1180 2626 V 720 2628
462 2 v eop
%%Page: 21 21
21 20 bop 213 187 a Fm(TRA)o(CT)m(ABLE)11 b(SCHEME)j(IMPLEMENT)m(A)m
(TION)638 b(21)238 326 y Fd(bitwise)335 b Ff(Bit)o(wise)16
b(logical)g(op)q(erations)f(on)h(in)o(tegers)238 377
y Fd(records)335 b Ff(Record)16 b(pac)o(k)m(age)238 428
y Fd(fluids)359 b Ff(Dynamically)16 b(b)q(ound)g(v)m(ariables)238
479 y Fd(enumerated)263 b Ff(En)o(umerated)15 b(t)o(yp)q(es)238
529 y Fd(tables)359 b Ff(Hash)15 b(tables)238 580 y Fd(byte-vectors)215
b Ff(Blo)q(c)o(ks)16 b(of)e(memory)h(accessible)i(b)o(y)e(b)o(yte,)g(w)
o(ord,)741 631 y(or)f(half-w)o(ord)238 682 y Fd(conditions)263
b Ff(Condition)16 b(system)238 733 y Fd(exceptions)263
b Ff(P)o(articular)15 b(conditions)h(for)f(errors)f(at)h(the)g(lev)o
(el)i(of)741 783 y Fd(primitive-scheme)238 834 y(interrupts)263
b Ff(Handling)16 b(async)o(hronous)f(in)o(terrupts;)g(critical)741
885 y(sections)238 936 y Fd(queues)359 b Ff(FIF)o(O)15
b(queues)238 987 y Fd(random)359 b Ff(Random)15 b(n)o(um)o(b)q(er)h
(generator)238 1037 y Fd(sort)407 b Ff(Sorting)15 b(lists)238
1088 y Fd(pp)455 b Ff(Prett)o(y-prin)o(ter)238 1139 y
Fd(format)359 b Ff(F)l(ormatted)14 b(output)238 1190
y Fd(extended-ports)167 b Ff(I/O)15 b(from/to)f(strings,)h(etc.)238
1241 y Fd(external-calls)167 b Ff(External)15 b(function)h(call)238
1292 y Fd(threads)335 b Ff(Multitasking)238 1342 y Fd(weak-pointers)191
b Ff(W)l(eak)15 b(p)q(oin)o(ters)238 1393 y Fd(big-scheme)263
b Ff(Union)16 b(of)f(the)g(ab)q(o)o(v)o(e)g(in)o(terfaces)527
1486 y(T)l(able)h(6:)j(Utilities)e(and)f(extensions)g(in)o(terfaces)213
1614 y(Other)f(mo)q(dules,)i(suc)o(h)e(as)h(conditions)g(and)g(in)o
(terrupts)g(are)f(used)h(in)g(the)g(dev)o(elop-)213 1665
y(men)o(t)h(en)o(vironmen)o(t)i(\(see)f(next)g(section\).)29
b(Still)20 b(other)d(mo)q(dules,)j(suc)o(h)e(as)g(m)o(ulti-)213
1716 y(tasking)12 b(and)h(external)g(calls,)h(are)e(useful)i(for)e
(general)h(applications)h(programming.)258 1779 y(Man)o(y)e(of)g(the)g
(in)o(terfaces)h(in)g(this)g(group)f(ha)o(v)o(e)g(t)o(w)o(o)f(implemen)
o(tations:)19 b(one)13 b(writ-)213 1830 y(ten)18 b(in)h(p)q(ortable)f
(Sc)o(heme,)i(and)e(another)g(that)f(exploits)i(sp)q(ecial)h(features)e
(of)g(the)213 1880 y(Sc)o(heme)j(48)f(virtual)h(mac)o(hine)h(arc)o
(hitecture.)37 b(F)l(or)20 b(example,)i(the)f(record)g(pac)o(k-)213
1931 y(age)15 b(has)h(a)g(p)q(ortable)h(implemen)o(tation)h(in)f(whic)o
(h)g(records)f(are)g(represen)o(ted)g(using)213 1982
y(v)o(ectors,)i(and)h(a)g(Sc)o(heme)h(48-sp)q(eci\014c)g(implemen)o
(tation)g(in)g(whic)o(h)g(records)f(are)f(a)213 2033
y(distinct)13 b(primitiv)o(e)h(t)o(yp)q(e.)k(The)13 b(p)q(ortable)g(v)o
(ersion)f(can)g(b)q(e)h(used)g(when)g(running)g(the)213
2084 y(link)o(er)h(or)f(other)h(applications)h(on)e(a)h(substrate)f
(other)g(than)g(Sc)o(heme)i(48,)e(while)i(the)213 2134
y(Sc)o(heme)20 b(48-sp)q(eci\014c)i(v)o(ersion)e(pro)o(vides)h
(increased)g(functionalit)o(y)l(,)h(p)q(erformance,)213
2185 y(or)14 b(debuggabilit)o(y)l(.)213 2287 y Fc(6.3.)51
b(Sc)o(heme)17 b(dev)o(elopmen)o(t)g(en)o(vironmen)o(t)258
2377 y Ff(A)k(complete)g(dev)o(elopmen)o(t)g(en)o(vironmen)o(t,)h
(comprising)g(b)o(yte-co)q(de)f(compiler,)213 2428 y(run-time)h
(library)l(,)i(a)d(command)h(pro)q(cessor,)h(and)f(debugging)g
(utilities,)j(can)d(b)q(e)213 2478 y(pac)o(k)m(aged)11
b(as)f(a)h(single)h(heap)f(image)g(for)f(execution)i(b)o(y)f(the)g(VM.)
f(This)h(image)g(can)g(b)q(e)p 720 2568 462 2 v 720 2626
2 59 v 734 2606 a Fm(Draft)i(of)g(Jan)o(uary)h(31,)f(1994)p
1180 2626 V 720 2628 462 2 v eop
%%Page: 22 22
22 21 bop 213 187 a Fm(22)1067 b(KELSEY)13 b(AND)g(REES)238
326 y Fd(command-processor)95 b Ff(Command-orien)o(ted)15
b(user)g(in)o(terface)238 377 y Fd(package-commands)119
b Ff(Commands)14 b(for)h(manipulating)i(mo)q(dules)238
428 y Fd(application-builder)47 b Ff(Application)17 b(image)e(builder)
238 479 y Fd(disclosers)263 b Ff(Extensions)15 b(to)f
Fd(write)g Ff(and)h Fd(display-condition)741 529 y Ff(to)f(assist)h(in)
h(debugging)238 580 y Fd(debugging)287 b Ff(T)l(race,)13
b(bac)o(ktrace,)g(time,)h(and)g(similar)g(commands)238
631 y Fd(inspector)287 b Ff(Data)14 b(structure,)g(stac)o(k,)g(and)i
(en)o(vironmen)o(t)741 682 y(insp)q(ector)238 733 y Fd(disassembler)215
b Ff(Byte-co)q(de)16 b(disassem)o(bler)499 825 y(T)l(able)g(7:)k(Dev)o
(elopmen)o(t)15 b(en)o(vironmen)o(t)h(in)o(terfaces)213
963 y(generated)11 b(b)o(y)g(the)g(b)o(yte)h(co)q(de)f(compiler)i(and)e
(link)o(er)i(using)f(an)o(y)f(implemen)o(tation)h(of)213
1013 y(standard)f(Sc)o(heme.)20 b(Sc)o(heme)13 b(48)f(is)h(\\b)q(o)q
(otstrapp)q(ed")f(only)g(in)i(the)e(straigh)o(tforw)o(ard)213
1064 y(sense)19 b(that)f(it)g(includes)j(an)e(implemen)o(tation)h(of)e
(standard)g(Sc)o(heme,)i(whic)o(h)f(is)g(a)213 1115 y(su\016cien)o(t)d
(basis)f(for)g(executing)h(the)f(co)q(de)h(necessary)f(for)g(it)g(to)g
(build)i(itself.)258 1178 y(The)12 b(command)g(pro)q(cessor)g(is)h
(part)e(of)h(the)g(Sc)o(heme)g(dev)o(elopmen)o(t)h(en)o(vironmen)o(t.)
213 1229 y(It)i(is)h(similar)g(to)f(an)g(ordinary)h(Lisp)g(read-ev)m
(aluate-prin)o(t)h(lo)q(op)f(in)g(that)f(it)h(rep)q(eat-)213
1279 y(edly)h(reads)g(and)g(executes)g(forms)f(\(expressions)h(and)g
(de\014nitions\),)h(but)f(di\013ers)g(in)213 1330 y(that)f(it)h(also)g
(accepts)h(requests)f(for)f(meta-lev)o(el)i(op)q(erations,)f(and)h
(these)f(requests)213 1381 y(\(called)k(commands\))e(are)h(syn)o
(tactically)g(distinguished)j(from)c(forms)g(to)g(b)q(e)h(exe-)213
1432 y(cuted.)g(Meta-lev)o(el)15 b(op)q(erations)g(include)i(obtaining)
e(bac)o(ktraces)f(or)g(trace)h(output,)213 1483 y(sp)q(ecifying)20
b(compiler)g(directiv)o(es,)g(measuring)e(execution)i(time,)f(and)f
(exiting)i(the)213 1534 y(dev)o(elopmen)o(t)c(en)o(vironmen)o(t.)23
b(The)16 b(purp)q(ose)g(for)g(this)g(distinction)i(is)e(to)g(lea)o(v)o
(e)g(the)213 1584 y(program)h(namespace)h(uncluttered)i(with)e
(bindings)i(of)e(op)q(erators)f(that)h(are)f(only)213
1635 y(meaningful)h(during)g(program)e(dev)o(elopmen)o(t.)26
b(F)l(or)16 b(example,)i(in)g(Common)e(Lisp,)213 1686
y(one)e(w)o(ould)h(sa)o(y)f Fd(\(trace)23 b(foo\))14
b Ff(to)g(request)h(tracing)g(output)f(for)g(calls)i(to)e
Fd(foo)p Ff(,)g(but)213 1737 y(in)h(the)g(Sc)o(heme)h(48)e(command)h
(pro)q(cessor)g(one)g(sa)o(ys)f Fd(,trace)23 b(foo)p
Ff(.)d(When)15 b(debug-)213 1788 y(ging)d(programs)e(that)h(mak)o(e)h
(use)g(of)f(the)h(mo)q(dule)h(system,)e(the)h(en)o(tire)h(command)e
(set)213 1838 y(remains)k(a)o(v)m(ailable)i(regardless)e(of)g(the)g
(curren)o(t)h(expression)g(ev)m(aluation)g(con)o(text.)213
1963 y Fg(7.)55 b(Discussion)213 2061 y Ff(Our)21 b(claim)i(is)f(that)e
(b)o(y)i(writing)f(Sc)o(heme)h(48)f(as)g(a)g(collection)j(of)c(largely)
i(inde-)213 2112 y(p)q(enden)o(t)17 b(mo)q(dules)h(w)o(e)f(ha)o(v)o(e)f
(pro)q(duced)i(a)e(sophisticated)i(and)f(extended)g(Sc)o(heme)213
2163 y(implemen)o(tation)i(that)f(is)g(reliable,)j(tractable,)e(and)f
(easy)g(to)g(mo)q(dify)l(.)29 b(Although)213 2214 y(w)o(e)19
b(ha)o(v)o(e)g(not)g(stressed)g(implemen)o(tation)i(e\016ciency)g(in)f
(this)g(pap)q(er,)g(Sc)o(heme)h(48)213 2265 y(is)e(a)f(reasonably)g
(fast)g(system,)g(and)h(is)g(in)g(use)g(as)f(a)g(turnk)o(ey)h(Sc)o
(heme)g(program-)213 2316 y(ming)f(system.)29 b(It)18
b(runs)h(at)f(appro)o(ximately)g(the)g(sp)q(eed)i(of)e(the)g(fastest)f
(a)o(v)m(ailable)213 2366 y(in)o(terpreters.)24 b(\(The)16
b(widely)i(di\013ering)g(implemen)o(tation)f(metho)q(dologies)h(mak)o
(e)e(it)213 2417 y(di\016cult)g(to)f(obtain)g(meaningful)i(n)o(um)o(b)q
(ers.\))258 2480 y(The)h(Sc)o(heme)h(48)e(system)h(has)g(b)q(een)h
(used)f(for)f(researc)o(h)h(in)h(memory)e(manage-)p 720
2568 462 2 v 720 2626 2 59 v 734 2606 a Fm(Draft)c(of)g(Jan)o(uary)h
(31,)f(1994)p 1180 2626 V 720 2628 462 2 v eop
%%Page: 23 23
23 22 bop 213 187 a Fm(TRA)o(CT)m(ABLE)11 b(SCHEME)j(IMPLEMENT)m(A)m
(TION)638 b(23)213 336 y Ff(men)o(t,)14 b(em)o(b)q(edded)j(systems,)d
(m)o(ultipro)q(cessing,)i(language)g(design,)g(and)f(computer)213
387 y(system)10 b(v)o(eri\014cation.)19 b(Sc)o(heme)11
b(48)f(w)o(as)g(c)o(hosen)h(as)f(the)h(platform)f(for)g(these)h(pro)s
(jects)213 438 y(b)q(ecause)16 b(of)f(its)g(in)o(ternal)h(tractabilit)o
(y)f(and)h(\015exibilit)o(y)l(.)258 501 y(P)o(aul)g(Wilson)h(has)f
(done)h(extensiv)o(e)g(researc)o(h)f(on)g(memory)f(managemen)o(t)h(tec)
o(h-)213 551 y(niques)h(using)g(an)f(early)g(v)o(ersion)g(of)g(Sc)o
(heme)h(48)e([12)o(,)h(13].)22 b(Because)16 b(of)g(its)g(virtual)213
602 y(mac)o(hine)j(arc)o(hitecture,)h(Sc)o(heme)g(48's)e(memory)g
(usage)h(patterns)g(are)f(similar)j(to)213 653 y(those)e(of)h(more)f
(complex)i(systems,)g(and)f(is)g(easier)h(to)e(mo)q(dify)i(and)f(exp)q
(erimen)o(t)213 704 y(with.)258 767 y(Sc)o(heme)d(48)e(is)i(curren)o
(tly)f(b)q(eing)h(used)g(to)e(program)g(mobile)i(rob)q(ots)f([9)o(].)22
b(Multi-)213 818 y(threaded)f(user)f(programs)g(are)g(executed)i(b)o(y)
e(the)h(virtual)g(mac)o(hine)h(on)e(an)h(em-)213 868
y(b)q(edded)h(pro)q(cessor)e(on)g(b)q(oard)g(the)h(rob)q(ot,)f(while)i
(the)e(b)o(yte-co)q(de)h(compiler)h(and)213 919 y(dev)o(elopmen)o(t)13
b(en)o(vironmen)o(t)g(run)g(on)g(a)g(w)o(ork)f(station)g(using)i(a)e
(Sc)o(heme)i(implemen-)213 970 y(tation)i(built)h(on)g(top)e(of)h
(Common)g(Lisp.)24 b(Programs)15 b(are)h(compiled)i(on)e(the)h(w)o(ork)
213 1021 y(station)c(and)g(then)h(do)o(wnloaded)g(to)f(the)h(rob)q(ot)f
(via)g(a)h(detac)o(hable)g(tether.)19 b(The)14 b(on-)213
1072 y(b)q(oard)k(comp)q(onen)o(t)h(of)g(the)g(system)f(uses)h(the)g
(standard)g(virtual)g(mac)o(hine)h(\(with)213 1122 y(some)c(additional)
i(hardw)o(are)f(op)q(erations\))f(and)h(a)g(stripp)q(ed)h(do)o(wn)e(v)o
(ersion)h(of)g(the)213 1173 y(run-time)f(library)l(.)23
b(There)16 b(is)g(no)g(need)g(for)f(a)h(read-ev)m(al-prin)o(t)h(lo)q
(op)f(on)g(b)q(oard,)g(for)213 1224 y(example,)21 b(and)f(the)f(system)
h(\014ts)f(easily)i(within)g(the)f(limited)h(memory)e(a)o(v)m(ailable)
213 1275 y(on)h(the)h(rob)q(ot)g(\(0.5)e(megab)o(ytes)i(of)f(RAM)h(and)
g(0.25)f(megab)o(ytes)g(of)h(EPR)o(OM\).)213 1326 y(The)15
b(virtual)i(mac)o(hine)f(and)g(the)g(initial)h(heap)f(image)g(tak)o(e)f
(up)h(21)f(and)h(80)f(kb)o(ytes,)213 1376 y(resp)q(ectiv)o(ely)l(,)h
(of)f(the)g(EPR)o(OM.)258 1439 y(Olin)k(Shiv)o(ers)f(used)g(Sc)o(heme)g
(48)f(as)g(a)g(substrate)f(for)h Fd(scsh)p Ff(,)g(a)g(Unix)h(shell)h
(pro-)213 1490 y(gramming)j(language)g(based)h(on)g(Sc)o(heme)g(that)f
(giv)o(es)h(the)f(user)h(full)h(access)f(to)213 1541
y(existing)15 b(Unix)h(programs.)j(Sc)o(heme)c(48)f(w)o(as)g(c)o(hosen)
h(b)q(ecause)h(it)f(pro)o(vides)h(a)e(go)q(o)q(d)213
1592 y(programming)i(en)o(vironmen)o(t,)i(a)g(general)g(exception)g
(handling)h(mec)o(hanism,)g(and)213 1642 y(the)d(abilit)o(y)i(to)d(mak)
o(e)h(small)h(stand-alone)g(programs,)e(all)i(of)f(whic)o(h)h(are)f
(desirable)213 1693 y(for)e(a)h(shell)i(programming)d(language.)258
1756 y(The)f(VLISP)h(pro)s(ject)f(at)f(MITRE)h(Corp)q(oration)g(and)g
(Northeastern)f(Univ)o(ersit)o(y)213 1807 y(used)20 b(Sc)o(heme)g(48)f
(as)g(the)h(basis)g(for)f(a)g(fully)i(v)o(eri\014ed)g(Sc)o(heme)f
(implemen)o(tation.)213 1858 y(The)d(existence)h(of)f(the)g(virtual)g
(mac)o(hine)h(in)o(terface,)f(the)g(simplicit)o(y)i(of)e(the)g(b)o
(yte-)213 1909 y(co)q(de)j(compiler,)i(and)e(the)g(fact)f(that)h(the)f
(en)o(tire)i(system)e(is)i(written)f(in)g(Sc)o(heme)213
1959 y(com)o(bined)h(to)e(greatly)h(simplify)i(the)e(v)o(eri\014cation)
h(pro)q(cess.)35 b(The)20 b(fact)f(that)h(the)213 2010
y(VLISP)e(pro)s(ject)f(w)o(as)g(able)h(to)f(adopt)g(m)o(uc)o(h)h(of)f
(Sc)o(heme)h(48's)f(design)h(unc)o(hanged)213 2061 y(corrob)q(orates)c
(our)h(claim)h(that)e(Sc)o(heme)i(48)f(is)g(tractable)g(and)h
(reliable.)213 2185 y Fg(References)235 2284 y Ff(1.)22
b(IEEE)f(Std)g(1178-1990.)34 b Fa(IEEE)21 b(Standard)g(for)f(the)h(Sc)o
(heme)g(Programming)293 2335 y(Language)p Ff(.)26 b(Institute)17
b(of)g(Electrical)i(and)e(Electronic)h(Engineers,)g(Inc.,)f(New)293
2386 y(Y)l(ork,)e(NY)g(\(1991\).)235 2474 y(2.)22 b(Clinger,)12
b(William.)19 b(The)11 b(sc)o(heme)g(311)f(compiler:)h(An)g(exercise)g
(in)h(denotational)p 720 2568 462 2 v 720 2626 2 59 v
734 2606 a Fm(Draft)h(of)g(Jan)o(uary)h(31,)f(1994)p
1180 2626 V 720 2628 462 2 v eop
%%Page: 24 24
24 23 bop 213 187 a Fm(24)1067 b(KELSEY)13 b(AND)g(REES)293
336 y Ff(seman)o(tics.)36 b(In)22 b Fa(Pro)q(c.)e(1984)f(A)o(CM)h(Symp)
q(osium)i(on)e(Lisp)i(and)f(F)l(unctional)293 387 y(Programming)15
b Ff(\(August)f(1984\))g(356{364.)235 475 y(3.)22 b(Clinger,)13
b(William)h(and)f(Rees,)f(Jonathan.)19 b(Macros)11 b(that)g(w)o(ork.)18
b(In)13 b Fa(Conf.)e(Rec.)293 526 y(18)j(A)o(CM)g(Symp)q(osium)h(on)g
(Principles)h(of)e(Programming)g(Languages)g Ff(\(1991\).)235
614 y(4.)22 b(Curtis,)f(P)o(a)o(v)o(el)f(and)i(Rauen,)f(James.)37
b(A)21 b(mo)q(dule)h(system)e(for)g(sc)o(heme.)37 b(In)293
665 y Fa(Pro)q(c.)22 b(1990)f(A)o(CM)g(Symp)q(osium)i(on)f(Lisp)h(and)f
(F)l(unctional)h(Programming)293 716 y Ff(\(1990\))14
b(13{19.)235 804 y(5.)22 b(Kelsey)l(,)g(Ric)o(hard.)35
b Fa(T)l(ail-Recursiv)o(e)22 b(Stac)o(k)e(Disciplines)j(for)c(an)h(In)o
(terpreter)p Ff(.)293 855 y(T)l(ec)o(hnical)i(Rep)q(ort)e
(NU-CCS-93-03,)f(Northeastern)g(Univ)o(ersit)o(y)i(College)f(of)293
906 y(Computer)15 b(Science,)i(Boston,)d(MA)h(\(1992\).)235
994 y(6.)22 b(Kelsey)l(,)e(Ric)o(hard)g(and)f(Hudak,)g(P)o(aul.)31
b(Realistic)21 b(compilation)f(b)o(y)f(program)293 1045
y(transformation.)32 b(In)20 b Fa(Conf.)f(Rec.)h(16)f(A)o(CM)g(Symp)q
(osium)i(on)e(Principles)j(of)293 1095 y(Programming)15
b(Languages)g Ff(\(1989\))e(281{292.)235 1184 y(7.)22
b(Lee,)13 b(P)o(eter.)18 b Fa(T)l(opics)13 b(in)h(Adv)m(anced)f
(Language)g(Implemen)o(tation)p Ff(.)19 b(MIT)13 b(Press,)293
1234 y(Cam)o(bridge,)i(MA)g(\(1991\).)235 1323 y(8.)22
b(MacQueen,)c(Da)o(vid)f(B.)25 b(Mo)q(dules)17 b(for)g(standard)f(ML.)
25 b(In)18 b Fa(Pro)q(c.)e(1984)g(A)o(CM)293 1373 y(Symp)q(osium)h(on)e
(Lisp)h(and)f(F)l(unctional)i(Programming)d Ff(\(1984\))g(198{207.)235
1462 y(9.)22 b(Rees,)14 b(Jonathan)g(and)g(Donald,)f(Bruce.)20
b(Program)13 b(mobile)h(rob)q(ots)f(in)i(sc)o(heme.)293
1512 y(In)f Fa(Pro)q(ceedings)h(of)d(the)i(1992)e(IEEE)h(In)o
(ternational)h(Conference)g(on)f(Rob)q(otics)293 1563
y(and)j(Automation)f Ff(\(1992\))e(2681{2688.)213 1651
y(10.)21 b(Steele,)14 b(Guy)g(L.)19 b Fa(Common)13 b(Lisp:)h(the)f
(Language)p Ff(.)19 b(Digital)14 b(Press,)f(Burlington)293
1702 y(MA,)i(second)h(edition)g(\(1990\).)213 1790 y(11.)21
b(T)l(arditi,)15 b(D.,)e(Ac)o(hary)o(a,)g(A.,)g(and)h(Lee.,)g(P)l(.)20
b Fa(No)14 b(Assem)o(bly)g(Required:)i(Compil-)293 1841
y(ing)e(Standard)f(ML)g(to)g(C)p Ff(.)19 b(T)l(ec)o(hnical)c(Rep)q
(ort,)e(Sc)o(ho)q(ol)h(of)f(Computer)f(Science,)293 1892
y(Carnegie)k(Mellon)g(Univ)o(ersit)o(y)g(\(1991\).)213
1980 y(12.)21 b(Wilson,)e(P)o(aul)f(R.)g(and)g(Moher,)g(Thomas)f(G.)28
b(Design)18 b(of)g(the)g(opp)q(ortunistic)293 2031 y(garbage)g
(collector.)31 b(In)19 b Fa(Pro)q(ceedings)h(of)e(the)h(Sigplan)h(1989)
e(Conference)h(on)293 2082 y(Ob)s(ject-Orien)o(ted)d(Programming:)d
(Systems,)h(Languages,)g(and)h(Applications)293 2132
y Ff(\(1989\).)213 2221 y(13.)21 b(Wilson,)g(P)o(aul)e(R.,)h(Lam,)f
(Mic)o(heal)i(S,)e(and)h(Moher,)f(Thomas)g(G.)33 b(E\013ectiv)o(e)293
2271 y(\\static-graph")17 b(reorganization)h(to)e(impro)o(v)o(e)i(lo)q
(calit)o(y)g(in)h(garbage)d(collected)293 2322 y(systems.)25
b(In)17 b Fa(Pro)q(ceedings)h(of)e(the)h(Sigplan)h(1988)e(Conference)h
(on)g(Program-)293 2373 y(ming)f(Language)f(Design)h(and)f(Implemen)o
(tation)h Ff(\(1991\).)p 720 2568 462 2 v 720 2626 2
59 v 734 2606 a Fm(Draft)d(of)g(Jan)o(uary)h(31,)f(1994)p
1180 2626 V 720 2628 462 2 v eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
